(function(Me,Hr){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=Me.document?Hr(Me,!0):function(mn){if(!mn.document)throw new Error("jQuery requires a window with a document");return Hr(mn)}:Hr(Me)})(typeof window<"u"?window:this,function(Me,Hr){"use strict";var mn=[],Zr=Object.getPrototypeOf,jr=mn.slice,Xr=mn.flat?function(h){return mn.flat.call(h)}:function(h){return mn.concat.apply([],h)},Ai=mn.push,Lr=mn.indexOf,Zn={},Kr=Zn.toString,$r=Zn.hasOwnProperty,Ki=$r.toString,tn=Ki.call(Object),mr={},Dr=function(h){return"function"==typeof h&&"number"!=typeof h.nodeType&&"function"!=typeof h.item},Rn=function(h){return null!=h&&h===h.window},kr=Me.document,Ni={type:!0,src:!0,nonce:!0,noModule:!0};function xi(h,g,w){var F,K,Y=(w=w||kr).createElement("script");if(Y.text=h,g)for(F in Ni)(K=g[F]||g.getAttribute&&g.getAttribute(F))&&Y.setAttribute(F,K);w.head.appendChild(Y).parentNode.removeChild(Y)}function Pn(h){return null==h?h+"":"object"==typeof h||"function"==typeof h?Zn[Kr.call(h)]||"object":typeof h}var zi=/HTML$/i,L=function(h,g){return new L.fn.init(h,g)};function pA(h){var g=!!h&&"length"in h&&h.length,w=Pn(h);return!Dr(h)&&!Rn(h)&&("array"===w||0===g||"number"==typeof g&&0<g&&g-1 in h)}function ke(h,g){return h.nodeName&&h.nodeName.toLowerCase()===g.toLowerCase()}L.fn=L.prototype={jquery:"3.7.1",constructor:L,length:0,toArray:function(){return jr.call(this)},get:function(h){return null==h?jr.call(this):h<0?this[h+this.length]:this[h]},pushStack:function(h){var g=L.merge(this.constructor(),h);return g.prevObject=this,g},each:function(h){return L.each(this,h)},map:function(h){return this.pushStack(L.map(this,function(g,w){return h.call(g,w,g)}))},slice:function(){return this.pushStack(jr.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(L.grep(this,function(h,g){return(g+1)%2}))},odd:function(){return this.pushStack(L.grep(this,function(h,g){return g%2}))},eq:function(h){var g=this.length,w=+h+(h<0?g:0);return this.pushStack(0<=w&&w<g?[this[w]]:[])},end:function(){return this.prevObject||this.constructor()},push:Ai,sort:mn.sort,splice:mn.splice},L.extend=L.fn.extend=function(){var h,g,w,F,K,Y,ut=arguments[0]||{},Dt=1,_t=arguments.length,te=!1;for("boolean"==typeof ut&&(te=ut,ut=arguments[Dt]||{},Dt++),"object"==typeof ut||Dr(ut)||(ut={}),Dt===_t&&(ut=this,Dt--);Dt<_t;Dt++)if(null!=(h=arguments[Dt]))for(g in h)F=h[g],"__proto__"!==g&&ut!==F&&(te&&F&&(L.isPlainObject(F)||(K=Array.isArray(F)))?(w=ut[g],Y=K&&!Array.isArray(w)?[]:K||L.isPlainObject(w)?w:{},K=!1,ut[g]=L.extend(te,Y,F)):void 0!==F&&(ut[g]=F));return ut},L.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(h){throw new Error(h)},noop:function(){},isPlainObject:function(h){var g,w;return!(!h||"[object Object]"!==Kr.call(h)||(g=Zr(h))&&("function"!=typeof(w=$r.call(g,"constructor")&&g.constructor)||Ki.call(w)!==tn))},isEmptyObject:function(h){var g;for(g in h)return!1;return!0},globalEval:function(h,g,w){xi(h,{nonce:g&&g.nonce},w)},each:function(h,g){var w,F=0;if(pA(h))for(w=h.length;F<w&&!1!==g.call(h[F],F,h[F]);F++);else for(F in h)if(!1===g.call(h[F],F,h[F]))break;return h},text:function(h){var g,w="",F=0,K=h.nodeType;if(!K)for(;g=h[F++];)w+=L.text(g);return 1===K||11===K?h.textContent:9===K?h.documentElement.textContent:3===K||4===K?h.nodeValue:w},makeArray:function(h,g){var w=g||[];return null!=h&&(pA(Object(h))?L.merge(w,"string"==typeof h?[h]:h):Ai.call(w,h)),w},inArray:function(h,g,w){return null==g?-1:Lr.call(g,h,w)},isXMLDoc:function(h){var w=h&&(h.ownerDocument||h).documentElement;return!zi.test(h&&h.namespaceURI||w&&w.nodeName||"HTML")},merge:function(h,g){for(var w=+g.length,F=0,K=h.length;F<w;F++)h[K++]=g[F];return h.length=K,h},grep:function(h,g,w){for(var F=[],K=0,Y=h.length,ut=!w;K<Y;K++)!g(h[K],K)!==ut&&F.push(h[K]);return F},map:function(h,g,w){var F,K,Y=0,ut=[];if(pA(h))for(F=h.length;Y<F;Y++)null!=(K=g(h[Y],Y,w))&&ut.push(K);else for(Y in h)null!=(K=g(h[Y],Y,w))&&ut.push(K);return Xr(ut)},guid:1,support:mr}),"function"==typeof Symbol&&(L.fn[Symbol.iterator]=mn[Symbol.iterator]),L.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(h,g){Zn["[object "+g+"]"]=g.toLowerCase()});var _i=mn.pop,ki=mn.sort,Ve=mn.splice,Ht="[\\x20\\t\\r\\n\\f]",D=new RegExp("^"+Ht+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ht+"+$","g");L.contains=function(h,g){var w=g&&g.parentNode;return h===w||!(!w||1!==w.nodeType||!(h.contains?h.contains(w):h.compareDocumentPosition&&16&h.compareDocumentPosition(w)))};var gi=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Yn(h,g){return g?"\0"===h?"\ufffd":h.slice(0,-1)+"\\"+h.charCodeAt(h.length-1).toString(16)+" ":"\\"+h}L.escapeSelector=function(h){return(h+"").replace(gi,Yn)};var Fn=kr,pi=Ai;!function(){var h,g,w,F,K,Y,ut,Dt,_t,te,se=pi,Ce=L.expando,ue=0,Se=0,ar=ie(),xr=ie(),Br=ie(),Mn=ie(),ci=function(Lt,zt){return Lt===zt&&(K=!0),0},Ci="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",fn="(?:\\\\[\\da-fA-F]{1,6}"+Ht+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",rn="\\["+Ht+"*("+fn+")(?:"+Ht+"*([*^$|!~]?=)"+Ht+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+fn+"))|)"+Ht+"*\\]",cn=":("+fn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rn+")*)|.*)\\)|)",hr=new RegExp(Ht+"+","g"),yn=new RegExp("^"+Ht+"*,"+Ht+"*"),PA=new RegExp("^"+Ht+"*([>+~]|"+Ht+")"+Ht+"*"),SA=new RegExp(Ht+"|>"),qi=new RegExp(cn),FA=new RegExp("^"+fn+"$"),TA={ID:new RegExp("^#("+fn+")"),CLASS:new RegExp("^\\.("+fn+")"),TAG:new RegExp("^("+fn+"|[*])"),ATTR:new RegExp("^"+rn),PSEUDO:new RegExp("^"+cn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ht+"*(even|odd|(([+-]|)(\\d*)n|)"+Ht+"*(?:([+-]|)"+Ht+"*(\\d+)|))"+Ht+"*\\)|)","i"),bool:new RegExp("^(?:"+Ci+")$","i"),needsContext:new RegExp("^"+Ht+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ht+"*((?:-\\d)?\\d*)"+Ht+"*\\)|)(?=[^-]|$)","i")},oA=/^(?:input|select|textarea|button)$/i,ZA=/^h\d$/i,lA=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Li=/[+~]/,_n=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ht+"?|\\\\([^\\r\\n\\f])","g"),Si=function(Lt,zt){var ce="0x"+Lt.slice(1)-65536;return zt||(ce<0?String.fromCharCode(ce+65536):String.fromCharCode(ce>>10|55296,1023&ce|56320))},O=function(){pn()},Ct=wi(function(Lt){return!0===Lt.disabled&&ke(Lt,"fieldset")},{dir:"parentNode",next:"legend"});try{se.apply(mn=jr.call(Fn.childNodes),Fn.childNodes)}catch{se={apply:function(zt,ce){pi.apply(zt,jr.call(ce))},call:function(zt){pi.apply(zt,jr.call(arguments,1))}}}function Rt(Lt,zt,ce,ge){var Le,or,Je,Be,rr,zr,ae,Nr=zt&&zt.ownerDocument,sn=zt?zt.nodeType:9;if(ce=ce||[],"string"!=typeof Lt||!Lt||1!==sn&&9!==sn&&11!==sn)return ce;if(!ge&&(pn(zt),zt=zt||Y,Dt)){if(11!==sn&&(rr=lA.exec(Lt)))if(Le=rr[1]){if(9===sn){if(!(Je=zt.getElementById(Le)))return ce;if(Je.id===Le)return se.call(ce,Je),ce}else if(Nr&&(Je=Nr.getElementById(Le))&&Rt.contains(zt,Je)&&Je.id===Le)return se.call(ce,Je),ce}else{if(rr[2])return se.apply(ce,zt.getElementsByTagName(Lt)),ce;if((Le=rr[3])&&zt.getElementsByClassName)return se.apply(ce,zt.getElementsByClassName(Le)),ce}if(!(Mn[Lt+" "]||_t&&_t.test(Lt))){if(ae=Lt,Nr=zt,1===sn&&(SA.test(Lt)||PA.test(Lt))){for((Nr=Li.test(Lt)&&hi(zt.parentNode)||zt)==zt&&mr.scope||((Be=zt.getAttribute("id"))?Be=L.escapeSelector(Be):zt.setAttribute("id",Be=Ce)),or=(zr=OA(Lt)).length;or--;)zr[or]=(Be?"#"+Be:":scope")+" "+dA(zr[or]);ae=zr.join(",")}try{return se.apply(ce,Nr.querySelectorAll(ae)),ce}catch{Mn(Lt,!0)}finally{Be===Ce&&zt.removeAttribute("id")}}}return as(Lt.replace(D,"$1"),zt,ce,ge)}function ie(){var Lt=[];return function zt(ce,ge){return Lt.push(ce+" ")>g.cacheLength&&delete zt[Lt.shift()],zt[ce+" "]=ge}}function ve(Lt){return Lt[Ce]=!0,Lt}function Pe(Lt){var zt=Y.createElement("fieldset");try{return!!Lt(zt)}catch{return!1}finally{zt.parentNode&&zt.parentNode.removeChild(zt),zt=null}}function dr(Lt){return function(zt){return ke(zt,"input")&&zt.type===Lt}}function Gr(Lt){return function(zt){return(ke(zt,"input")||ke(zt,"button"))&&zt.type===Lt}}function nn(Lt){return function(zt){return"form"in zt?zt.parentNode&&!1===zt.disabled?"label"in zt?"label"in zt.parentNode?zt.parentNode.disabled===Lt:zt.disabled===Lt:zt.isDisabled===Lt||zt.isDisabled!==!Lt&&Ct(zt)===Lt:zt.disabled===Lt:"label"in zt&&zt.disabled===Lt}}function wn(Lt){return ve(function(zt){return zt=+zt,ve(function(ce,ge){for(var Le,or=Lt([],ce.length,zt),Je=or.length;Je--;)ce[Le=or[Je]]&&(ce[Le]=!(ge[Le]=ce[Le]))})})}function hi(Lt){return Lt&&typeof Lt.getElementsByTagName<"u"&&Lt}function pn(Lt){var zt,ce=Lt?Lt.ownerDocument||Lt:Fn;return ce!=Y&&9===ce.nodeType&&ce.documentElement&&(ut=(Y=ce).documentElement,Dt=!L.isXMLDoc(Y),te=ut.matches||ut.webkitMatchesSelector||ut.msMatchesSelector,ut.msMatchesSelector&&Fn!=Y&&(zt=Y.defaultView)&&zt.top!==zt&&zt.addEventListener("unload",O),mr.getById=Pe(function(ge){return ut.appendChild(ge).id=L.expando,!Y.getElementsByName||!Y.getElementsByName(L.expando).length}),mr.disconnectedMatch=Pe(function(ge){return te.call(ge,"*")}),mr.scope=Pe(function(){return Y.querySelectorAll(":scope")}),mr.cssHas=Pe(function(){try{return Y.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),mr.getById?(g.filter.ID=function(ge){var Le=ge.replace(_n,Si);return function(or){return or.getAttribute("id")===Le}},g.find.ID=function(ge,Le){if(typeof Le.getElementById<"u"&&Dt){var or=Le.getElementById(ge);return or?[or]:[]}}):(g.filter.ID=function(ge){var Le=ge.replace(_n,Si);return function(or){var Je=typeof or.getAttributeNode<"u"&&or.getAttributeNode("id");return Je&&Je.value===Le}},g.find.ID=function(ge,Le){if(typeof Le.getElementById<"u"&&Dt){var or,Je,Be,rr=Le.getElementById(ge);if(rr){if((or=rr.getAttributeNode("id"))&&or.value===ge)return[rr];for(Be=Le.getElementsByName(ge),Je=0;rr=Be[Je++];)if((or=rr.getAttributeNode("id"))&&or.value===ge)return[rr]}return[]}}),g.find.TAG=function(ge,Le){return typeof Le.getElementsByTagName<"u"?Le.getElementsByTagName(ge):Le.querySelectorAll(ge)},g.find.CLASS=function(ge,Le){if(typeof Le.getElementsByClassName<"u"&&Dt)return Le.getElementsByClassName(ge)},_t=[],Pe(function(ge){var Le;ut.appendChild(ge).innerHTML="<a id='"+Ce+"' href='' disabled='disabled'></a><select id='"+Ce+"-\r\\' disabled='disabled'><option selected=''></option></select>",ge.querySelectorAll("[selected]").length||_t.push("\\["+Ht+"*(?:value|"+Ci+")"),ge.querySelectorAll("[id~="+Ce+"-]").length||_t.push("~="),ge.querySelectorAll("a#"+Ce+"+*").length||_t.push(".#.+[+~]"),ge.querySelectorAll(":checked").length||_t.push(":checked"),(Le=Y.createElement("input")).setAttribute("type","hidden"),ge.appendChild(Le).setAttribute("name","D"),ut.appendChild(ge).disabled=!0,2!==ge.querySelectorAll(":disabled").length&&_t.push(":enabled",":disabled"),(Le=Y.createElement("input")).setAttribute("name",""),ge.appendChild(Le),ge.querySelectorAll("[name='']").length||_t.push("\\["+Ht+"*name"+Ht+"*="+Ht+"*(?:''|\"\")")}),mr.cssHas||_t.push(":has"),_t=_t.length&&new RegExp(_t.join("|")),ci=function(ge,Le){if(ge===Le)return K=!0,0;var or=!ge.compareDocumentPosition-!Le.compareDocumentPosition;return or||(1&(or=(ge.ownerDocument||ge)==(Le.ownerDocument||Le)?ge.compareDocumentPosition(Le):1)||!mr.sortDetached&&Le.compareDocumentPosition(ge)===or?ge===Y||ge.ownerDocument==Fn&&Rt.contains(Fn,ge)?-1:Le===Y||Le.ownerDocument==Fn&&Rt.contains(Fn,Le)?1:F?Lr.call(F,ge)-Lr.call(F,Le):0:4&or?-1:1)}),Y}for(h in Rt.matches=function(Lt,zt){return Rt(Lt,null,null,zt)},Rt.matchesSelector=function(Lt,zt){if(pn(Lt),Dt&&!Mn[zt+" "]&&(!_t||!_t.test(zt)))try{var ce=te.call(Lt,zt);if(ce||mr.disconnectedMatch||Lt.document&&11!==Lt.document.nodeType)return ce}catch{Mn(zt,!0)}return 0<Rt(zt,Y,null,[Lt]).length},Rt.contains=function(Lt,zt){return(Lt.ownerDocument||Lt)!=Y&&pn(Lt),L.contains(Lt,zt)},Rt.attr=function(Lt,zt){(Lt.ownerDocument||Lt)!=Y&&pn(Lt);var ce=g.attrHandle[zt.toLowerCase()],ge=ce&&$r.call(g.attrHandle,zt.toLowerCase())?ce(Lt,zt,!Dt):void 0;return void 0!==ge?ge:Lt.getAttribute(zt)},Rt.error=function(Lt){throw new Error("Syntax error, unrecognized expression: "+Lt)},L.uniqueSort=function(Lt){var zt,ce=[],ge=0,Le=0;if(K=!mr.sortStable,F=!mr.sortStable&&jr.call(Lt,0),ki.call(Lt,ci),K){for(;zt=Lt[Le++];)zt===Lt[Le]&&(ge=ce.push(Le));for(;ge--;)Ve.call(Lt,ce[ge],1)}return F=null,Lt},L.fn.uniqueSort=function(){return this.pushStack(L.uniqueSort(jr.apply(this)))},(g=L.expr={cacheLength:50,createPseudo:ve,match:TA,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Lt){return Lt[1]=Lt[1].replace(_n,Si),Lt[3]=(Lt[3]||Lt[4]||Lt[5]||"").replace(_n,Si),"~="===Lt[2]&&(Lt[3]=" "+Lt[3]+" "),Lt.slice(0,4)},CHILD:function(Lt){return Lt[1]=Lt[1].toLowerCase(),"nth"===Lt[1].slice(0,3)?(Lt[3]||Rt.error(Lt[0]),Lt[4]=+(Lt[4]?Lt[5]+(Lt[6]||1):2*("even"===Lt[3]||"odd"===Lt[3])),Lt[5]=+(Lt[7]+Lt[8]||"odd"===Lt[3])):Lt[3]&&Rt.error(Lt[0]),Lt},PSEUDO:function(Lt){var zt,ce=!Lt[6]&&Lt[2];return TA.CHILD.test(Lt[0])?null:(Lt[3]?Lt[2]=Lt[4]||Lt[5]||"":ce&&qi.test(ce)&&(zt=OA(ce,!0))&&(zt=ce.indexOf(")",ce.length-zt)-ce.length)&&(Lt[0]=Lt[0].slice(0,zt),Lt[2]=ce.slice(0,zt)),Lt.slice(0,3))}},filter:{TAG:function(Lt){var zt=Lt.replace(_n,Si).toLowerCase();return"*"===Lt?function(){return!0}:function(ce){return ke(ce,zt)}},CLASS:function(Lt){var zt=ar[Lt+" "];return zt||(zt=new RegExp("(^|"+Ht+")"+Lt+"("+Ht+"|$)"))&&ar(Lt,function(ce){return zt.test("string"==typeof ce.className&&ce.className||typeof ce.getAttribute<"u"&&ce.getAttribute("class")||"")})},ATTR:function(Lt,zt,ce){return function(ge){var Le=Rt.attr(ge,Lt);return null==Le?"!="===zt:!zt||(Le+="","="===zt?Le===ce:"!="===zt?Le!==ce:"^="===zt?ce&&0===Le.indexOf(ce):"*="===zt?ce&&-1<Le.indexOf(ce):"$="===zt?ce&&Le.slice(-ce.length)===ce:"~="===zt?-1<(" "+Le.replace(hr," ")+" ").indexOf(ce):"|="===zt&&(Le===ce||Le.slice(0,ce.length+1)===ce+"-"))}},CHILD:function(Lt,zt,ce,ge,Le){var or="nth"!==Lt.slice(0,3),Je="last"!==Lt.slice(-4),Be="of-type"===zt;return 1===ge&&0===Le?function(rr){return!!rr.parentNode}:function(rr,zr,ae){var Nr,sn,_r,jn,kn,hn=or!==Je?"nextSibling":"previousSibling",Dn=rr.parentNode,Jn=Be&&rr.nodeName.toLowerCase(),wA=!ae&&!Be,Ln=!1;if(Dn){if(or){for(;hn;){for(_r=rr;_r=_r[hn];)if(Be?ke(_r,Jn):1===_r.nodeType)return!1;kn=hn="only"===Lt&&!kn&&"nextSibling"}return!0}if(kn=[Je?Dn.firstChild:Dn.lastChild],Je&&wA){for(Ln=(jn=(Nr=(sn=Dn[Ce]||(Dn[Ce]={}))[Lt]||[])[0]===ue&&Nr[1])&&Nr[2],_r=jn&&Dn.childNodes[jn];_r=++jn&&_r&&_r[hn]||(Ln=jn=0)||kn.pop();)if(1===_r.nodeType&&++Ln&&_r===rr){sn[Lt]=[ue,jn,Ln];break}}else if(wA&&(Ln=jn=(Nr=(sn=rr[Ce]||(rr[Ce]={}))[Lt]||[])[0]===ue&&Nr[1]),!1===Ln)for(;(_r=++jn&&_r&&_r[hn]||(Ln=jn=0)||kn.pop())&&(!(Be?ke(_r,Jn):1===_r.nodeType)||!++Ln||(wA&&((sn=_r[Ce]||(_r[Ce]={}))[Lt]=[ue,Ln]),_r!==rr)););return(Ln-=Le)===ge||Ln%ge==0&&0<=Ln/ge}}},PSEUDO:function(Lt,zt){var ce,ge=g.pseudos[Lt]||g.setFilters[Lt.toLowerCase()]||Rt.error("unsupported pseudo: "+Lt);return ge[Ce]?ge(zt):1<ge.length?(ce=[Lt,Lt,"",zt],g.setFilters.hasOwnProperty(Lt.toLowerCase())?ve(function(Le,or){for(var Je,Be=ge(Le,zt),rr=Be.length;rr--;)Le[Je=Lr.call(Le,Be[rr])]=!(or[Je]=Be[rr])}):function(Le){return ge(Le,0,ce)}):ge}},pseudos:{not:ve(function(Lt){var zt=[],ce=[],ge=fs(Lt.replace(D,"$1"));return ge[Ce]?ve(function(Le,or,Je,Be){for(var rr,zr=ge(Le,null,Be,[]),ae=Le.length;ae--;)(rr=zr[ae])&&(Le[ae]=!(or[ae]=rr))}):function(Le,or,Je){return zt[0]=Le,ge(zt,null,Je,ce),zt[0]=null,!ce.pop()}}),has:ve(function(Lt){return function(zt){return 0<Rt(Lt,zt).length}}),contains:ve(function(Lt){return Lt=Lt.replace(_n,Si),function(zt){return-1<(zt.textContent||L.text(zt)).indexOf(Lt)}}),lang:ve(function(Lt){return FA.test(Lt||"")||Rt.error("unsupported lang: "+Lt),Lt=Lt.replace(_n,Si).toLowerCase(),function(zt){var ce;do{if(ce=Dt?zt.lang:zt.getAttribute("xml:lang")||zt.getAttribute("lang"))return(ce=ce.toLowerCase())===Lt||0===ce.indexOf(Lt+"-")}while((zt=zt.parentNode)&&1===zt.nodeType);return!1}}),target:function(Lt){var zt=Me.location&&Me.location.hash;return zt&&zt.slice(1)===Lt.id},root:function(Lt){return Lt===ut},focus:function(Lt){return Lt===function(){try{return Y.activeElement}catch{}}()&&Y.hasFocus()&&!!(Lt.type||Lt.href||~Lt.tabIndex)},enabled:nn(!1),disabled:nn(!0),checked:function(Lt){return ke(Lt,"input")&&!!Lt.checked||ke(Lt,"option")&&!!Lt.selected},selected:function(Lt){return!0===Lt.selected},empty:function(Lt){for(Lt=Lt.firstChild;Lt;Lt=Lt.nextSibling)if(Lt.nodeType<6)return!1;return!0},parent:function(Lt){return!g.pseudos.empty(Lt)},header:function(Lt){return ZA.test(Lt.nodeName)},input:function(Lt){return oA.test(Lt.nodeName)},button:function(Lt){return ke(Lt,"input")&&"button"===Lt.type||ke(Lt,"button")},text:function(Lt){var zt;return ke(Lt,"input")&&"text"===Lt.type&&(null==(zt=Lt.getAttribute("type"))||"text"===zt.toLowerCase())},first:wn(function(){return[0]}),last:wn(function(Lt,zt){return[zt-1]}),eq:wn(function(Lt,zt,ce){return[ce<0?ce+zt:ce]}),even:wn(function(Lt,zt){for(var ce=0;ce<zt;ce+=2)Lt.push(ce);return Lt}),odd:wn(function(Lt,zt){for(var ce=1;ce<zt;ce+=2)Lt.push(ce);return Lt}),lt:wn(function(Lt,zt,ce){var ge;for(ge=ce<0?ce+zt:zt<ce?zt:ce;0<=--ge;)Lt.push(ge);return Lt}),gt:wn(function(Lt,zt,ce){for(var ge=ce<0?ce+zt:ce;++ge<zt;)Lt.push(ge);return Lt})}}).pseudos.nth=g.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})g.pseudos[h]=dr(h);for(h in{submit:!0,reset:!0})g.pseudos[h]=Gr(h);function NA(){}function OA(Lt,zt){var ce,ge,Le,or,Je,Be,rr,zr=xr[Lt+" "];if(zr)return zt?0:zr.slice(0);for(Je=Lt,Be=[],rr=g.preFilter;Je;){for(or in ce&&!(ge=yn.exec(Je))||(ge&&(Je=Je.slice(ge[0].length)||Je),Be.push(Le=[])),ce=!1,(ge=PA.exec(Je))&&(ce=ge.shift(),Le.push({value:ce,type:ge[0].replace(D," ")}),Je=Je.slice(ce.length)),g.filter)!(ge=TA[or].exec(Je))||rr[or]&&!(ge=rr[or](ge))||(ce=ge.shift(),Le.push({value:ce,type:or,matches:ge}),Je=Je.slice(ce.length));if(!ce)break}return zt?Je.length:Je?Rt.error(Lt):xr(Lt,Be).slice(0)}function dA(Lt){for(var zt=0,ce=Lt.length,ge="";zt<ce;zt++)ge+=Lt[zt].value;return ge}function wi(Lt,zt,ce){var ge=zt.dir,Le=zt.next,or=Le||ge,Je=ce&&"parentNode"===or,Be=Se++;return zt.first?function(rr,zr,ae){for(;rr=rr[ge];)if(1===rr.nodeType||Je)return Lt(rr,zr,ae);return!1}:function(rr,zr,ae){var Nr,sn,_r=[ue,Be];if(ae){for(;rr=rr[ge];)if((1===rr.nodeType||Je)&&Lt(rr,zr,ae))return!0}else for(;rr=rr[ge];)if(1===rr.nodeType||Je)if(sn=rr[Ce]||(rr[Ce]={}),Le&&ke(rr,Le))rr=rr[ge]||rr;else{if((Nr=sn[or])&&Nr[0]===ue&&Nr[1]===Be)return _r[2]=Nr[2];if((sn[or]=_r)[2]=Lt(rr,zr,ae))return!0}return!1}}function tA(Lt){return 1<Lt.length?function(zt,ce,ge){for(var Le=Lt.length;Le--;)if(!Lt[Le](zt,ce,ge))return!1;return!0}:Lt[0]}function qA(Lt,zt,ce,ge,Le){for(var or,Je=[],Be=0,rr=Lt.length,zr=null!=zt;Be<rr;Be++)(or=Lt[Be])&&(ce&&!ce(or,ge,Le)||(Je.push(or),zr&&zt.push(Be)));return Je}function di(Lt,zt,ce,ge,Le,or){return ge&&!ge[Ce]&&(ge=di(ge)),Le&&!Le[Ce]&&(Le=di(Le,or)),ve(function(Je,Be,rr,zr){var ae,Nr,sn,_r,jn=[],kn=[],hn=Be.length,Dn=Je||function(wA,Ln,Rr){for(var eA=0,MA=Ln.length;eA<MA;eA++)Rt(wA,Ln[eA],Rr);return Rr}(zt||"*",rr.nodeType?[rr]:rr,[]),Jn=!Lt||!Je&&zt?Dn:qA(Dn,jn,Lt,rr,zr);if(ce?ce(Jn,_r=Le||(Je?Lt:hn||ge)?[]:Be,rr,zr):_r=Jn,ge)for(ae=qA(_r,kn),ge(ae,[],rr,zr),Nr=ae.length;Nr--;)(sn=ae[Nr])&&(_r[kn[Nr]]=!(Jn[kn[Nr]]=sn));if(Je){if(Le||Lt){if(Le){for(ae=[],Nr=_r.length;Nr--;)(sn=_r[Nr])&&ae.push(Jn[Nr]=sn);Le(null,_r=[],ae,zr)}for(Nr=_r.length;Nr--;)(sn=_r[Nr])&&-1<(ae=Le?Lr.call(Je,sn):jn[Nr])&&(Je[ae]=!(Be[ae]=sn))}}else _r=qA(_r===Be?_r.splice(hn,_r.length):_r),Le?Le(null,Be,_r,zr):se.apply(Be,_r)})}function uA(Lt){for(var zt,ce,ge,Le=Lt.length,or=g.relative[Lt[0].type],Je=or||g.relative[" "],Be=or?1:0,rr=wi(function(Nr){return Nr===zt},Je,!0),zr=wi(function(Nr){return-1<Lr.call(zt,Nr)},Je,!0),ae=[function(Nr,sn,_r){var jn=!or&&(_r||sn!=w)||((zt=sn).nodeType?rr(Nr,sn,_r):zr(Nr,sn,_r));return zt=null,jn}];Be<Le;Be++)if(ce=g.relative[Lt[Be].type])ae=[wi(tA(ae),ce)];else{if((ce=g.filter[Lt[Be].type].apply(null,Lt[Be].matches))[Ce]){for(ge=++Be;ge<Le&&!g.relative[Lt[ge].type];ge++);return di(1<Be&&tA(ae),1<Be&&dA(Lt.slice(0,Be-1).concat({value:" "===Lt[Be-2].type?"*":""})).replace(D,"$1"),ce,Be<ge&&uA(Lt.slice(Be,ge)),ge<Le&&uA(Lt=Lt.slice(ge)),ge<Le&&dA(Lt))}ae.push(ce)}return tA(ae)}function fs(Lt,zt){var ce,ge,Le,or,Je,Be,rr=[],zr=[],ae=Br[Lt+" "];if(!ae){for(zt||(zt=OA(Lt)),ce=zt.length;ce--;)(ae=uA(zt[ce]))[Ce]?rr.push(ae):zr.push(ae);(ae=Br(Lt,(ge=zr,or=0<(Le=rr).length,Je=0<ge.length,Be=function(Nr,sn,_r,jn,kn){var hn,Dn,Jn,wA=0,Ln="0",Rr=Nr&&[],eA=[],MA=w,Wi=Nr||Je&&g.find.TAG("*",kn),rA=ue+=null==MA?1:Math.random()||.1,BA=Wi.length;for(kn&&(w=sn==Y||sn||kn);Ln!==BA&&null!=(hn=Wi[Ln]);Ln++){if(Je&&hn){for(Dn=0,sn||hn.ownerDocument==Y||(pn(hn),_r=!Dt);Jn=ge[Dn++];)if(Jn(hn,sn||Y,_r)){se.call(jn,hn);break}kn&&(ue=rA)}or&&((hn=!Jn&&hn)&&wA--,Nr&&Rr.push(hn))}if(wA+=Ln,or&&Ln!==wA){for(Dn=0;Jn=Le[Dn++];)Jn(Rr,eA,sn,_r);if(Nr){if(0<wA)for(;Ln--;)Rr[Ln]||eA[Ln]||(eA[Ln]=_i.call(jn));eA=qA(eA)}se.apply(jn,eA),kn&&!Nr&&0<eA.length&&1<wA+Le.length&&L.uniqueSort(jn)}return kn&&(ue=rA,w=MA),Rr},or?ve(Be):Be))).selector=Lt}return ae}function as(Lt,zt,ce,ge){var Le,or,Je,Be,rr,zr="function"==typeof Lt&&Lt,ae=!ge&&OA(Lt=zr.selector||Lt);if(ce=ce||[],1===ae.length){if(2<(or=ae[0]=ae[0].slice(0)).length&&"ID"===(Je=or[0]).type&&9===zt.nodeType&&Dt&&g.relative[or[1].type]){if(!(zt=(g.find.ID(Je.matches[0].replace(_n,Si),zt)||[])[0]))return ce;zr&&(zt=zt.parentNode),Lt=Lt.slice(or.shift().value.length)}for(Le=TA.needsContext.test(Lt)?0:or.length;Le--&&!g.relative[Be=(Je=or[Le]).type];)if((rr=g.find[Be])&&(ge=rr(Je.matches[0].replace(_n,Si),Li.test(or[0].type)&&hi(zt.parentNode)||zt))){if(or.splice(Le,1),!(Lt=ge.length&&dA(or)))return se.apply(ce,ge),ce;break}}return(zr||fs(Lt,ae))(ge,zt,!Dt,ce,!zt||Li.test(Lt)&&hi(zt.parentNode)||zt),ce}NA.prototype=g.filters=g.pseudos,g.setFilters=new NA,mr.sortStable=Ce.split("").sort(ci).join("")===Ce,pn(),mr.sortDetached=Pe(function(Lt){return 1&Lt.compareDocumentPosition(Y.createElement("fieldset"))}),L.find=Rt,L.expr[":"]=L.expr.pseudos,L.unique=L.uniqueSort,Rt.compile=fs,Rt.select=as,Rt.setDocument=pn,Rt.tokenize=OA,Rt.escape=L.escapeSelector,Rt.getText=L.text,Rt.isXML=L.isXMLDoc,Rt.selectors=L.expr,Rt.support=L.support,Rt.uniqueSort=L.uniqueSort}();var Sr=function(h,g,w){for(var F=[],K=void 0!==w;(h=h[g])&&9!==h.nodeType;)if(1===h.nodeType){if(K&&L(h).is(w))break;F.push(h)}return F},$n=function(h,g){for(var w=[];h;h=h.nextSibling)1===h.nodeType&&h!==g&&w.push(h);return w},Di=L.expr.match.needsContext,Ue=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function KA(h,g,w){return Dr(g)?L.grep(h,function(F,K){return!!g.call(F,K,F)!==w}):g.nodeType?L.grep(h,function(F){return F===g!==w}):"string"!=typeof g?L.grep(h,function(F){return-1<Lr.call(g,F)!==w}):L.filter(g,h,w)}L.filter=function(h,g,w){var F=g[0];return w&&(h=":not("+h+")"),1===g.length&&1===F.nodeType?L.find.matchesSelector(F,h)?[F]:[]:L.find.matches(h,L.grep(g,function(K){return 1===K.nodeType}))},L.fn.extend({find:function(h){var g,w,F=this.length,K=this;if("string"!=typeof h)return this.pushStack(L(h).filter(function(){for(g=0;g<F;g++)if(L.contains(K[g],this))return!0}));for(w=this.pushStack([]),g=0;g<F;g++)L.find(h,K[g],w);return 1<F?L.uniqueSort(w):w},filter:function(h){return this.pushStack(KA(this,h||[],!1))},not:function(h){return this.pushStack(KA(this,h||[],!0))},is:function(h){return!!KA(this,"string"==typeof h&&Di.test(h)?L(h):h||[],!1).length}});var mi,Ei=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(L.fn.init=function(h,g,w){var F,K;if(!h)return this;if(w=w||mi,"string"==typeof h){if(!(F="<"===h[0]&&">"===h[h.length-1]&&3<=h.length?[null,h,null]:Ei.exec(h))||!F[1]&&g)return!g||g.jquery?(g||w).find(h):this.constructor(g).find(h);if(F[1]){if(L.merge(this,L.parseHTML(F[1],(g=g instanceof L?g[0]:g)&&g.nodeType?g.ownerDocument||g:kr,!0)),Ue.test(F[1])&&L.isPlainObject(g))for(F in g)Dr(this[F])?this[F](g[F]):this.attr(F,g[F]);return this}return(K=kr.getElementById(F[2]))&&(this[0]=K,this.length=1),this}return h.nodeType?(this[0]=h,this.length=1,this):Dr(h)?void 0!==w.ready?w.ready(h):h(L):L.makeArray(h,this)}).prototype=L.fn,mi=L(kr);var Xn=/^(?:parents|prev(?:Until|All))/,Ji={children:!0,contents:!0,next:!0,prev:!0};function Tn(h,g){for(;(h=h[g])&&1!==h.nodeType;);return h}L.fn.extend({has:function(h){var g=L(h,this),w=g.length;return this.filter(function(){for(var F=0;F<w;F++)if(L.contains(this,g[F]))return!0})},closest:function(h,g){var w,F=0,K=this.length,Y=[],ut="string"!=typeof h&&L(h);if(!Di.test(h))for(;F<K;F++)for(w=this[F];w&&w!==g;w=w.parentNode)if(w.nodeType<11&&(ut?-1<ut.index(w):1===w.nodeType&&L.find.matchesSelector(w,h))){Y.push(w);break}return this.pushStack(1<Y.length?L.uniqueSort(Y):Y)},index:function(h){return h?"string"==typeof h?Lr.call(L(h),this[0]):Lr.call(this,h.jquery?h[0]:h):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(h,g){return this.pushStack(L.uniqueSort(L.merge(this.get(),L(h,g))))},addBack:function(h){return this.add(null==h?this.prevObject:this.prevObject.filter(h))}}),L.each({parent:function(h){var g=h.parentNode;return g&&11!==g.nodeType?g:null},parents:function(h){return Sr(h,"parentNode")},parentsUntil:function(h,g,w){return Sr(h,"parentNode",w)},next:function(h){return Tn(h,"nextSibling")},prev:function(h){return Tn(h,"previousSibling")},nextAll:function(h){return Sr(h,"nextSibling")},prevAll:function(h){return Sr(h,"previousSibling")},nextUntil:function(h,g,w){return Sr(h,"nextSibling",w)},prevUntil:function(h,g,w){return Sr(h,"previousSibling",w)},siblings:function(h){return $n((h.parentNode||{}).firstChild,h)},children:function(h){return $n(h.firstChild)},contents:function(h){return null!=h.contentDocument&&Zr(h.contentDocument)?h.contentDocument:(ke(h,"template")&&(h=h.content||h),L.merge([],h.childNodes))}},function(h,g){L.fn[h]=function(w,F){var K=L.map(this,g,w);return"Until"!==h.slice(-5)&&(F=w),F&&"string"==typeof F&&(K=L.filter(F,K)),1<this.length&&(Ji[h]||L.uniqueSort(K),Xn.test(h)&&K.reverse()),this.pushStack(K)}});var bn=/[^\x20\t\r\n\f]+/g;function ur(h){return h}function Yr(h){throw h}function Gi(h,g,w,F){var K;try{h&&Dr(K=h.promise)?K.call(h).done(g).fail(w):h&&Dr(K=h.then)?K.call(h,g,w):g.apply(void 0,[h].slice(F))}catch(Y){w.apply(void 0,[Y])}}L.Callbacks=function(h){var w;h="string"==typeof h?(w={},L.each(h.match(bn)||[],function(ue,Se){w[Se]=!0}),w):L.extend({},h);var F,K,Y,ut,Dt=[],_t=[],te=-1,se=function(){for(ut=ut||h.once,Y=F=!0;_t.length;te=-1)for(K=_t.shift();++te<Dt.length;)!1===Dt[te].apply(K[0],K[1])&&h.stopOnFalse&&(te=Dt.length,K=!1);h.memory||(K=!1),F=!1,ut&&(Dt=K?[]:"")},Ce={add:function(){return Dt&&(K&&!F&&(te=Dt.length-1,_t.push(K)),function ue(Se){L.each(Se,function(ar,xr){Dr(xr)?h.unique&&Ce.has(xr)||Dt.push(xr):xr&&xr.length&&"string"!==Pn(xr)&&ue(xr)})}(arguments),K&&!F&&se()),this},remove:function(){return L.each(arguments,function(ue,Se){for(var ar;-1<(ar=L.inArray(Se,Dt,ar));)Dt.splice(ar,1),ar<=te&&te--}),this},has:function(ue){return ue?-1<L.inArray(ue,Dt):0<Dt.length},empty:function(){return Dt&&(Dt=[]),this},disable:function(){return ut=_t=[],Dt=K="",this},disabled:function(){return!Dt},lock:function(){return ut=_t=[],K||F||(Dt=K=""),this},locked:function(){return!!ut},fireWith:function(ue,Se){return ut||(Se=[ue,(Se=Se||[]).slice?Se.slice():Se],_t.push(Se),F||se()),this},fire:function(){return Ce.fireWith(this,arguments),this},fired:function(){return!!Y}};return Ce},L.extend({Deferred:function(h){var g=[["notify","progress",L.Callbacks("memory"),L.Callbacks("memory"),2],["resolve","done",L.Callbacks("once memory"),L.Callbacks("once memory"),0,"resolved"],["reject","fail",L.Callbacks("once memory"),L.Callbacks("once memory"),1,"rejected"]],w="pending",F={state:function(){return w},always:function(){return K.done(arguments).fail(arguments),this},catch:function(Y){return F.then(null,Y)},pipe:function(){var Y=arguments;return L.Deferred(function(ut){L.each(g,function(Dt,_t){var te=Dr(Y[_t[4]])&&Y[_t[4]];K[_t[1]](function(){var se=te&&te.apply(this,arguments);se&&Dr(se.promise)?se.promise().progress(ut.notify).done(ut.resolve).fail(ut.reject):ut[_t[0]+"With"](this,te?[se]:arguments)})}),Y=null}).promise()},then:function(Y,ut,Dt){var _t=0;function te(se,Ce,ue,Se){return function(){var ar=this,xr=arguments,Br=function(){var ci,Ci;if(!(se<_t)){if((ci=ue.apply(ar,xr))===Ce.promise())throw new TypeError("Thenable self-resolution");Dr(Ci=ci&&("object"==typeof ci||"function"==typeof ci)&&ci.then)?Se?Ci.call(ci,te(_t,Ce,ur,Se),te(_t,Ce,Yr,Se)):(_t++,Ci.call(ci,te(_t,Ce,ur,Se),te(_t,Ce,Yr,Se),te(_t,Ce,ur,Ce.notifyWith))):(ue!==ur&&(ar=void 0,xr=[ci]),(Se||Ce.resolveWith)(ar,xr))}},Mn=Se?Br:function(){try{Br()}catch(ci){L.Deferred.exceptionHook&&L.Deferred.exceptionHook(ci,Mn.error),_t<=se+1&&(ue!==Yr&&(ar=void 0,xr=[ci]),Ce.rejectWith(ar,xr))}};se?Mn():(L.Deferred.getErrorHook?Mn.error=L.Deferred.getErrorHook():L.Deferred.getStackHook&&(Mn.error=L.Deferred.getStackHook()),Me.setTimeout(Mn))}}return L.Deferred(function(se){g[0][3].add(te(0,se,Dr(Dt)?Dt:ur,se.notifyWith)),g[1][3].add(te(0,se,Dr(Y)?Y:ur)),g[2][3].add(te(0,se,Dr(ut)?ut:Yr))}).promise()},promise:function(Y){return null!=Y?L.extend(Y,F):F}},K={};return L.each(g,function(Y,ut){var Dt=ut[2],_t=ut[5];F[ut[1]]=Dt.add,_t&&Dt.add(function(){w=_t},g[3-Y][2].disable,g[3-Y][3].disable,g[0][2].lock,g[0][3].lock),Dt.add(ut[3].fire),K[ut[0]]=function(){return K[ut[0]+"With"](this===K?void 0:this,arguments),this},K[ut[0]+"With"]=Dt.fireWith}),F.promise(K),h&&h.call(K,K),K},when:function(h){var g=arguments.length,w=g,F=Array(w),K=jr.call(arguments),Y=L.Deferred(),ut=function(Dt){return function(_t){F[Dt]=this,K[Dt]=1<arguments.length?jr.call(arguments):_t,--g||Y.resolveWith(F,K)}};if(g<=1&&(Gi(h,Y.done(ut(w)).resolve,Y.reject,!g),"pending"===Y.state()||Dr(K[w]&&K[w].then)))return Y.then();for(;w--;)Gi(K[w],ut(w),Y.reject);return Y.promise()}});var YA=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;L.Deferred.exceptionHook=function(h,g){Me.console&&Me.console.warn&&h&&YA.test(h.name)&&Me.console.warn("jQuery.Deferred exception: "+h.message,h.stack,g)},L.readyException=function(h){Me.setTimeout(function(){throw h})};var zn=L.Deferred();function ti(){kr.removeEventListener("DOMContentLoaded",ti),Me.removeEventListener("load",ti),L.ready()}L.fn.ready=function(h){return zn.then(h).catch(function(g){L.readyException(g)}),this},L.extend({isReady:!1,readyWait:1,ready:function(h){(!0===h?--L.readyWait:L.isReady)||(L.isReady=!0)!==h&&0<--L.readyWait||zn.resolveWith(kr,[L])}}),L.ready.then=zn.then,"complete"===kr.readyState||"loading"!==kr.readyState&&!kr.documentElement.doScroll?Me.setTimeout(L.ready):(kr.addEventListener("DOMContentLoaded",ti),Me.addEventListener("load",ti));var En=function(h,g,w,F,K,Y,ut){var Dt=0,_t=h.length,te=null==w;if("object"===Pn(w))for(Dt in K=!0,w)En(h,g,Dt,w[Dt],!0,Y,ut);else if(void 0!==F&&(K=!0,Dr(F)||(ut=!0),te&&(ut?(g.call(h,F),g=null):(te=g,g=function(se,Ce,ue){return te.call(L(se),ue)})),g))for(;Dt<_t;Dt++)g(h[Dt],w,ut?F:F.call(h[Dt],Dt,g(h[Dt],w)));return K?h:te?g.call(h):_t?g(h[0],w):Y},Kn=/^-ms-/,Nn=/-([a-z])/g;function ji(h,g){return g.toUpperCase()}function Oi(h){return h.replace(Kn,"ms-").replace(Nn,ji)}var Vr=function(h){return 1===h.nodeType||9===h.nodeType||!+h.nodeType};function Cn(){this.expando=L.expando+Cn.uid++}Cn.uid=1,Cn.prototype={cache:function(h){var g=h[this.expando];return g||(g={},Vr(h)&&(h.nodeType?h[this.expando]=g:Object.defineProperty(h,this.expando,{value:g,configurable:!0}))),g},set:function(h,g,w){var F,K=this.cache(h);if("string"==typeof g)K[Oi(g)]=w;else for(F in g)K[Oi(F)]=g[F];return K},get:function(h,g){return void 0===g?this.cache(h):h[this.expando]&&h[this.expando][Oi(g)]},access:function(h,g,w){return void 0===g||g&&"string"==typeof g&&void 0===w?this.get(h,g):(this.set(h,g,w),void 0!==w?w:g)},remove:function(h,g){var w,F=h[this.expando];if(void 0!==F){if(void 0!==g)for((w=(g=Array.isArray(g)?g.map(Oi):(g=Oi(g))in F?[g]:g.match(bn)||[]).length);w--;)delete F[g[w]];(void 0===g||L.isEmptyObject(F))&&(h.nodeType?h[this.expando]=void 0:delete h[this.expando])}},hasData:function(h){var g=h[this.expando];return void 0!==g&&!L.isEmptyObject(g)}};var ir=new Cn,oi=new Cn,GA=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,RA=/[A-Z]/g;function Vi(h,g,w){var F,K;if(void 0===w&&1===h.nodeType)if(F="data-"+g.replace(RA,"-$&").toLowerCase(),"string"==typeof(w=h.getAttribute(F))){try{w="true"===(K=w)||"false"!==K&&("null"===K?null:K===+K+""?+K:GA.test(K)?JSON.parse(K):K)}catch{}oi.set(h,g,w)}else w=void 0;return w}L.extend({hasData:function(h){return oi.hasData(h)||ir.hasData(h)},data:function(h,g,w){return oi.access(h,g,w)},removeData:function(h,g){oi.remove(h,g)},_data:function(h,g,w){return ir.access(h,g,w)},_removeData:function(h,g){ir.remove(h,g)}}),L.fn.extend({data:function(h,g){var w,F,K,Y=this[0],ut=Y&&Y.attributes;if(void 0===h){if(this.length&&(K=oi.get(Y),1===Y.nodeType&&!ir.get(Y,"hasDataAttrs"))){for(w=ut.length;w--;)ut[w]&&0===(F=ut[w].name).indexOf("data-")&&(F=Oi(F.slice(5)),Vi(Y,F,K[F]));ir.set(Y,"hasDataAttrs",!0)}return K}return"object"==typeof h?this.each(function(){oi.set(this,h)}):En(this,function(Dt){var _t;if(Y&&void 0===Dt)return void 0!==(_t=oi.get(Y,h))||void 0!==(_t=Vi(Y,h))?_t:void 0;this.each(function(){oi.set(this,h,Dt)})},null,g,1<arguments.length,null,!0)},removeData:function(h){return this.each(function(){oi.remove(this,h)})}}),L.extend({queue:function(h,g,w){var F;if(h)return F=ir.get(h,g=(g||"fx")+"queue"),w&&(!F||Array.isArray(w)?F=ir.access(h,g,L.makeArray(w)):F.push(w)),F||[]},dequeue:function(h,g){var w=L.queue(h,g=g||"fx"),F=w.length,K=w.shift(),Y=L._queueHooks(h,g);"inprogress"===K&&(K=w.shift(),F--),K&&("fx"===g&&w.unshift("inprogress"),delete Y.stop,K.call(h,function(){L.dequeue(h,g)},Y)),!F&&Y&&Y.empty.fire()},_queueHooks:function(h,g){var w=g+"queueHooks";return ir.get(h,w)||ir.access(h,w,{empty:L.Callbacks("once memory").add(function(){ir.remove(h,[g+"queue",w])})})}}),L.fn.extend({queue:function(h,g){var w=2;return"string"!=typeof h&&(g=h,h="fx",w--),arguments.length<w?L.queue(this[0],h):void 0===g?this:this.each(function(){var F=L.queue(this,h,g);L._queueHooks(this,h),"fx"===h&&"inprogress"!==F[0]&&L.dequeue(this,h)})},dequeue:function(h){return this.each(function(){L.dequeue(this,h)})},clearQueue:function(h){return this.queue(h||"fx",[])},promise:function(h,g){var w,F=1,K=L.Deferred(),Y=this,ut=this.length,Dt=function(){--F||K.resolveWith(Y,[Y])};for("string"!=typeof h&&(g=h,h=void 0),h=h||"fx";ut--;)(w=ir.get(Y[ut],h+"queueHooks"))&&w.empty&&(F++,w.empty.add(Dt));return Dt(),K.promise(g)}});var en=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,On=new RegExp("^(?:([+-])=|)("+en+")([a-z%]*)$","i"),mA=["Top","Right","Bottom","Left"],vr=kr.documentElement,Gn=function(h){return L.contains(h.ownerDocument,h)},vn={composed:!0};vr.getRootNode&&(Gn=function(h){return L.contains(h.ownerDocument,h)||h.getRootNode(vn)===h.ownerDocument});var Fr=function(h,g){return"none"===(h=g||h).style.display||""===h.style.display&&Gn(h)&&"none"===L.css(h,"display")};function vA(h,g,w,F){var K,Y,ut=20,Dt=F?function(){return F.cur()}:function(){return L.css(h,g,"")},_t=Dt(),te=w&&w[3]||(L.cssNumber[g]?"":"px"),se=h.nodeType&&(L.cssNumber[g]||"px"!==te&&+_t)&&On.exec(L.css(h,g));if(se&&se[3]!==te){for(te=te||se[3],se=+(_t/=2)||1;ut--;)L.style(h,g,se+te),(1-Y)*(1-(Y=Dt()/_t||.5))<=0&&(ut=0),se/=Y;L.style(h,g,(se*=2)+te),w=w||[]}return w&&(se=+se||+_t||0,K=w[1]?se+(w[1]+1)*w[2]:+w[2],F&&(F.unit=te,F.start=se,F.end=K)),K}var hA={};function yA(h,g){for(var w,F,K,Y,ut,Dt,_t,te=[],se=0,Ce=h.length;se<Ce;se++)(F=h[se]).style&&(w=F.style.display,g?("none"===w&&(te[se]=ir.get(F,"display")||null,te[se]||(F.style.display="")),""===F.style.display&&Fr(F)&&(te[se]=(_t=ut=Y=void 0,ut=(K=F).ownerDocument,(_t=hA[Dt=K.nodeName])||(Y=ut.body.appendChild(ut.createElement(Dt)),_t=L.css(Y,"display"),Y.parentNode.removeChild(Y),"none"===_t&&(_t="block"),hA[Dt]=_t)))):"none"!==w&&(te[se]="none",ir.set(F,"display",w)));for(se=0;se<Ce;se++)null!=te[se]&&(h[se].style.display=te[se]);return h}L.fn.extend({show:function(){return yA(this,!0)},hide:function(){return yA(this)},toggle:function(h){return"boolean"==typeof h?h?this.show():this.hide():this.each(function(){Fr(this)?L(this).show():L(this).hide()})}});var ei,aA,Zi=/^(?:checkbox|radio)$/i,jt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Vt=/^$|^module$|\/(?:java|ecma)script/i;ei=kr.createDocumentFragment().appendChild(kr.createElement("div")),(aA=kr.createElement("input")).setAttribute("type","radio"),aA.setAttribute("checked","checked"),aA.setAttribute("name","t"),ei.appendChild(aA),mr.checkClone=ei.cloneNode(!0).cloneNode(!0).lastChild.checked,ei.innerHTML="<textarea>x</textarea>",mr.noCloneChecked=!!ei.cloneNode(!0).lastChild.defaultValue,ei.innerHTML="<option></option>",mr.option=!!ei.lastChild;var re={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(h,g){var w;return w=typeof h.getElementsByTagName<"u"?h.getElementsByTagName(g||"*"):typeof h.querySelectorAll<"u"?h.querySelectorAll(g||"*"):[],void 0===g||g&&ke(h,g)?L.merge([h],w):w}function Xe(h,g){for(var w=0,F=h.length;w<F;w++)ir.set(h[w],"globalEval",!g||ir.get(g[w],"globalEval"))}re.tbody=re.tfoot=re.colgroup=re.caption=re.thead,re.th=re.td,mr.option||(re.optgroup=re.option=[1,"<select multiple='multiple'>","</select>"]);var Qe=/<|&#?\w+;/;function er(h,g,w,F,K){for(var Y,ut,Dt,_t,te,se,Ce=g.createDocumentFragment(),ue=[],Se=0,ar=h.length;Se<ar;Se++)if((Y=h[Se])||0===Y)if("object"===Pn(Y))L.merge(ue,Y.nodeType?[Y]:Y);else if(Qe.test(Y)){for(ut=ut||Ce.appendChild(g.createElement("div")),Dt=(jt.exec(Y)||["",""])[1].toLowerCase(),ut.innerHTML=(_t=re[Dt]||re._default)[1]+L.htmlPrefilter(Y)+_t[2],se=_t[0];se--;)ut=ut.lastChild;L.merge(ue,ut.childNodes),(ut=Ce.firstChild).textContent=""}else ue.push(g.createTextNode(Y));for(Ce.textContent="",Se=0;Y=ue[Se++];)if(F&&-1<L.inArray(Y,F))K&&K.push(Y);else if(te=Gn(Y),ut=me(Ce.appendChild(Y),"script"),te&&Xe(ut),w)for(se=0;Y=ut[se++];)Vt.test(Y.type||"")&&w.push(Y);return Ce}var Oe=/^([^.]*)(?:\.(.+)|)/;function ze(){return!0}function cr(){return!1}function p(h,g,w,F,K,Y){var ut,Dt;if("object"==typeof g){for(Dt in"string"!=typeof w&&(F=F||w,w=void 0),g)p(h,Dt,w,F,g[Dt],Y);return h}if(null==F&&null==K?(K=w,F=w=void 0):null==K&&("string"==typeof w?(K=F,F=void 0):(K=F,F=w,w=void 0)),!1===K)K=cr;else if(!K)return h;return 1===Y&&(ut=K,(K=function(_t){return L().off(_t),ut.apply(this,arguments)}).guid=ut.guid||(ut.guid=L.guid++)),h.each(function(){L.event.add(this,g,K,F,w)})}function C(h,g,w){w?(ir.set(h,g,!1),L.event.add(h,g,{namespace:!1,handler:function(F){var K,Y=ir.get(this,g);if(1&F.isTrigger&&this[g]){if(Y)(L.event.special[g]||{}).delegateType&&F.stopPropagation();else if(Y=jr.call(arguments),ir.set(this,g,Y),this[g](),K=ir.get(this,g),ir.set(this,g,!1),Y!==K)return F.stopImmediatePropagation(),F.preventDefault(),K}else Y&&(ir.set(this,g,L.event.trigger(Y[0],Y.slice(1),this)),F.stopPropagation(),F.isImmediatePropagationStopped=ze)}})):void 0===ir.get(h,g)&&L.event.add(h,g,ze)}L.event={global:{},add:function(h,g,w,F,K){var Y,ut,Dt,_t,te,se,Ce,ue,Se,ar,xr,Br=ir.get(h);if(Vr(h))for(w.handler&&(w=(Y=w).handler,K=Y.selector),K&&L.find.matchesSelector(vr,K),w.guid||(w.guid=L.guid++),(_t=Br.events)||(_t=Br.events=Object.create(null)),(ut=Br.handle)||(ut=Br.handle=function(Mn){return typeof L<"u"&&L.event.triggered!==Mn.type?L.event.dispatch.apply(h,arguments):void 0}),te=(g=(g||"").match(bn)||[""]).length;te--;)Se=xr=(Dt=Oe.exec(g[te])||[])[1],ar=(Dt[2]||"").split(".").sort(),Se&&(Ce=L.event.special[Se]||{},Ce=L.event.special[Se=(K?Ce.delegateType:Ce.bindType)||Se]||{},se=L.extend({type:Se,origType:xr,data:F,handler:w,guid:w.guid,selector:K,needsContext:K&&L.expr.match.needsContext.test(K),namespace:ar.join(".")},Y),(ue=_t[Se])||((ue=_t[Se]=[]).delegateCount=0,Ce.setup&&!1!==Ce.setup.call(h,F,ar,ut)||h.addEventListener&&h.addEventListener(Se,ut)),Ce.add&&(Ce.add.call(h,se),se.handler.guid||(se.handler.guid=w.guid)),K?ue.splice(ue.delegateCount++,0,se):ue.push(se),L.event.global[Se]=!0)},remove:function(h,g,w,F,K){var Y,ut,Dt,_t,te,se,Ce,ue,Se,ar,xr,Br=ir.hasData(h)&&ir.get(h);if(Br&&(_t=Br.events)){for(te=(g=(g||"").match(bn)||[""]).length;te--;)if(Se=xr=(Dt=Oe.exec(g[te])||[])[1],ar=(Dt[2]||"").split(".").sort(),Se){for(Ce=L.event.special[Se]||{},ue=_t[Se=(F?Ce.delegateType:Ce.bindType)||Se]||[],Dt=Dt[2]&&new RegExp("(^|\\.)"+ar.join("\\.(?:.*\\.|)")+"(\\.|$)"),ut=Y=ue.length;Y--;)se=ue[Y],!K&&xr!==se.origType||w&&w.guid!==se.guid||Dt&&!Dt.test(se.namespace)||F&&F!==se.selector&&("**"!==F||!se.selector)||(ue.splice(Y,1),se.selector&&ue.delegateCount--,Ce.remove&&Ce.remove.call(h,se));ut&&!ue.length&&(Ce.teardown&&!1!==Ce.teardown.call(h,ar,Br.handle)||L.removeEvent(h,Se,Br.handle),delete _t[Se])}else for(Se in _t)L.event.remove(h,Se+g[te],w,F,!0);L.isEmptyObject(_t)&&ir.remove(h,"handle events")}},dispatch:function(h){var g,w,F,K,Y,ut,Dt=new Array(arguments.length),_t=L.event.fix(h),te=(ir.get(this,"events")||Object.create(null))[_t.type]||[],se=L.event.special[_t.type]||{};for(Dt[0]=_t,g=1;g<arguments.length;g++)Dt[g]=arguments[g];if(_t.delegateTarget=this,!se.preDispatch||!1!==se.preDispatch.call(this,_t)){for(ut=L.event.handlers.call(this,_t,te),g=0;(K=ut[g++])&&!_t.isPropagationStopped();)for(_t.currentTarget=K.elem,w=0;(Y=K.handlers[w++])&&!_t.isImmediatePropagationStopped();)_t.rnamespace&&!1!==Y.namespace&&!_t.rnamespace.test(Y.namespace)||(_t.handleObj=Y,_t.data=Y.data,void 0!==(F=((L.event.special[Y.origType]||{}).handle||Y.handler).apply(K.elem,Dt))&&!1===(_t.result=F)&&(_t.preventDefault(),_t.stopPropagation()));return se.postDispatch&&se.postDispatch.call(this,_t),_t.result}},handlers:function(h,g){var w,F,K,Y,ut,Dt=[],_t=g.delegateCount,te=h.target;if(_t&&te.nodeType&&!("click"===h.type&&1<=h.button))for(;te!==this;te=te.parentNode||this)if(1===te.nodeType&&("click"!==h.type||!0!==te.disabled)){for(Y=[],ut={},w=0;w<_t;w++)void 0===ut[K=(F=g[w]).selector+" "]&&(ut[K]=F.needsContext?-1<L(K,this).index(te):L.find(K,this,null,[te]).length),ut[K]&&Y.push(F);Y.length&&Dt.push({elem:te,handlers:Y})}return te=this,_t<g.length&&Dt.push({elem:te,handlers:g.slice(_t)}),Dt},addProp:function(h,g){Object.defineProperty(L.Event.prototype,h,{enumerable:!0,configurable:!0,get:Dr(g)?function(){if(this.originalEvent)return g(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[h]},set:function(w){Object.defineProperty(this,h,{enumerable:!0,configurable:!0,writable:!0,value:w})}})},fix:function(h){return h[L.expando]?h:new L.Event(h)},special:{load:{noBubble:!0},click:{setup:function(h){var g=this||h;return Zi.test(g.type)&&g.click&&ke(g,"input")&&C(g,"click",!0),!1},trigger:function(h){var g=this||h;return Zi.test(g.type)&&g.click&&ke(g,"input")&&C(g,"click"),!0},_default:function(h){var g=h.target;return Zi.test(g.type)&&g.click&&ke(g,"input")&&ir.get(g,"click")||ke(g,"a")}},beforeunload:{postDispatch:function(h){void 0!==h.result&&h.originalEvent&&(h.originalEvent.returnValue=h.result)}}}},L.removeEvent=function(h,g,w){h.removeEventListener&&h.removeEventListener(g,w)},L.Event=function(h,g){if(!(this instanceof L.Event))return new L.Event(h,g);h&&h.type?(this.originalEvent=h,this.type=h.type,this.isDefaultPrevented=h.defaultPrevented||void 0===h.defaultPrevented&&!1===h.returnValue?ze:cr,this.target=h.target&&3===h.target.nodeType?h.target.parentNode:h.target,this.currentTarget=h.currentTarget,this.relatedTarget=h.relatedTarget):this.type=h,g&&L.extend(this,g),this.timeStamp=h&&h.timeStamp||Date.now(),this[L.expando]=!0},L.Event.prototype={constructor:L.Event,isDefaultPrevented:cr,isPropagationStopped:cr,isImmediatePropagationStopped:cr,isSimulated:!1,preventDefault:function(){var h=this.originalEvent;this.isDefaultPrevented=ze,h&&!this.isSimulated&&h.preventDefault()},stopPropagation:function(){var h=this.originalEvent;this.isPropagationStopped=ze,h&&!this.isSimulated&&h.stopPropagation()},stopImmediatePropagation:function(){var h=this.originalEvent;this.isImmediatePropagationStopped=ze,h&&!this.isSimulated&&h.stopImmediatePropagation(),this.stopPropagation()}},L.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},L.event.addProp),L.each({focus:"focusin",blur:"focusout"},function(h,g){function w(F){if(kr.documentMode){var K=ir.get(this,"handle"),Y=L.event.fix(F);Y.type="focusin"===F.type?"focus":"blur",Y.isSimulated=!0,K(F),Y.target===Y.currentTarget&&K(Y)}else L.event.simulate(g,F.target,L.event.fix(F))}L.event.special[h]={setup:function(){var F;if(C(this,h,!0),!kr.documentMode)return!1;(F=ir.get(this,g))||this.addEventListener(g,w),ir.set(this,g,(F||0)+1)},trigger:function(){return C(this,h),!0},teardown:function(){var F;if(!kr.documentMode)return!1;(F=ir.get(this,g)-1)?ir.set(this,g,F):(this.removeEventListener(g,w),ir.remove(this,g))},_default:function(F){return ir.get(F.target,h)},delegateType:g},L.event.special[g]={setup:function(){var F=this.ownerDocument||this.document||this,K=kr.documentMode?this:F,Y=ir.get(K,g);Y||(kr.documentMode?this.addEventListener(g,w):F.addEventListener(h,w,!0)),ir.set(K,g,(Y||0)+1)},teardown:function(){var F=this.ownerDocument||this.document||this,K=kr.documentMode?this:F,Y=ir.get(K,g)-1;Y?ir.set(K,g,Y):(kr.documentMode?this.removeEventListener(g,w):F.removeEventListener(h,w,!0),ir.remove(K,g))}}}),L.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(h,g){L.event.special[h]={delegateType:g,bindType:g,handle:function(w){var F,K=w.relatedTarget,Y=w.handleObj;return K&&(K===this||L.contains(this,K))||(w.type=Y.origType,F=Y.handler.apply(this,arguments),w.type=g),F}}}),L.fn.extend({on:function(h,g,w,F){return p(this,h,g,w,F)},one:function(h,g,w,F){return p(this,h,g,w,F,1)},off:function(h,g,w){var F,K;if(h&&h.preventDefault&&h.handleObj)return F=h.handleObj,L(h.delegateTarget).off(F.namespace?F.origType+"."+F.namespace:F.origType,F.selector,F.handler),this;if("object"==typeof h){for(K in h)this.off(K,g,h[K]);return this}return!1!==g&&"function"!=typeof g||(w=g,g=void 0),!1===w&&(w=cr),this.each(function(){L.event.remove(this,h,w,g)})}});var k=/<script|<style|<link/i,N=/checked\s*(?:[^=]|=\s*.checked.)/i,U=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function x(h,g){return ke(h,"table")&&ke(11!==g.nodeType?g:g.firstChild,"tr")&&L(h).children("tbody")[0]||h}function M(h){return h.type=(null!==h.getAttribute("type"))+"/"+h.type,h}function q(h){return"true/"===(h.type||"").slice(0,5)?h.type=h.type.slice(5):h.removeAttribute("type"),h}function P(h,g){var w,F,K,Y,ut,Dt;if(1===g.nodeType){if(ir.hasData(h)&&(Dt=ir.get(h).events))for(K in ir.remove(g,"handle events"),Dt)for(w=0,F=Dt[K].length;w<F;w++)L.event.add(g,K,Dt[K][w]);oi.hasData(h)&&(Y=oi.access(h),ut=L.extend({},Y),oi.set(g,ut))}}function dt(h,g,w,F){g=Xr(g);var K,Y,ut,Dt,_t,te,se=0,Ce=h.length,ue=Ce-1,Se=g[0],ar=Dr(Se);if(ar||1<Ce&&"string"==typeof Se&&!mr.checkClone&&N.test(Se))return h.each(function(xr){var Br=h.eq(xr);ar&&(g[0]=Se.call(this,xr,Br.html())),dt(Br,g,w,F)});if(Ce&&(Y=(K=er(g,h[0].ownerDocument,!1,h,F)).firstChild,1===K.childNodes.length&&(K=Y),Y||F)){for(Dt=(ut=L.map(me(K,"script"),M)).length;se<Ce;se++)_t=K,se!==ue&&(_t=L.clone(_t,!0,!0),Dt&&L.merge(ut,me(_t,"script"))),w.call(h[se],_t,se);if(Dt)for(te=ut[ut.length-1].ownerDocument,L.map(ut,q),se=0;se<Dt;se++)Vt.test((_t=ut[se]).type||"")&&!ir.access(_t,"globalEval")&&L.contains(te,_t)&&(_t.src&&"module"!==(_t.type||"").toLowerCase()?L._evalUrl&&!_t.noModule&&L._evalUrl(_t.src,{nonce:_t.nonce||_t.getAttribute("nonce")},te):xi(_t.textContent.replace(U,""),_t,te))}return h}function pt(h,g,w){for(var F,K=g?L.filter(g,h):h,Y=0;null!=(F=K[Y]);Y++)w||1!==F.nodeType||L.cleanData(me(F)),F.parentNode&&(w&&Gn(F)&&Xe(me(F,"script")),F.parentNode.removeChild(F));return h}L.extend({htmlPrefilter:function(h){return h},clone:function(h,g,w){var F,K,Y,ut,Dt,_t,te,se=h.cloneNode(!0),Ce=Gn(h);if(!(mr.noCloneChecked||1!==h.nodeType&&11!==h.nodeType||L.isXMLDoc(h)))for(ut=me(se),F=0,K=(Y=me(h)).length;F<K;F++)Dt=Y[F],"input"===(te=(_t=ut[F]).nodeName.toLowerCase())&&Zi.test(Dt.type)?_t.checked=Dt.checked:"input"!==te&&"textarea"!==te||(_t.defaultValue=Dt.defaultValue);if(g)if(w)for(Y=Y||me(h),ut=ut||me(se),F=0,K=Y.length;F<K;F++)P(Y[F],ut[F]);else P(h,se);return 0<(ut=me(se,"script")).length&&Xe(ut,!Ce&&me(h,"script")),se},cleanData:function(h){for(var g,w,F,K=L.event.special,Y=0;void 0!==(w=h[Y]);Y++)if(Vr(w)){if(g=w[ir.expando]){if(g.events)for(F in g.events)K[F]?L.event.remove(w,F):L.removeEvent(w,F,g.handle);w[ir.expando]=void 0}w[oi.expando]&&(w[oi.expando]=void 0)}}}),L.fn.extend({detach:function(h){return pt(this,h,!0)},remove:function(h){return pt(this,h)},text:function(h){return En(this,function(g){return void 0===g?L.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=g)})},null,h,arguments.length)},append:function(){return dt(this,arguments,function(h){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||x(this,h).appendChild(h)})},prepend:function(){return dt(this,arguments,function(h){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var g=x(this,h);g.insertBefore(h,g.firstChild)}})},before:function(){return dt(this,arguments,function(h){this.parentNode&&this.parentNode.insertBefore(h,this)})},after:function(){return dt(this,arguments,function(h){this.parentNode&&this.parentNode.insertBefore(h,this.nextSibling)})},empty:function(){for(var h,g=0;null!=(h=this[g]);g++)1===h.nodeType&&(L.cleanData(me(h,!1)),h.textContent="");return this},clone:function(h,g){return h=null!=h&&h,g=g??h,this.map(function(){return L.clone(this,h,g)})},html:function(h){return En(this,function(g){var w=this[0]||{},F=0,K=this.length;if(void 0===g&&1===w.nodeType)return w.innerHTML;if("string"==typeof g&&!k.test(g)&&!re[(jt.exec(g)||["",""])[1].toLowerCase()]){g=L.htmlPrefilter(g);try{for(;F<K;F++)1===(w=this[F]||{}).nodeType&&(L.cleanData(me(w,!1)),w.innerHTML=g);w=0}catch{}}w&&this.empty().append(g)},null,h,arguments.length)},replaceWith:function(){var h=[];return dt(this,arguments,function(g){var w=this.parentNode;L.inArray(this,h)<0&&(L.cleanData(me(this)),w&&w.replaceChild(g,this))},h)}}),L.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(h,g){L.fn[h]=function(w){for(var F,K=[],Y=L(w),ut=Y.length-1,Dt=0;Dt<=ut;Dt++)F=Dt===ut?this:this.clone(!0),L(Y[Dt])[g](F),Ai.apply(K,F.get());return this.pushStack(K)}});var Tt=new RegExp("^("+en+")(?!px)[a-z%]+$","i"),T=/^--/,G=function(h){var g=h.ownerDocument.defaultView;return g&&g.opener||(g=Me),g.getComputedStyle(h)},W=function(h,g,w){var F,K,Y={};for(K in g)Y[K]=h.style[K],h.style[K]=g[K];for(K in F=w.call(h),g)h.style[K]=Y[K];return F},Z=new RegExp(mA.join("|"),"i");function at(h,g,w){var F,K,Y,ut,Dt=T.test(g),_t=h.style;return(w=w||G(h))&&(ut=w.getPropertyValue(g)||w[g],Dt&&ut&&(ut=ut.replace(D,"$1")||void 0),""!==ut||Gn(h)||(ut=L.style(h,g)),!mr.pixelBoxStyles()&&Tt.test(ut)&&Z.test(g)&&(F=_t.width,K=_t.minWidth,Y=_t.maxWidth,_t.minWidth=_t.maxWidth=_t.width=ut,ut=w.width,_t.width=F,_t.minWidth=K,_t.maxWidth=Y)),void 0!==ut?ut+"":ut}function ft(h,g){return{get:function(){if(!h())return(this.get=g).apply(this,arguments);delete this.get}}}!function(){function h(){if(te){_t.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",te.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",vr.appendChild(_t).appendChild(te);var se=Me.getComputedStyle(te);w="1%"!==se.top,Dt=12===g(se.marginLeft),te.style.right="60%",Y=36===g(se.right),F=36===g(se.width),te.style.position="absolute",K=12===g(te.offsetWidth/3),vr.removeChild(_t),te=null}}function g(se){return Math.round(parseFloat(se))}var w,F,K,Y,ut,Dt,_t=kr.createElement("div"),te=kr.createElement("div");te.style&&(te.style.backgroundClip="content-box",te.cloneNode(!0).style.backgroundClip="",mr.clearCloneStyle="content-box"===te.style.backgroundClip,L.extend(mr,{boxSizingReliable:function(){return h(),F},pixelBoxStyles:function(){return h(),Y},pixelPosition:function(){return h(),w},reliableMarginLeft:function(){return h(),Dt},scrollboxSize:function(){return h(),K},reliableTrDimensions:function(){var se,Ce,ue,Se;return null==ut&&(se=kr.createElement("table"),Ce=kr.createElement("tr"),ue=kr.createElement("div"),se.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ce.style.cssText="box-sizing:content-box;border:1px solid",Ce.style.height="1px",ue.style.height="9px",ue.style.display="block",vr.appendChild(se).appendChild(Ce).appendChild(ue),Se=Me.getComputedStyle(Ce),ut=parseInt(Se.height,10)+parseInt(Se.borderTopWidth,10)+parseInt(Se.borderBottomWidth,10)===Ce.offsetHeight,vr.removeChild(se)),ut}}))}();var It=["Webkit","Moz","ms"],Mt=kr.createElement("div").style,Nt={};function oe(h){return L.cssProps[h]||Nt[h]||(h in Mt?h:Nt[h]=function(w){for(var F=w[0].toUpperCase()+w.slice(1),K=It.length;K--;)if((w=It[K]+F)in Mt)return w}(h)||h)}var ne=/^(none|table(?!-c[ea]).+)/,bt={position:"absolute",visibility:"hidden",display:"block"},J={letterSpacing:"0",fontWeight:"400"};function qt(h,g,w){var F=On.exec(g);return F?Math.max(0,F[2]-(w||0))+(F[3]||"px"):g}function ht(h,g,w,F,K,Y){var ut="width"===g?1:0,Dt=0,_t=0,te=0;if(w===(F?"border":"content"))return 0;for(;ut<4;ut+=2)"margin"===w&&(te+=L.css(h,w+mA[ut],!0,K)),F?("content"===w&&(_t-=L.css(h,"padding"+mA[ut],!0,K)),"margin"!==w&&(_t-=L.css(h,"border"+mA[ut]+"Width",!0,K))):(_t+=L.css(h,"padding"+mA[ut],!0,K),"padding"!==w?_t+=L.css(h,"border"+mA[ut]+"Width",!0,K):Dt+=L.css(h,"border"+mA[ut]+"Width",!0,K));return!F&&0<=Y&&(_t+=Math.max(0,Math.ceil(h["offset"+g[0].toUpperCase()+g.slice(1)]-Y-_t-Dt-.5))||0),_t+te}function st(h,g,w){var F=G(h),K=(!mr.boxSizingReliable()||w)&&"border-box"===L.css(h,"boxSizing",!1,F),Y=K,ut=at(h,g,F),Dt="offset"+g[0].toUpperCase()+g.slice(1);if(Tt.test(ut)){if(!w)return ut;ut="auto"}return(!mr.boxSizingReliable()&&K||!mr.reliableTrDimensions()&&ke(h,"tr")||"auto"===ut||!parseFloat(ut)&&"inline"===L.css(h,"display",!1,F))&&h.getClientRects().length&&(K="border-box"===L.css(h,"boxSizing",!1,F),(Y=Dt in h)&&(ut=h[Dt])),(ut=parseFloat(ut)||0)+ht(h,g,w||(K?"border":"content"),Y,F,ut)+"px"}function wt(h,g,w,F,K){return new wt.prototype.init(h,g,w,F,K)}L.extend({cssHooks:{opacity:{get:function(h,g){if(g){var w=at(h,"opacity");return""===w?"1":w}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(h,g,w,F){if(h&&3!==h.nodeType&&8!==h.nodeType&&h.style){var K,Y,ut,Dt=Oi(g),_t=T.test(g),te=h.style;if(_t||(g=oe(Dt)),ut=L.cssHooks[g]||L.cssHooks[Dt],void 0===w)return ut&&"get"in ut&&void 0!==(K=ut.get(h,!1,F))?K:te[g];"string"==(Y=typeof w)&&(K=On.exec(w))&&K[1]&&(w=vA(h,g,K),Y="number"),null!=w&&w==w&&("number"!==Y||_t||(w+=K&&K[3]||(L.cssNumber[Dt]?"":"px")),mr.clearCloneStyle||""!==w||0!==g.indexOf("background")||(te[g]="inherit"),ut&&"set"in ut&&void 0===(w=ut.set(h,w,F))||(_t?te.setProperty(g,w):te[g]=w))}},css:function(h,g,w,F){var K,Y,ut,Dt=Oi(g);return T.test(g)||(g=oe(Dt)),(ut=L.cssHooks[g]||L.cssHooks[Dt])&&"get"in ut&&(K=ut.get(h,!0,w)),void 0===K&&(K=at(h,g,F)),"normal"===K&&g in J&&(K=J[g]),""===w||w?(Y=parseFloat(K),!0===w||isFinite(Y)?Y||0:K):K}}),L.each(["height","width"],function(h,g){L.cssHooks[g]={get:function(w,F,K){if(F)return!ne.test(L.css(w,"display"))||w.getClientRects().length&&w.getBoundingClientRect().width?st(w,g,K):W(w,bt,function(){return st(w,g,K)})},set:function(w,F,K){var Y,ut=G(w),Dt=!mr.scrollboxSize()&&"absolute"===ut.position,_t=(Dt||K)&&"border-box"===L.css(w,"boxSizing",!1,ut),te=K?ht(w,g,K,_t,ut):0;return _t&&Dt&&(te-=Math.ceil(w["offset"+g[0].toUpperCase()+g.slice(1)]-parseFloat(ut[g])-ht(w,g,"border",!1,ut)-.5)),te&&(Y=On.exec(F))&&"px"!==(Y[3]||"px")&&(w.style[g]=F,F=L.css(w,g)),qt(0,F,te)}}}),L.cssHooks.marginLeft=ft(mr.reliableMarginLeft,function(h,g){if(g)return(parseFloat(at(h,"marginLeft"))||h.getBoundingClientRect().left-W(h,{marginLeft:0},function(){return h.getBoundingClientRect().left}))+"px"}),L.each({margin:"",padding:"",border:"Width"},function(h,g){L.cssHooks[h+g]={expand:function(w){for(var F=0,K={},Y="string"==typeof w?w.split(" "):[w];F<4;F++)K[h+mA[F]+g]=Y[F]||Y[F-2]||Y[0];return K}},"margin"!==h&&(L.cssHooks[h+g].set=qt)}),L.fn.extend({css:function(h,g){return En(this,function(w,F,K){var Y,ut,Dt={},_t=0;if(Array.isArray(F)){for(Y=G(w),ut=F.length;_t<ut;_t++)Dt[F[_t]]=L.css(w,F[_t],!1,Y);return Dt}return void 0!==K?L.style(w,F,K):L.css(w,F)},h,g,1<arguments.length)}}),((L.Tween=wt).prototype={constructor:wt,init:function(h,g,w,F,K,Y){this.elem=h,this.prop=w,this.easing=K||L.easing._default,this.options=g,this.start=this.now=this.cur(),this.end=F,this.unit=Y||(L.cssNumber[w]?"":"px")},cur:function(){var h=wt.propHooks[this.prop];return h&&h.get?h.get(this):wt.propHooks._default.get(this)},run:function(h){var g,w=wt.propHooks[this.prop];return this.pos=g=this.options.duration?L.easing[this.easing](h,this.options.duration*h,0,1,this.options.duration):h,this.now=(this.end-this.start)*g+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),w&&w.set?w.set(this):wt.propHooks._default.set(this),this}}).init.prototype=wt.prototype,(wt.propHooks={_default:{get:function(h){var g;return 1!==h.elem.nodeType||null!=h.elem[h.prop]&&null==h.elem.style[h.prop]?h.elem[h.prop]:(g=L.css(h.elem,h.prop,""))&&"auto"!==g?g:0},set:function(h){L.fx.step[h.prop]?L.fx.step[h.prop](h):1!==h.elem.nodeType||!L.cssHooks[h.prop]&&null==h.elem.style[oe(h.prop)]?h.elem[h.prop]=h.now:L.style(h.elem,h.prop,h.now+h.unit)}}}).scrollTop=wt.propHooks.scrollLeft={set:function(h){h.elem.nodeType&&h.elem.parentNode&&(h.elem[h.prop]=h.now)}},L.easing={linear:function(h){return h},swing:function(h){return.5-Math.cos(h*Math.PI)/2},_default:"swing"},L.fx=wt.prototype.init,L.fx.step={};var Ut,mt,lt,H,$=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function S(){mt&&(!1===kr.hidden&&Me.requestAnimationFrame?Me.requestAnimationFrame(S):Me.setTimeout(S,L.fx.interval),L.fx.tick())}function V(){return Me.setTimeout(function(){Ut=void 0}),Ut=Date.now()}function rt(h,g){var w,F=0,K={height:h};for(g=g?1:0;F<4;F+=2-g)K["margin"+(w=mA[F])]=K["padding"+w]=h;return g&&(K.opacity=K.width=h),K}function it(h,g,w){for(var F,K=(gt.tweeners[g]||[]).concat(gt.tweeners["*"]),Y=0,ut=K.length;Y<ut;Y++)if(F=K[Y].call(w,g,h))return F}function gt(h,g,w){var F,K,Y=0,ut=gt.prefilters.length,Dt=L.Deferred().always(function(){delete _t.elem}),_t=function(){if(K)return!1;for(var Ce=Ut||V(),ue=Math.max(0,te.startTime+te.duration-Ce),Se=1-(ue/te.duration||0),ar=0,xr=te.tweens.length;ar<xr;ar++)te.tweens[ar].run(Se);return Dt.notifyWith(h,[te,Se,ue]),Se<1&&xr?ue:(xr||Dt.notifyWith(h,[te,1,0]),Dt.resolveWith(h,[te]),!1)},te=Dt.promise({elem:h,props:L.extend({},g),opts:L.extend(!0,{specialEasing:{},easing:L.easing._default},w),originalProperties:g,originalOptions:w,startTime:Ut||V(),duration:w.duration,tweens:[],createTween:function(Ce,ue){var Se=L.Tween(h,te.opts,Ce,ue,te.opts.specialEasing[Ce]||te.opts.easing);return te.tweens.push(Se),Se},stop:function(Ce){var ue=0,Se=Ce?te.tweens.length:0;if(K)return this;for(K=!0;ue<Se;ue++)te.tweens[ue].run(1);return Ce?(Dt.notifyWith(h,[te,1,0]),Dt.resolveWith(h,[te,Ce])):Dt.rejectWith(h,[te,Ce]),this}}),se=te.props;for(function(Ce,ue){var Se,ar,xr,Br,Mn;for(Se in Ce)if(xr=ue[ar=Oi(Se)],Br=Ce[Se],Array.isArray(Br)&&(xr=Br[1],Br=Ce[Se]=Br[0]),Se!==ar&&(Ce[ar]=Br,delete Ce[Se]),(Mn=L.cssHooks[ar])&&"expand"in Mn)for(Se in Br=Mn.expand(Br),delete Ce[ar],Br)Se in Ce||(Ce[Se]=Br[Se],ue[Se]=xr);else ue[ar]=xr}(se,te.opts.specialEasing);Y<ut;Y++)if(F=gt.prefilters[Y].call(te,h,se,te.opts))return Dr(F.stop)&&(L._queueHooks(te.elem,te.opts.queue).stop=F.stop.bind(F)),F;return L.map(se,it,te),Dr(te.opts.start)&&te.opts.start.call(h,te),te.progress(te.opts.progress).done(te.opts.done,te.opts.complete).fail(te.opts.fail).always(te.opts.always),L.fx.timer(L.extend(_t,{elem:h,anim:te,queue:te.opts.queue})),te}L.Animation=L.extend(gt,{tweeners:{"*":[function(h,g){var w=this.createTween(h,g);return vA(w.elem,h,On.exec(g),w),w}]},tweener:function(h,g){Dr(h)?(g=h,h=["*"]):h=h.match(bn);for(var w,F=0,K=h.length;F<K;F++)(gt.tweeners[w=h[F]]=gt.tweeners[w]||[]).unshift(g)},prefilters:[function(h,g,w){var F,K,Y,ut,Dt,_t,te,se,Ce="width"in g||"height"in g,ue=this,Se={},ar=h.style,xr=h.nodeType&&Fr(h),Br=ir.get(h,"fxshow");for(F in w.queue||(null==(ut=L._queueHooks(h,"fx")).unqueued&&(ut.unqueued=0,Dt=ut.empty.fire,ut.empty.fire=function(){ut.unqueued||Dt()}),ut.unqueued++,ue.always(function(){ue.always(function(){ut.unqueued--,L.queue(h,"fx").length||ut.empty.fire()})})),g)if($.test(K=g[F])){if(delete g[F],Y=Y||"toggle"===K,K===(xr?"hide":"show")){if("show"!==K||!Br||void 0===Br[F])continue;xr=!0}Se[F]=Br&&Br[F]||L.style(h,F)}if((_t=!L.isEmptyObject(g))||!L.isEmptyObject(Se))for(F in Ce&&1===h.nodeType&&(w.overflow=[ar.overflow,ar.overflowX,ar.overflowY],null==(te=Br&&Br.display)&&(te=ir.get(h,"display")),"none"===(se=L.css(h,"display"))&&(te?se=te:(yA([h],!0),te=h.style.display||te,se=L.css(h,"display"),yA([h]))),("inline"===se||"inline-block"===se&&null!=te)&&"none"===L.css(h,"float")&&(_t||(ue.done(function(){ar.display=te}),null==te&&(te="none"===(se=ar.display)?"":se)),ar.display="inline-block")),w.overflow&&(ar.overflow="hidden",ue.always(function(){ar.overflow=w.overflow[0],ar.overflowX=w.overflow[1],ar.overflowY=w.overflow[2]})),_t=!1,Se)_t||(Br?"hidden"in Br&&(xr=Br.hidden):Br=ir.access(h,"fxshow",{display:te}),Y&&(Br.hidden=!xr),xr&&yA([h],!0),ue.done(function(){for(F in xr||yA([h]),ir.remove(h,"fxshow"),Se)L.style(h,F,Se[F])})),_t=it(xr?Br[F]:0,F,ue),F in Br||(Br[F]=_t.start,xr&&(_t.end=_t.start,_t.start=0))}],prefilter:function(h,g){g?gt.prefilters.unshift(h):gt.prefilters.push(h)}}),L.speed=function(h,g,w){var F=h&&"object"==typeof h?L.extend({},h):{complete:w||!w&&g||Dr(h)&&h,duration:h,easing:w&&g||g&&!Dr(g)&&g};return L.fx.off?F.duration=0:"number"!=typeof F.duration&&(F.duration=F.duration in L.fx.speeds?L.fx.speeds[F.duration]:L.fx.speeds._default),null!=F.queue&&!0!==F.queue||(F.queue="fx"),F.old=F.complete,F.complete=function(){Dr(F.old)&&F.old.call(this),F.queue&&L.dequeue(this,F.queue)},F},L.fn.extend({fadeTo:function(h,g,w,F){return this.filter(Fr).css("opacity",0).show().end().animate({opacity:g},h,w,F)},animate:function(h,g,w,F){var K=L.isEmptyObject(h),Y=L.speed(g,w,F),ut=function(){var Dt=gt(this,L.extend({},h),Y);(K||ir.get(this,"finish"))&&Dt.stop(!0)};return ut.finish=ut,K||!1===Y.queue?this.each(ut):this.queue(Y.queue,ut)},stop:function(h,g,w){var F=function(K){var Y=K.stop;delete K.stop,Y(w)};return"string"!=typeof h&&(w=g,g=h,h=void 0),g&&this.queue(h||"fx",[]),this.each(function(){var K=!0,Y=null!=h&&h+"queueHooks",ut=L.timers,Dt=ir.get(this);if(Y)Dt[Y]&&Dt[Y].stop&&F(Dt[Y]);else for(Y in Dt)Dt[Y]&&Dt[Y].stop&&ot.test(Y)&&F(Dt[Y]);for(Y=ut.length;Y--;)ut[Y].elem!==this||null!=h&&ut[Y].queue!==h||(ut[Y].anim.stop(w),K=!1,ut.splice(Y,1));!K&&w||L.dequeue(this,h)})},finish:function(h){return!1!==h&&(h=h||"fx"),this.each(function(){var g,w=ir.get(this),F=w[h+"queue"],K=w[h+"queueHooks"],Y=L.timers,ut=F?F.length:0;for(w.finish=!0,L.queue(this,h,[]),K&&K.stop&&K.stop.call(this,!0),g=Y.length;g--;)Y[g].elem===this&&Y[g].queue===h&&(Y[g].anim.stop(!0),Y.splice(g,1));for(g=0;g<ut;g++)F[g]&&F[g].finish&&F[g].finish.call(this);delete w.finish})}}),L.each(["toggle","show","hide"],function(h,g){var w=L.fn[g];L.fn[g]=function(F,K,Y){return null==F||"boolean"==typeof F?w.apply(this,arguments):this.animate(rt(g,!0),F,K,Y)}}),L.each({slideDown:rt("show"),slideUp:rt("hide"),slideToggle:rt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(h,g){L.fn[h]=function(w,F,K){return this.animate(g,w,F,K)}}),L.timers=[],L.fx.tick=function(){var h,g=0,w=L.timers;for(Ut=Date.now();g<w.length;g++)(h=w[g])()||w[g]!==h||w.splice(g--,1);w.length||L.fx.stop(),Ut=void 0},L.fx.timer=function(h){L.timers.push(h),L.fx.start()},L.fx.interval=13,L.fx.start=function(){mt||(mt=!0,S())},L.fx.stop=function(){mt=null},L.fx.speeds={slow:600,fast:200,_default:400},L.fn.delay=function(h,g){return h=L.fx&&L.fx.speeds[h]||h,this.queue(g=g||"fx",function(w,F){var K=Me.setTimeout(w,h);F.stop=function(){Me.clearTimeout(K)}})},lt=kr.createElement("input"),H=kr.createElement("select").appendChild(kr.createElement("option")),lt.type="checkbox",mr.checkOn=""!==lt.value,mr.optSelected=H.selected,(lt=kr.createElement("input")).value="t",lt.type="radio",mr.radioValue="t"===lt.value;var tt,kt=L.expr.attrHandle;L.fn.extend({attr:function(h,g){return En(this,L.attr,h,g,1<arguments.length)},removeAttr:function(h){return this.each(function(){L.removeAttr(this,h)})}}),L.extend({attr:function(h,g,w){var F,K,Y=h.nodeType;if(3!==Y&&8!==Y&&2!==Y)return typeof h.getAttribute>"u"?L.prop(h,g,w):(1===Y&&L.isXMLDoc(h)||(K=L.attrHooks[g.toLowerCase()]||(L.expr.match.bool.test(g)?tt:void 0)),void 0!==w?null===w?void L.removeAttr(h,g):K&&"set"in K&&void 0!==(F=K.set(h,w,g))?F:(h.setAttribute(g,w+""),w):K&&"get"in K&&null!==(F=K.get(h,g))?F:null==(F=L.find.attr(h,g))?void 0:F)},attrHooks:{type:{set:function(h,g){if(!mr.radioValue&&"radio"===g&&ke(h,"input")){var w=h.value;return h.setAttribute("type",g),w&&(h.value=w),g}}}},removeAttr:function(h,g){var w,F=0,K=g&&g.match(bn);if(K&&1===h.nodeType)for(;w=K[F++];)h.removeAttribute(w)}}),tt={set:function(h,g,w){return!1===g?L.removeAttr(h,w):h.setAttribute(w,w),w}},L.each(L.expr.match.bool.source.match(/\w+/g),function(h,g){var w=kt[g]||L.find.attr;kt[g]=function(F,K,Y){var ut,Dt,_t=K.toLowerCase();return Y||(Dt=kt[_t],kt[_t]=ut,ut=null!=w(F,K,Y)?_t:null,kt[_t]=Dt),ut}});var Yt=/^(?:input|select|textarea|button)$/i,le=/^(?:a|area)$/i;function we(h){return(h.match(bn)||[]).join(" ")}function Jt(h){return h.getAttribute&&h.getAttribute("class")||""}function de(h){return Array.isArray(h)?h:"string"==typeof h&&h.match(bn)||[]}L.fn.extend({prop:function(h,g){return En(this,L.prop,h,g,1<arguments.length)},removeProp:function(h){return this.each(function(){delete this[L.propFix[h]||h]})}}),L.extend({prop:function(h,g,w){var F,K,Y=h.nodeType;if(3!==Y&&8!==Y&&2!==Y)return 1===Y&&L.isXMLDoc(h)||(K=L.propHooks[g=L.propFix[g]||g]),void 0!==w?K&&"set"in K&&void 0!==(F=K.set(h,w,g))?F:h[g]=w:K&&"get"in K&&null!==(F=K.get(h,g))?F:h[g]},propHooks:{tabIndex:{get:function(h){var g=L.find.attr(h,"tabindex");return g?parseInt(g,10):Yt.test(h.nodeName)||le.test(h.nodeName)&&h.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),mr.optSelected||(L.propHooks.selected={get:function(h){return null},set:function(h){}}),L.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){L.propFix[this.toLowerCase()]=this}),L.fn.extend({addClass:function(h){var g,w,F,K,Y,ut;return Dr(h)?this.each(function(Dt){L(this).addClass(h.call(this,Dt,Jt(this)))}):(g=de(h)).length?this.each(function(){if(F=Jt(this),w=1===this.nodeType&&" "+we(F)+" "){for(Y=0;Y<g.length;Y++)w.indexOf(" "+(K=g[Y])+" ")<0&&(w+=K+" ");ut=we(w),F!==ut&&this.setAttribute("class",ut)}}):this},removeClass:function(h){var g,w,F,K,Y,ut;return Dr(h)?this.each(function(Dt){L(this).removeClass(h.call(this,Dt,Jt(this)))}):arguments.length?(g=de(h)).length?this.each(function(){if(F=Jt(this),w=1===this.nodeType&&" "+we(F)+" "){for(Y=0;Y<g.length;Y++)for(K=g[Y];-1<w.indexOf(" "+K+" ");)w=w.replace(" "+K+" "," ");ut=we(w),F!==ut&&this.setAttribute("class",ut)}}):this:this.attr("class","")},toggleClass:function(h,g){var w,F,K,Y,ut=typeof h,Dt="string"===ut||Array.isArray(h);return Dr(h)?this.each(function(_t){L(this).toggleClass(h.call(this,_t,Jt(this),g),g)}):"boolean"==typeof g&&Dt?g?this.addClass(h):this.removeClass(h):(w=de(h),this.each(function(){if(Dt)for(Y=L(this),K=0;K<w.length;K++)Y.hasClass(F=w[K])?Y.removeClass(F):Y.addClass(F);else void 0!==h&&"boolean"!==ut||((F=Jt(this))&&ir.set(this,"__className__",F),this.setAttribute&&this.setAttribute("class",F||!1===h?"":ir.get(this,"__className__")||""))}))},hasClass:function(h){var g,w,F=0;for(g=" "+h+" ";w=this[F++];)if(1===w.nodeType&&-1<(" "+we(Jt(w))+" ").indexOf(g))return!0;return!1}});var Ae=/\r/g;L.fn.extend({val:function(h){var g,w,F,K=this[0];return arguments.length?(F=Dr(h),this.each(function(Y){var ut;1===this.nodeType&&(null==(ut=F?h.call(this,Y,L(this).val()):h)?ut="":"number"==typeof ut?ut+="":Array.isArray(ut)&&(ut=L.map(ut,function(Dt){return null==Dt?"":Dt+""})),(g=L.valHooks[this.type]||L.valHooks[this.nodeName.toLowerCase()])&&"set"in g&&void 0!==g.set(this,ut,"value")||(this.value=ut))})):K?(g=L.valHooks[K.type]||L.valHooks[K.nodeName.toLowerCase()])&&"get"in g&&void 0!==(w=g.get(K,"value"))?w:"string"==typeof(w=K.value)?w.replace(Ae,""):w??"":void 0}}),L.extend({valHooks:{option:{get:function(h){return L.find.attr(h,"value")??we(L.text(h))}},select:{get:function(h){var g,w,F,K=h.options,Y=h.selectedIndex,ut="select-one"===h.type,Dt=ut?null:[],_t=ut?Y+1:K.length;for(F=Y<0?_t:ut?Y:0;F<_t;F++)if(((w=K[F]).selected||F===Y)&&!w.disabled&&(!w.parentNode.disabled||!ke(w.parentNode,"optgroup"))){if(g=L(w).val(),ut)return g;Dt.push(g)}return Dt},set:function(h,g){for(var w,F,K=h.options,Y=L.makeArray(g),ut=K.length;ut--;)((F=K[ut]).selected=-1<L.inArray(L.valHooks.option.get(F),Y))&&(w=!0);return w||(h.selectedIndex=-1),Y}}}}),L.each(["radio","checkbox"],function(){L.valHooks[this]={set:function(h,g){if(Array.isArray(g))return h.checked=-1<L.inArray(L(h).val(),g)}},mr.checkOn||(L.valHooks[this].get=function(h){return null===h.getAttribute("value")?"on":h.value})});var De=Me.location,nt={guid:Date.now()},Bt=/\?/;L.parseXML=function(h){var g,w;if(!h||"string"!=typeof h)return null;try{g=(new Me.DOMParser).parseFromString(h,"text/xml")}catch{}return w=g&&g.getElementsByTagName("parsererror")[0],g&&!w||L.error("Invalid XML: "+(w?L.map(w.childNodes,function(F){return F.textContent}).join("\n"):h)),g};var ct=/^(?:focusinfocus|focusoutblur)$/,Et=function(h){h.stopPropagation()};L.extend(L.event,{trigger:function(h,g,w,F){var K,Y,ut,Dt,_t,te,se,Ce,ue=[w||kr],Se=$r.call(h,"type")?h.type:h,ar=$r.call(h,"namespace")?h.namespace.split("."):[];if(Y=Ce=ut=w=w||kr,3!==w.nodeType&&8!==w.nodeType&&!ct.test(Se+L.event.triggered)&&(-1<Se.indexOf(".")&&(Se=(ar=Se.split(".")).shift(),ar.sort()),_t=Se.indexOf(":")<0&&"on"+Se,(h=h[L.expando]?h:new L.Event(Se,"object"==typeof h&&h)).isTrigger=F?2:3,h.namespace=ar.join("."),h.rnamespace=h.namespace?new RegExp("(^|\\.)"+ar.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h.result=void 0,h.target||(h.target=w),g=null==g?[h]:L.makeArray(g,[h]),se=L.event.special[Se]||{},F||!se.trigger||!1!==se.trigger.apply(w,g))){if(!F&&!se.noBubble&&!Rn(w)){for(ct.test((Dt=se.delegateType||Se)+Se)||(Y=Y.parentNode);Y;Y=Y.parentNode)ue.push(Y),ut=Y;ut===(w.ownerDocument||kr)&&ue.push(ut.defaultView||ut.parentWindow||Me)}for(K=0;(Y=ue[K++])&&!h.isPropagationStopped();)Ce=Y,h.type=1<K?Dt:se.bindType||Se,(te=(ir.get(Y,"events")||Object.create(null))[h.type]&&ir.get(Y,"handle"))&&te.apply(Y,g),(te=_t&&Y[_t])&&te.apply&&Vr(Y)&&(h.result=te.apply(Y,g),!1===h.result&&h.preventDefault());return h.type=Se,F||h.isDefaultPrevented()||se._default&&!1!==se._default.apply(ue.pop(),g)||!Vr(w)||_t&&Dr(w[Se])&&!Rn(w)&&((ut=w[_t])&&(w[_t]=null),L.event.triggered=Se,h.isPropagationStopped()&&Ce.addEventListener(Se,Et),w[Se](),h.isPropagationStopped()&&Ce.removeEventListener(Se,Et),L.event.triggered=void 0,ut&&(w[_t]=ut)),h.result}},simulate:function(h,g,w){var F=L.extend(new L.Event,w,{type:h,isSimulated:!0});L.event.trigger(F,null,g)}}),L.fn.extend({trigger:function(h,g){return this.each(function(){L.event.trigger(h,g,this)})},triggerHandler:function(h,g){var w=this[0];if(w)return L.event.trigger(h,g,w,!0)}});var Xt=/\[\]$/,ee=/\r?\n/g,Fe=/^(?:submit|button|image|reset|file)$/i,be=/^(?:input|select|textarea|keygen)/i;function Ir(h,g,w,F){var K;if(Array.isArray(g))L.each(g,function(Y,ut){w||Xt.test(h)?F(h,ut):Ir(h+"["+("object"==typeof ut&&null!=ut?Y:"")+"]",ut,w,F)});else if(w||"object"!==Pn(g))F(h,g);else for(K in g)Ir(h+"["+K+"]",g[K],w,F)}L.param=function(h,g){var w,F=[],K=function(Y,ut){var Dt=Dr(ut)?ut():ut;F[F.length]=encodeURIComponent(Y)+"="+encodeURIComponent(Dt??"")};if(null==h)return"";if(Array.isArray(h)||h.jquery&&!L.isPlainObject(h))L.each(h,function(){K(this.name,this.value)});else for(w in h)Ir(w,h[w],g,K);return F.join("&")},L.fn.extend({serialize:function(){return L.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var h=L.prop(this,"elements");return h?L.makeArray(h):this}).filter(function(){var h=this.type;return this.name&&!L(this).is(":disabled")&&be.test(this.nodeName)&&!Fe.test(h)&&(this.checked||!Zi.test(h))}).map(function(h,g){var w=L(this).val();return null==w?null:Array.isArray(w)?L.map(w,function(F){return{name:g.name,value:F.replace(ee,"\r\n")}}):{name:g.name,value:w.replace(ee,"\r\n")}}).get()}});var $e=/%20/g,Pr=/#.*$/,Ar=/([?&])_=[^&]*/,fr=/^(.*?):[ \t]*([^\r\n]*)$/gm,pr=/^(?:GET|HEAD)$/,ln=/^\/\//,un={},Qr={},Te="*/".concat("*"),yr=kr.createElement("a");function li(h){return function(g,w){"string"!=typeof g&&(w=g,g="*");var F,K=0,Y=g.toLowerCase().match(bn)||[];if(Dr(w))for(;F=Y[K++];)"+"===F[0]?(F=F.slice(1)||"*",(h[F]=h[F]||[]).unshift(w)):(h[F]=h[F]||[]).push(w)}}function ui(h,g,w,F){var K={},Y=h===Qr;function ut(Dt){var _t;return K[Dt]=!0,L.each(h[Dt]||[],function(te,se){var Ce=se(g,w,F);return"string"!=typeof Ce||Y||K[Ce]?Y?!(_t=Ce):void 0:(g.dataTypes.unshift(Ce),ut(Ce),!1)}),_t}return ut(g.dataTypes[0])||!K["*"]&&ut("*")}function $i(h,g){var w,F,K=L.ajaxSettings.flatOptions||{};for(w in g)void 0!==g[w]&&((K[w]?h:F||(F={}))[w]=g[w]);return F&&L.extend(!0,h,F),h}yr.href=De.href,L.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:De.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(De.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Te,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":L.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(h,g){return g?$i($i(h,L.ajaxSettings),g):$i(L.ajaxSettings,h)},ajaxPrefilter:li(un),ajaxTransport:li(Qr),ajax:function(h,g){"object"==typeof h&&(g=h,h=void 0);var w,F,K,Y,ut,Dt,_t,te,se,Ce,ue=L.ajaxSetup({},g=g||{}),Se=ue.context||ue,ar=ue.context&&(Se.nodeType||Se.jquery)?L(Se):L.event,xr=L.Deferred(),Br=L.Callbacks("once memory"),Mn=ue.statusCode||{},ci={},Ci={},fn="canceled",rn={readyState:0,getResponseHeader:function(hr){var yn;if(_t){if(!Y)for(Y={};yn=fr.exec(K);)Y[yn[1].toLowerCase()+" "]=(Y[yn[1].toLowerCase()+" "]||[]).concat(yn[2]);yn=Y[hr.toLowerCase()+" "]}return null==yn?null:yn.join(", ")},getAllResponseHeaders:function(){return _t?K:null},setRequestHeader:function(hr,yn){return null==_t&&(hr=Ci[hr.toLowerCase()]=Ci[hr.toLowerCase()]||hr,ci[hr]=yn),this},overrideMimeType:function(hr){return null==_t&&(ue.mimeType=hr),this},statusCode:function(hr){var yn;if(hr)if(_t)rn.always(hr[rn.status]);else for(yn in hr)Mn[yn]=[Mn[yn],hr[yn]];return this},abort:function(hr){var yn=hr||fn;return w&&w.abort(yn),cn(0,yn),this}};if(xr.promise(rn),ue.url=((h||ue.url||De.href)+"").replace(ln,De.protocol+"//"),ue.type=g.method||g.type||ue.method||ue.type,ue.dataTypes=(ue.dataType||"*").toLowerCase().match(bn)||[""],null==ue.crossDomain){Dt=kr.createElement("a");try{Dt.href=ue.url,Dt.href=Dt.href,ue.crossDomain=yr.protocol+"//"+yr.host!=Dt.protocol+"//"+Dt.host}catch{ue.crossDomain=!0}}if(ue.data&&ue.processData&&"string"!=typeof ue.data&&(ue.data=L.param(ue.data,ue.traditional)),ui(un,ue,g,rn),_t)return rn;for(se in(te=L.event&&ue.global)&&0==L.active++&&L.event.trigger("ajaxStart"),ue.type=ue.type.toUpperCase(),ue.hasContent=!pr.test(ue.type),F=ue.url.replace(Pr,""),ue.hasContent?ue.data&&ue.processData&&0===(ue.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ue.data=ue.data.replace($e,"+")):(Ce=ue.url.slice(F.length),ue.data&&(ue.processData||"string"==typeof ue.data)&&(F+=(Bt.test(F)?"&":"?")+ue.data,delete ue.data),!1===ue.cache&&(F=F.replace(Ar,"$1"),Ce=(Bt.test(F)?"&":"?")+"_="+nt.guid+++Ce),ue.url=F+Ce),ue.ifModified&&(L.lastModified[F]&&rn.setRequestHeader("If-Modified-Since",L.lastModified[F]),L.etag[F]&&rn.setRequestHeader("If-None-Match",L.etag[F])),(ue.data&&ue.hasContent&&!1!==ue.contentType||g.contentType)&&rn.setRequestHeader("Content-Type",ue.contentType),rn.setRequestHeader("Accept",ue.dataTypes[0]&&ue.accepts[ue.dataTypes[0]]?ue.accepts[ue.dataTypes[0]]+("*"!==ue.dataTypes[0]?", "+Te+"; q=0.01":""):ue.accepts["*"]),ue.headers)rn.setRequestHeader(se,ue.headers[se]);if(ue.beforeSend&&(!1===ue.beforeSend.call(Se,rn,ue)||_t))return rn.abort();if(fn="abort",Br.add(ue.complete),rn.done(ue.success),rn.fail(ue.error),w=ui(Qr,ue,g,rn)){if(rn.readyState=1,te&&ar.trigger("ajaxSend",[rn,ue]),_t)return rn;ue.async&&0<ue.timeout&&(ut=Me.setTimeout(function(){rn.abort("timeout")},ue.timeout));try{_t=!1,w.send(ci,cn)}catch(hr){if(_t)throw hr;cn(-1,hr)}}else cn(-1,"No Transport");function cn(hr,yn,PA,SA){var qi,FA,TA,oA,ZA,lA=yn;_t||(_t=!0,ut&&Me.clearTimeout(ut),w=void 0,K=SA||"",rn.readyState=0<hr?4:0,qi=200<=hr&&hr<300||304===hr,PA&&(oA=function(Li,_n,Si){for(var O,Ct,Rt,ie,ve=Li.contents,Pe=Li.dataTypes;"*"===Pe[0];)Pe.shift(),void 0===O&&(O=Li.mimeType||_n.getResponseHeader("Content-Type"));if(O)for(Ct in ve)if(ve[Ct]&&ve[Ct].test(O)){Pe.unshift(Ct);break}if(Pe[0]in Si)Rt=Pe[0];else{for(Ct in Si){if(!Pe[0]||Li.converters[Ct+" "+Pe[0]]){Rt=Ct;break}ie||(ie=Ct)}Rt=Rt||ie}if(Rt)return Rt!==Pe[0]&&Pe.unshift(Rt),Si[Rt]}(ue,rn,PA)),!qi&&-1<L.inArray("script",ue.dataTypes)&&L.inArray("json",ue.dataTypes)<0&&(ue.converters["text script"]=function(){}),oA=function(Li,_n,Si,O){var Ct,Rt,ie,ve,Pe,dr={},Gr=Li.dataTypes.slice();if(Gr[1])for(ie in Li.converters)dr[ie.toLowerCase()]=Li.converters[ie];for(Rt=Gr.shift();Rt;)if(Li.responseFields[Rt]&&(Si[Li.responseFields[Rt]]=_n),!Pe&&O&&Li.dataFilter&&(_n=Li.dataFilter(_n,Li.dataType)),Pe=Rt,Rt=Gr.shift())if("*"===Rt)Rt=Pe;else if("*"!==Pe&&Pe!==Rt){if(!(ie=dr[Pe+" "+Rt]||dr["* "+Rt]))for(Ct in dr)if((ve=Ct.split(" "))[1]===Rt&&(ie=dr[Pe+" "+ve[0]]||dr["* "+ve[0]])){!0===ie?ie=dr[Ct]:!0!==dr[Ct]&&(Rt=ve[0],Gr.unshift(ve[1]));break}if(!0!==ie)if(ie&&Li.throws)_n=ie(_n);else try{_n=ie(_n)}catch(nn){return{state:"parsererror",error:ie?nn:"No conversion from "+Pe+" to "+Rt}}}return{state:"success",data:_n}}(ue,oA,rn,qi),qi?(ue.ifModified&&((ZA=rn.getResponseHeader("Last-Modified"))&&(L.lastModified[F]=ZA),(ZA=rn.getResponseHeader("etag"))&&(L.etag[F]=ZA)),204===hr||"HEAD"===ue.type?lA="nocontent":304===hr?lA="notmodified":(lA=oA.state,FA=oA.data,qi=!(TA=oA.error))):(TA=lA,!hr&&lA||(lA="error",hr<0&&(hr=0))),rn.status=hr,rn.statusText=(yn||lA)+"",qi?xr.resolveWith(Se,[FA,lA,rn]):xr.rejectWith(Se,[rn,lA,TA]),rn.statusCode(Mn),Mn=void 0,te&&ar.trigger(qi?"ajaxSuccess":"ajaxError",[rn,ue,qi?FA:TA]),Br.fireWith(Se,[rn,lA]),te&&(ar.trigger("ajaxComplete",[rn,ue]),--L.active||L.event.trigger("ajaxStop")))}return rn},getJSON:function(h,g,w){return L.get(h,g,w,"json")},getScript:function(h,g){return L.get(h,void 0,g,"script")}}),L.each(["get","post"],function(h,g){L[g]=function(w,F,K,Y){return Dr(F)&&(Y=Y||K,K=F,F=void 0),L.ajax(L.extend({url:w,type:g,dataType:Y,data:F,success:K},L.isPlainObject(w)&&w))}}),L.ajaxPrefilter(function(h){var g;for(g in h.headers)"content-type"===g.toLowerCase()&&(h.contentType=h.headers[g]||"")}),L._evalUrl=function(h,g,w){return L.ajax({url:h,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(F){L.globalEval(F,g,w)}})},L.fn.extend({wrapAll:function(h){var g;return this[0]&&(Dr(h)&&(h=h.call(this[0])),g=L(h,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&g.insertBefore(this[0]),g.map(function(){for(var w=this;w.firstElementChild;)w=w.firstElementChild;return w}).append(this)),this},wrapInner:function(h){return Dr(h)?this.each(function(g){L(this).wrapInner(h.call(this,g))}):this.each(function(){var g=L(this),w=g.contents();w.length?w.wrapAll(h):g.append(h)})},wrap:function(h){var g=Dr(h);return this.each(function(w){L(this).wrapAll(g?h.call(this,w):h)})},unwrap:function(h){return this.parent(h).not("body").each(function(){L(this).replaceWith(this.childNodes)}),this}}),L.expr.pseudos.hidden=function(h){return!L.expr.pseudos.visible(h)},L.expr.pseudos.visible=function(h){return!!(h.offsetWidth||h.offsetHeight||h.getClientRects().length)},L.ajaxSettings.xhr=function(){try{return new Me.XMLHttpRequest}catch{}};var xn={0:200,1223:204},vi=L.ajaxSettings.xhr();mr.cors=!!vi&&"withCredentials"in vi,mr.ajax=vi=!!vi,L.ajaxTransport(function(h){var g,w;if(mr.cors||vi&&!h.crossDomain)return{send:function(F,K){var Y,ut=h.xhr();if(ut.open(h.type,h.url,h.async,h.username,h.password),h.xhrFields)for(Y in h.xhrFields)ut[Y]=h.xhrFields[Y];for(Y in h.mimeType&&ut.overrideMimeType&&ut.overrideMimeType(h.mimeType),h.crossDomain||F["X-Requested-With"]||(F["X-Requested-With"]="XMLHttpRequest"),F)ut.setRequestHeader(Y,F[Y]);g=function(Dt){return function(){g&&(g=w=ut.onload=ut.onerror=ut.onabort=ut.ontimeout=ut.onreadystatechange=null,"abort"===Dt?ut.abort():"error"===Dt?"number"!=typeof ut.status?K(0,"error"):K(ut.status,ut.statusText):K(xn[ut.status]||ut.status,ut.statusText,"text"!==(ut.responseType||"text")||"string"!=typeof ut.responseText?{binary:ut.response}:{text:ut.responseText},ut.getAllResponseHeaders()))}},ut.onload=g(),w=ut.onerror=ut.ontimeout=g("error"),void 0!==ut.onabort?ut.onabort=w:ut.onreadystatechange=function(){4===ut.readyState&&Me.setTimeout(function(){g&&w()})},g=g("abort");try{ut.send(h.hasContent&&h.data||null)}catch(Dt){if(g)throw Dt}},abort:function(){g&&g()}}}),L.ajaxPrefilter(function(h){h.crossDomain&&(h.contents.script=!1)}),L.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(h){return L.globalEval(h),h}}}),L.ajaxPrefilter("script",function(h){void 0===h.cache&&(h.cache=!1),h.crossDomain&&(h.type="GET")}),L.ajaxTransport("script",function(h){var g,w;if(h.crossDomain||h.scriptAttrs)return{send:function(F,K){g=L("<script>").attr(h.scriptAttrs||{}).prop({charset:h.scriptCharset,src:h.url}).on("load error",w=function(Y){g.remove(),w=null,Y&&K("error"===Y.type?404:200,Y.type)}),kr.head.appendChild(g[0])},abort:function(){w&&w()}}});var Mi,yi=[],xe=/(=)\?(?=&|$)|\?\?/;L.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var h=yi.pop()||L.expando+"_"+nt.guid++;return this[h]=!0,h}}),L.ajaxPrefilter("json jsonp",function(h,g,w){var F,K,Y,ut=!1!==h.jsonp&&(xe.test(h.url)?"url":"string"==typeof h.data&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&xe.test(h.data)&&"data");if(ut||"jsonp"===h.dataTypes[0])return F=h.jsonpCallback=Dr(h.jsonpCallback)?h.jsonpCallback():h.jsonpCallback,ut?h[ut]=h[ut].replace(xe,"$1"+F):!1!==h.jsonp&&(h.url+=(Bt.test(h.url)?"&":"?")+h.jsonp+"="+F),h.converters["script json"]=function(){return Y||L.error(F+" was not called"),Y[0]},h.dataTypes[0]="json",K=Me[F],Me[F]=function(){Y=arguments},w.always(function(){void 0===K?L(Me).removeProp(F):Me[F]=K,h[F]&&(h.jsonpCallback=g.jsonpCallback,yi.push(F)),Y&&Dr(K)&&K(Y[0]),Y=K=void 0}),"script"}),mr.createHTMLDocument=((Mi=kr.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Mi.childNodes.length),L.parseHTML=function(h,g,w){return"string"!=typeof h?[]:("boolean"==typeof g&&(w=g,g=!1),g||(mr.createHTMLDocument?((F=(g=kr.implementation.createHTMLDocument("")).createElement("base")).href=kr.location.href,g.head.appendChild(F)):g=kr),Y=!w&&[],(K=Ue.exec(h))?[g.createElement(K[1])]:(K=er([h],g,Y),Y&&Y.length&&L(Y).remove(),L.merge([],K.childNodes)));var F,K,Y},L.fn.load=function(h,g,w){var F,K,Y,ut=this,Dt=h.indexOf(" ");return-1<Dt&&(F=we(h.slice(Dt)),h=h.slice(0,Dt)),Dr(g)?(w=g,g=void 0):g&&"object"==typeof g&&(K="POST"),0<ut.length&&L.ajax({url:h,type:K||"GET",dataType:"html",data:g}).done(function(_t){Y=arguments,ut.html(F?L("<div>").append(L.parseHTML(_t)).find(F):_t)}).always(w&&function(_t,te){ut.each(function(){w.apply(this,Y||[_t.responseText,te,_t])})}),this},L.expr.pseudos.animated=function(h){return L.grep(L.timers,function(g){return h===g.elem}).length},L.offset={setOffset:function(h,g,w){var F,K,Y,ut,Dt,_t,te=L.css(h,"position"),se=L(h),Ce={};"static"===te&&(h.style.position="relative"),Dt=se.offset(),Y=L.css(h,"top"),_t=L.css(h,"left"),("absolute"===te||"fixed"===te)&&-1<(Y+_t).indexOf("auto")?(ut=(F=se.position()).top,K=F.left):(ut=parseFloat(Y)||0,K=parseFloat(_t)||0),Dr(g)&&(g=g.call(h,w,L.extend({},Dt))),null!=g.top&&(Ce.top=g.top-Dt.top+ut),null!=g.left&&(Ce.left=g.left-Dt.left+K),"using"in g?g.using.call(h,Ce):se.css(Ce)}},L.fn.extend({offset:function(h){if(arguments.length)return void 0===h?this:this.each(function(K){L.offset.setOffset(this,h,K)});var g,w,F=this[0];return F?F.getClientRects().length?{top:(g=F.getBoundingClientRect()).top+(w=F.ownerDocument.defaultView).pageYOffset,left:g.left+w.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var h,g,w,F=this[0],K={top:0,left:0};if("fixed"===L.css(F,"position"))g=F.getBoundingClientRect();else{for(g=this.offset(),w=F.ownerDocument,h=F.offsetParent||w.documentElement;h&&(h===w.body||h===w.documentElement)&&"static"===L.css(h,"position");)h=h.parentNode;h&&h!==F&&1===h.nodeType&&((K=L(h).offset()).top+=L.css(h,"borderTopWidth",!0),K.left+=L.css(h,"borderLeftWidth",!0))}return{top:g.top-K.top-L.css(F,"marginTop",!0),left:g.left-K.left-L.css(F,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var h=this.offsetParent;h&&"static"===L.css(h,"position");)h=h.offsetParent;return h||vr})}}),L.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(h,g){var w="pageYOffset"===g;L.fn[h]=function(F){return En(this,function(K,Y,ut){var Dt;if(Rn(K)?Dt=K:9===K.nodeType&&(Dt=K.defaultView),void 0===ut)return Dt?Dt[g]:K[Y];Dt?Dt.scrollTo(w?Dt.pageXOffset:ut,w?ut:Dt.pageYOffset):K[Y]=ut},h,F,arguments.length)}}),L.each(["top","left"],function(h,g){L.cssHooks[g]=ft(mr.pixelPosition,function(w,F){if(F)return F=at(w,g),Tt.test(F)?L(w).position()[g]+"px":F})}),L.each({Height:"height",Width:"width"},function(h,g){L.each({padding:"inner"+h,content:g,"":"outer"+h},function(w,F){L.fn[F]=function(K,Y){var ut=arguments.length&&(w||"boolean"!=typeof K),Dt=w||(!0===K||!0===Y?"margin":"border");return En(this,function(_t,te,se){var Ce;return Rn(_t)?0===F.indexOf("outer")?_t["inner"+h]:_t.document.documentElement["client"+h]:9===_t.nodeType?(Ce=_t.documentElement,Math.max(_t.body["scroll"+h],Ce["scroll"+h],_t.body["offset"+h],Ce["offset"+h],Ce["client"+h])):void 0===se?L.css(_t,te,Dt):L.style(_t,te,se,Dt)},g,ut?K:void 0,ut)}})}),L.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(h,g){L.fn[g]=function(w){return this.on(g,w)}}),L.fn.extend({bind:function(h,g,w){return this.on(h,null,g,w)},unbind:function(h,g){return this.off(h,null,g)},delegate:function(h,g,w,F){return this.on(g,h,w,F)},undelegate:function(h,g,w){return 1===arguments.length?this.off(h,"**"):this.off(g,h||"**",w)},hover:function(h,g){return this.on("mouseenter",h).on("mouseleave",g||h)}}),L.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(h,g){L.fn[g]=function(w,F){return 0<arguments.length?this.on(g,null,w,F):this.trigger(g)}});var Ne=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;L.proxy=function(h,g){var w,F,K;if("string"==typeof g&&(w=h[g],g=h,h=w),Dr(h))return F=jr.call(arguments,2),(K=function(){return h.apply(g||this,F.concat(jr.call(arguments)))}).guid=h.guid=h.guid||L.guid++,K},L.holdReady=function(h){h?L.readyWait++:L.ready(!0)},L.isArray=Array.isArray,L.parseJSON=JSON.parse,L.nodeName=ke,L.isFunction=Dr,L.isWindow=Rn,L.camelCase=Oi,L.type=Pn,L.now=Date.now,L.isNumeric=function(h){var g=L.type(h);return("number"===g||"string"===g)&&!isNaN(h-parseFloat(h))},L.trim=function(h){return null==h?"":(h+"").replace(Ne,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return L});var qe=Me.jQuery,We=Me.$;return L.noConflict=function(h){return Me.$===L&&(Me.$=We),h&&Me.jQuery===L&&(Me.jQuery=qe),L},typeof Hr>"u"&&(Me.jQuery=Me.$=L),L}),function(Me,Hr){"object"==typeof exports&&typeof module<"u"?Hr(exports):"function"==typeof define&&define.amd?define(["exports"],Hr):Hr((Me=typeof globalThis<"u"?globalThis:Me||self).Popper={})}(this,function(Me){"use strict";function Hr(jt){if(null==jt)return window;if("[object Window]"!==jt.toString()){var Vt=jt.ownerDocument;return Vt&&Vt.defaultView||window}return jt}function mn(jt){return jt instanceof Hr(jt).Element||jt instanceof Element}function Zr(jt){return jt instanceof Hr(jt).HTMLElement||jt instanceof HTMLElement}function jr(jt){return typeof ShadowRoot<"u"&&(jt instanceof Hr(jt).ShadowRoot||jt instanceof ShadowRoot)}var Xr=Math.max,Ai=Math.min,Lr=Math.round;function Zn(){var jt=navigator.userAgentData;return null!=jt&&jt.brands&&Array.isArray(jt.brands)?jt.brands.map(function(Vt){return Vt.brand+"/"+Vt.version}).join(" "):navigator.userAgent}function Kr(){return!/^((?!chrome|android).)*safari/i.test(Zn())}function $r(jt,Vt,re){void 0===Vt&&(Vt=!1),void 0===re&&(re=!1);var me=jt.getBoundingClientRect(),Xe=1,Qe=1;Vt&&Zr(jt)&&(Xe=jt.offsetWidth>0&&Lr(me.width)/jt.offsetWidth||1,Qe=jt.offsetHeight>0&&Lr(me.height)/jt.offsetHeight||1);var er=(mn(jt)?Hr(jt):window).visualViewport,Oe=!Kr()&&re,ze=(me.left+(Oe&&er?er.offsetLeft:0))/Xe,cr=(me.top+(Oe&&er?er.offsetTop:0))/Qe,p=me.width/Xe,C=me.height/Qe;return{width:p,height:C,top:cr,right:ze+p,bottom:cr+C,left:ze,x:ze,y:cr}}function Ki(jt){var Vt=Hr(jt);return{scrollLeft:Vt.pageXOffset,scrollTop:Vt.pageYOffset}}function tn(jt){return jt?(jt.nodeName||"").toLowerCase():null}function mr(jt){return((mn(jt)?jt.ownerDocument:jt.document)||window.document).documentElement}function Dr(jt){return $r(mr(jt)).left+Ki(jt).scrollLeft}function Rn(jt){return Hr(jt).getComputedStyle(jt)}function kr(jt){var Vt=Rn(jt);return/auto|scroll|overlay|hidden/.test(Vt.overflow+Vt.overflowY+Vt.overflowX)}function Ni(jt,Vt,re){void 0===re&&(re=!1);var me,Xe,C,k,N,U,Qe=Zr(Vt),er=Zr(Vt)&&(k=(C=Vt).getBoundingClientRect(),N=Lr(k.width)/C.offsetWidth||1,U=Lr(k.height)/C.offsetHeight||1,1!==N||1!==U),Oe=mr(Vt),ze=$r(jt,er,re),cr={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(Qe||!Qe&&!re)&&(("body"!==tn(Vt)||kr(Oe))&&(cr=(me=Vt)!==Hr(me)&&Zr(me)?{scrollLeft:(Xe=me).scrollLeft,scrollTop:Xe.scrollTop}:Ki(me)),Zr(Vt)?((p=$r(Vt,!0)).x+=Vt.clientLeft,p.y+=Vt.clientTop):Oe&&(p.x=Dr(Oe))),{x:ze.left+cr.scrollLeft-p.x,y:ze.top+cr.scrollTop-p.y,width:ze.width,height:ze.height}}function xi(jt){var Vt=$r(jt),re=jt.offsetWidth,me=jt.offsetHeight;return Math.abs(Vt.width-re)<=1&&(re=Vt.width),Math.abs(Vt.height-me)<=1&&(me=Vt.height),{x:jt.offsetLeft,y:jt.offsetTop,width:re,height:me}}function Pn(jt){return"html"===tn(jt)?jt:jt.assignedSlot||jt.parentNode||(jr(jt)?jt.host:null)||mr(jt)}function HA(jt){return["html","body","#document"].indexOf(tn(jt))>=0?jt.ownerDocument.body:Zr(jt)&&kr(jt)?jt:HA(Pn(jt))}function zi(jt,Vt){var re;void 0===Vt&&(Vt=[]);var me=HA(jt),Xe=me===(null==(re=jt.ownerDocument)?void 0:re.body),Qe=Hr(me),er=Xe?[Qe].concat(Qe.visualViewport||[],kr(me)?me:[]):me,Oe=Vt.concat(er);return Xe?Oe:Oe.concat(zi(Pn(er)))}function L(jt){return["table","td","th"].indexOf(tn(jt))>=0}function pA(jt){return Zr(jt)&&"fixed"!==Rn(jt).position?jt.offsetParent:null}function ke(jt){for(var Vt=Hr(jt),re=pA(jt);re&&L(re)&&"static"===Rn(re).position;)re=pA(re);return re&&("html"===tn(re)||"body"===tn(re)&&"static"===Rn(re).position)?Vt:re||function(me){var Xe=/firefox/i.test(Zn());if(/Trident/i.test(Zn())&&Zr(me)&&"fixed"===Rn(me).position)return null;var Qe=Pn(me);for(jr(Qe)&&(Qe=Qe.host);Zr(Qe)&&["html","body"].indexOf(tn(Qe))<0;){var er=Rn(Qe);if("none"!==er.transform||"none"!==er.perspective||"paint"===er.contain||-1!==["transform","perspective"].indexOf(er.willChange)||Xe&&"filter"===er.willChange||Xe&&er.filter&&"none"!==er.filter)return Qe;Qe=Qe.parentNode}return null}(jt)||Vt}var _i="top",ki="bottom",Ve="right",Ht="left",D="auto",gi=[_i,ki,Ve,Ht],Yn="start",Fn="end",pi="viewport",Sr="popper",$n=gi.reduce(function(jt,Vt){return jt.concat([Vt+"-"+Yn,Vt+"-"+Fn])},[]),Di=[].concat(gi,[D]).reduce(function(jt,Vt){return jt.concat([Vt,Vt+"-"+Yn,Vt+"-"+Fn])},[]),Ue=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function KA(jt){var Vt=new Map,re=new Set,me=[];function Xe(Qe){re.add(Qe.name),[].concat(Qe.requires||[],Qe.requiresIfExists||[]).forEach(function(er){if(!re.has(er)){var Oe=Vt.get(er);Oe&&Xe(Oe)}}),me.push(Qe)}return jt.forEach(function(Qe){Vt.set(Qe.name,Qe)}),jt.forEach(function(Qe){re.has(Qe.name)||Xe(Qe)}),me}function mi(jt,Vt){var re=Vt.getRootNode&&Vt.getRootNode();if(jt.contains(Vt))return!0;if(re&&jr(re)){var me=Vt;do{if(me&&jt.isSameNode(me))return!0;me=me.parentNode||me.host}while(me)}return!1}function Ei(jt){return Object.assign({},jt,{left:jt.x,top:jt.y,right:jt.x+jt.width,bottom:jt.y+jt.height})}function Xn(jt,Vt,re){return Vt===pi?Ei(function(me,Xe){var Qe=Hr(me),er=mr(me),Oe=Qe.visualViewport,ze=er.clientWidth,cr=er.clientHeight,p=0,C=0;if(Oe){ze=Oe.width,cr=Oe.height;var k=Kr();(k||!k&&"fixed"===Xe)&&(p=Oe.offsetLeft,C=Oe.offsetTop)}return{width:ze,height:cr,x:p+Dr(me),y:C}}(jt,re)):mn(Vt)?((Qe=$r(me=Vt,!1,"fixed"===re)).top=Qe.top+me.clientTop,Qe.left=Qe.left+me.clientLeft,Qe.bottom=Qe.top+me.clientHeight,Qe.right=Qe.left+me.clientWidth,Qe.width=me.clientWidth,Qe.height=me.clientHeight,Qe.x=Qe.left,Qe.y=Qe.top,Qe):Ei(function(me){var Xe,Qe=mr(me),er=Ki(me),Oe=null==(Xe=me.ownerDocument)?void 0:Xe.body,ze=Xr(Qe.scrollWidth,Qe.clientWidth,Oe?Oe.scrollWidth:0,Oe?Oe.clientWidth:0),cr=Xr(Qe.scrollHeight,Qe.clientHeight,Oe?Oe.scrollHeight:0,Oe?Oe.clientHeight:0),p=-er.scrollLeft+Dr(me),C=-er.scrollTop;return"rtl"===Rn(Oe||Qe).direction&&(p+=Xr(Qe.clientWidth,Oe?Oe.clientWidth:0)-ze),{width:ze,height:cr,x:p,y:C}}(mr(jt)));var me,Qe}function Tn(jt){return jt.split("-")[0]}function bn(jt){return jt.split("-")[1]}function ur(jt){return["top","bottom"].indexOf(jt)>=0?"x":"y"}function Yr(jt){var Vt,re=jt.reference,me=jt.element,Xe=jt.placement,Qe=Xe?Tn(Xe):null,er=Xe?bn(Xe):null,Oe=re.x+re.width/2-me.width/2,ze=re.y+re.height/2-me.height/2;switch(Qe){case _i:Vt={x:Oe,y:re.y-me.height};break;case ki:Vt={x:Oe,y:re.y+re.height};break;case Ve:Vt={x:re.x+re.width,y:ze};break;case Ht:Vt={x:re.x-me.width,y:ze};break;default:Vt={x:re.x,y:re.y}}var cr=Qe?ur(Qe):null;if(null!=cr){var p="y"===cr?"height":"width";switch(er){case Yn:Vt[cr]=Vt[cr]-(re[p]/2-me[p]/2);break;case Fn:Vt[cr]=Vt[cr]+(re[p]/2-me[p]/2)}}return Vt}function Gi(jt){return Object.assign({},{top:0,right:0,bottom:0,left:0},jt)}function YA(jt,Vt){return Vt.reduce(function(re,me){return re[me]=jt,re},{})}function zn(jt,Vt){void 0===Vt&&(Vt={});var me=Vt.placement,Xe=void 0===me?jt.placement:me,Qe=Vt.strategy,er=void 0===Qe?jt.strategy:Qe,Oe=Vt.boundary,ze=void 0===Oe?"clippingParents":Oe,cr=Vt.rootBoundary,p=void 0===cr?pi:cr,C=Vt.elementContext,k=void 0===C?Sr:C,N=Vt.altBoundary,U=void 0!==N&&N,x=Vt.padding,M=void 0===x?0:x,q=Gi("number"!=typeof M?M:YA(M,gi)),dt=jt.rects.popper,pt=jt.elements[U?k===Sr?"reference":Sr:k],Tt=function Ji(jt,Vt,re,me){var ze,cr,p,Xe="clippingParents"===Vt?(cr=zi(Pn(ze=jt)),mn(p=["absolute","fixed"].indexOf(Rn(ze).position)>=0&&Zr(ze)?ke(ze):ze)?cr.filter(function(C){return mn(C)&&mi(C,p)&&"body"!==tn(C)}):[]):[].concat(Vt),Qe=[].concat(Xe,[re]),Oe=Qe.reduce(function(ze,cr){var p=Xn(jt,cr,me);return ze.top=Xr(p.top,ze.top),ze.right=Ai(p.right,ze.right),ze.bottom=Ai(p.bottom,ze.bottom),ze.left=Xr(p.left,ze.left),ze},Xn(jt,Qe[0],me));return Oe.width=Oe.right-Oe.left,Oe.height=Oe.bottom-Oe.top,Oe.x=Oe.left,Oe.y=Oe.top,Oe}(mn(pt)?pt:pt.contextElement||mr(jt.elements.popper),ze,p,er),T=$r(jt.elements.reference),G=Yr({reference:T,element:dt,strategy:"absolute",placement:Xe}),W=Ei(Object.assign({},dt,G)),Z=k===Sr?W:T,at={top:Tt.top-Z.top+q.top,bottom:Z.bottom-Tt.bottom+q.bottom,left:Tt.left-Z.left+q.left,right:Z.right-Tt.right+q.right},ft=jt.modifiersData.offset;if(k===Sr&&ft){var It=ft[Xe];Object.keys(at).forEach(function(Mt){var Nt=[Ve,ki].indexOf(Mt)>=0?1:-1,oe=[_i,ki].indexOf(Mt)>=0?"y":"x";at[Mt]+=It[oe]*Nt})}return at}var ti={placement:"bottom",modifiers:[],strategy:"absolute"};function En(){for(var jt=arguments.length,Vt=new Array(jt),re=0;re<jt;re++)Vt[re]=arguments[re];return!Vt.some(function(me){return!(me&&"function"==typeof me.getBoundingClientRect)})}function Kn(jt){void 0===jt&&(jt={});var re=jt.defaultModifiers,me=void 0===re?[]:re,Xe=jt.defaultOptions,Qe=void 0===Xe?ti:Xe;return function(er,Oe,ze){void 0===ze&&(ze=Qe);var cr,p,C={placement:"bottom",orderedModifiers:[],options:Object.assign({},ti,Qe),modifiersData:{},elements:{reference:er,popper:Oe},attributes:{},styles:{}},k=[],N=!1,U={state:C,setOptions:function(M){var q="function"==typeof M?M(C.options):M;x(),C.options=Object.assign({},Qe,C.options,q),C.scrollParents={reference:mn(er)?zi(er):er.contextElement?zi(er.contextElement):[],popper:zi(Oe)};var P,dt,Tt,T,pt=(P=[].concat(me,C.options.modifiers),dt=P.reduce(function(Tt,T){var G=Tt[T.name];return Tt[T.name]=G?Object.assign({},G,T,{options:Object.assign({},G.options,T.options),data:Object.assign({},G.data,T.data)}):T,Tt},{}),Tt=Object.keys(dt).map(function(Tt){return dt[Tt]}),T=KA(Tt),Ue.reduce(function(G,W){return G.concat(T.filter(function(Z){return Z.phase===W}))},[]));return C.orderedModifiers=pt.filter(function(Tt){return Tt.enabled}),C.orderedModifiers.forEach(function(Tt){var G=Tt.options,Z=Tt.effect;if("function"==typeof Z){var at=Z({state:C,name:Tt.name,instance:U,options:void 0===G?{}:G});k.push(at||function(){})}}),U.update()},forceUpdate:function(){if(!N){var M=C.elements,q=M.reference,P=M.popper;if(En(q,P)){C.rects={reference:Ni(q,ke(P),"fixed"===C.options.strategy),popper:xi(P)},C.reset=!1,C.placement=C.options.placement,C.orderedModifiers.forEach(function(Z){return C.modifiersData[Z.name]=Object.assign({},Z.data)});for(var dt=0;dt<C.orderedModifiers.length;dt++)if(!0!==C.reset){var pt=C.orderedModifiers[dt],Tt=pt.fn,T=pt.options;"function"==typeof Tt&&(C=Tt({state:C,options:void 0===T?{}:T,name:pt.name,instance:U})||C)}else C.reset=!1,dt=-1}}},update:(cr=function(){return new Promise(function(M){U.forceUpdate(),M(C)})},function(){return p||(p=new Promise(function(M){Promise.resolve().then(function(){p=void 0,M(cr())})})),p}),destroy:function(){x(),N=!0}};if(!En(er,Oe))return U;function x(){k.forEach(function(M){return M()}),k=[]}return U.setOptions(ze).then(function(M){!N&&ze.onFirstUpdate&&ze.onFirstUpdate(M)}),U}}var Nn={passive:!0},ji={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(jt){var Vt=jt.state,re=jt.instance,me=jt.options,Xe=me.scroll,Qe=void 0===Xe||Xe,er=me.resize,Oe=void 0===er||er,ze=Hr(Vt.elements.popper),cr=[].concat(Vt.scrollParents.reference,Vt.scrollParents.popper);return Qe&&cr.forEach(function(p){p.addEventListener("scroll",re.update,Nn)}),Oe&&ze.addEventListener("resize",re.update,Nn),function(){Qe&&cr.forEach(function(p){p.removeEventListener("scroll",re.update,Nn)}),Oe&&ze.removeEventListener("resize",re.update,Nn)}},data:{}},Oi={name:"popperOffsets",enabled:!0,phase:"read",fn:function(jt){var Vt=jt.state;Vt.modifiersData[jt.name]=Yr({reference:Vt.rects.reference,element:Vt.rects.popper,strategy:"absolute",placement:Vt.placement})},data:{}},Vr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Cn(jt){var Vt,re=jt.popper,me=jt.popperRect,Xe=jt.placement,Qe=jt.variation,er=jt.offsets,Oe=jt.position,ze=jt.gpuAcceleration,cr=jt.adaptive,p=jt.roundOffsets,C=jt.isFixed,k=er.x,N=void 0===k?0:k,U=er.y,x=void 0===U?0:U,M="function"==typeof p?p({x:N,y:x}):{x:N,y:x};N=M.x,x=M.y;var q=er.hasOwnProperty("x"),P=er.hasOwnProperty("y"),dt=Ht,pt=_i,Tt=window;if(cr){var T=ke(re),G="clientHeight",W="clientWidth";T===Hr(re)&&"static"!==Rn(T=mr(re)).position&&"absolute"===Oe&&(G="scrollHeight",W="scrollWidth"),(Xe===_i||(Xe===Ht||Xe===Ve)&&Qe===Fn)&&(pt=ki,x-=(C&&T===Tt&&Tt.visualViewport?Tt.visualViewport.height:T[G])-me.height,x*=ze?1:-1),(Xe===Ht||(Xe===_i||Xe===ki)&&Qe===Fn)&&(dt=Ve,N-=(C&&T===Tt&&Tt.visualViewport?Tt.visualViewport.width:T[W])-me.width,N*=ze?1:-1)}var Z,It,Mt,oe,ne,at=Object.assign({position:Oe},cr&&Vr),ft=!0===p?(It={x:N,y:x},Mt=Hr(re),oe=It.y,{x:Lr(It.x*(ne=Mt.devicePixelRatio||1))/ne||0,y:Lr(oe*ne)/ne||0}):{x:N,y:x};return N=ft.x,x=ft.y,Object.assign({},at,ze?((Z={})[pt]=P?"0":"",Z[dt]=q?"0":"",Z.transform=(Tt.devicePixelRatio||1)<=1?"translate("+N+"px, "+x+"px)":"translate3d("+N+"px, "+x+"px, 0)",Z):((Vt={})[pt]=P?x+"px":"",Vt[dt]=q?N+"px":"",Vt.transform="",Vt))}var ir={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(jt){var Vt=jt.state,re=jt.options,me=re.gpuAcceleration,Xe=void 0===me||me,Qe=re.adaptive,er=void 0===Qe||Qe,Oe=re.roundOffsets,ze=void 0===Oe||Oe,cr={placement:Tn(Vt.placement),variation:bn(Vt.placement),popper:Vt.elements.popper,popperRect:Vt.rects.popper,gpuAcceleration:Xe,isFixed:"fixed"===Vt.options.strategy};null!=Vt.modifiersData.popperOffsets&&(Vt.styles.popper=Object.assign({},Vt.styles.popper,Cn(Object.assign({},cr,{offsets:Vt.modifiersData.popperOffsets,position:Vt.options.strategy,adaptive:er,roundOffsets:ze})))),null!=Vt.modifiersData.arrow&&(Vt.styles.arrow=Object.assign({},Vt.styles.arrow,Cn(Object.assign({},cr,{offsets:Vt.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ze})))),Vt.attributes.popper=Object.assign({},Vt.attributes.popper,{"data-popper-placement":Vt.placement})},data:{}},oi={name:"applyStyles",enabled:!0,phase:"write",fn:function(jt){var Vt=jt.state;Object.keys(Vt.elements).forEach(function(re){var me=Vt.styles[re]||{},Xe=Vt.attributes[re]||{},Qe=Vt.elements[re];Zr(Qe)&&tn(Qe)&&(Object.assign(Qe.style,me),Object.keys(Xe).forEach(function(er){var Oe=Xe[er];!1===Oe?Qe.removeAttribute(er):Qe.setAttribute(er,!0===Oe?"":Oe)}))})},effect:function(jt){var Vt=jt.state,re={popper:{position:Vt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Vt.elements.popper.style,re.popper),Vt.styles=re,Vt.elements.arrow&&Object.assign(Vt.elements.arrow.style,re.arrow),function(){Object.keys(Vt.elements).forEach(function(me){var Xe=Vt.elements[me],Qe=Vt.attributes[me]||{},er=Object.keys(Vt.styles.hasOwnProperty(me)?Vt.styles[me]:re[me]).reduce(function(Oe,ze){return Oe[ze]="",Oe},{});Zr(Xe)&&tn(Xe)&&(Object.assign(Xe.style,er),Object.keys(Qe).forEach(function(Oe){Xe.removeAttribute(Oe)}))})}},requires:["computeStyles"]},GA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(jt){var Vt=jt.state,me=jt.name,Xe=jt.options.offset,Qe=void 0===Xe?[0,0]:Xe,er=Di.reduce(function(p,C){return p[C]=(N=Vt.rects,U=Qe,x=Tn(k=C),M=[Ht,_i].indexOf(x)>=0?-1:1,P=(P=(q="function"==typeof U?U(Object.assign({},N,{placement:k})):U)[0])||0,dt=((dt=q[1])||0)*M,[Ht,Ve].indexOf(x)>=0?{x:dt,y:P}:{x:P,y:dt}),p;var k,N,U,x,M,q,P,dt},{}),Oe=er[Vt.placement],cr=Oe.y;null!=Vt.modifiersData.popperOffsets&&(Vt.modifiersData.popperOffsets.x+=Oe.x,Vt.modifiersData.popperOffsets.y+=cr),Vt.modifiersData[me]=er}},RA={left:"right",right:"left",bottom:"top",top:"bottom"};function Vi(jt){return jt.replace(/left|right|bottom|top/g,function(Vt){return RA[Vt]})}var en={start:"end",end:"start"};function On(jt){return jt.replace(/start|end/g,function(Vt){return en[Vt]})}var vr={name:"flip",enabled:!0,phase:"main",fn:function(jt){var Vt=jt.state,re=jt.options,me=jt.name;if(!Vt.modifiersData[me]._skip){for(var Xe=re.mainAxis,Qe=void 0===Xe||Xe,er=re.altAxis,Oe=void 0===er||er,ze=re.fallbackPlacements,cr=re.padding,p=re.boundary,C=re.rootBoundary,k=re.altBoundary,N=re.flipVariations,U=void 0===N||N,x=re.allowedAutoPlacements,M=Vt.options.placement,q=Tn(M),P=ze||(q!==M&&U?function(st){if(Tn(st)===D)return[];var wt=Vi(st);return[On(st),wt,On(wt)]}(M):[Vi(M)]),dt=[M].concat(P).reduce(function(st,wt){return st.concat(Tn(wt)===D?function mA(jt,Vt){void 0===Vt&&(Vt={});var Xe=Vt.boundary,Qe=Vt.rootBoundary,er=Vt.padding,Oe=Vt.flipVariations,ze=Vt.allowedAutoPlacements,cr=void 0===ze?Di:ze,p=bn(Vt.placement),C=p?Oe?$n:$n.filter(function(U){return bn(U)===p}):gi,k=C.filter(function(U){return cr.indexOf(U)>=0});0===k.length&&(k=C);var N=k.reduce(function(U,x){return U[x]=zn(jt,{placement:x,boundary:Xe,rootBoundary:Qe,padding:er})[Tn(x)],U},{});return Object.keys(N).sort(function(U,x){return N[U]-N[x]})}(Vt,{placement:wt,boundary:p,rootBoundary:C,padding:cr,flipVariations:U,allowedAutoPlacements:x}):wt)},[]),pt=Vt.rects.reference,Tt=Vt.rects.popper,T=new Map,G=!0,W=dt[0],Z=0;Z<dt.length;Z++){var at=dt[Z],ft=Tn(at),It=bn(at)===Yn,Mt=[_i,ki].indexOf(ft)>=0,Nt=Mt?"width":"height",oe=zn(Vt,{placement:at,boundary:p,rootBoundary:C,altBoundary:k,padding:cr}),ne=Mt?It?Ve:Ht:It?ki:_i;pt[Nt]>Tt[Nt]&&(ne=Vi(ne));var bt=Vi(ne),J=[];if(Qe&&J.push(oe[ft]<=0),Oe&&J.push(oe[ne]<=0,oe[bt]<=0),J.every(function(st){return st})){W=at,G=!1;break}T.set(at,J)}if(G)for(var qt=function(st){var wt=dt.find(function(Ut){var mt=T.get(Ut);if(mt)return mt.slice(0,st).every(function(lt){return lt})});if(wt)return W=wt,"break"},ht=U?3:1;ht>0&&"break"!==qt(ht);ht--);Vt.placement!==W&&(Vt.modifiersData[me]._skip=!0,Vt.placement=W,Vt.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Gn(jt,Vt,re){return Xr(jt,Ai(Vt,re))}var vn={name:"preventOverflow",enabled:!0,phase:"main",fn:function(jt){var be,Ir,Vt=jt.state,re=jt.options,me=jt.name,Xe=re.mainAxis,Qe=void 0===Xe||Xe,er=re.altAxis,Oe=void 0!==er&&er,k=re.tether,N=void 0===k||k,U=re.tetherOffset,x=void 0===U?0:U,M=zn(Vt,{boundary:re.boundary,rootBoundary:re.rootBoundary,padding:re.padding,altBoundary:re.altBoundary}),q=Tn(Vt.placement),P=bn(Vt.placement),dt=!P,pt=ur(q),Tt="x"===pt?"y":"x",T=Vt.modifiersData.popperOffsets,G=Vt.rects.reference,W=Vt.rects.popper,Z="function"==typeof x?x(Object.assign({},Vt.rects,{placement:Vt.placement})):x,at="number"==typeof Z?{mainAxis:Z,altAxis:Z}:Object.assign({mainAxis:0,altAxis:0},Z),ft=Vt.modifiersData.offset?Vt.modifiersData.offset[Vt.placement]:null,It={x:0,y:0};if(T){if(Qe){var Mt,Nt="y"===pt?_i:Ht,oe="y"===pt?ki:Ve,ne="y"===pt?"height":"width",bt=T[pt],J=bt+M[Nt],qt=bt-M[oe],ht=N?-W[ne]/2:0,st=P===Yn?G[ne]:W[ne],wt=P===Yn?-W[ne]:-G[ne],Ut=Vt.elements.arrow,mt=N&&Ut?xi(Ut):{width:0,height:0},lt=Vt.modifiersData["arrow#persistent"]?Vt.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=lt[Nt],$=lt[oe],ot=Gn(0,G[ne],mt[ne]),S=dt?G[ne]/2-ht-ot-H-at.mainAxis:st-ot-H-at.mainAxis,V=dt?-G[ne]/2+ht+ot+$+at.mainAxis:wt+ot+$+at.mainAxis,rt=Vt.elements.arrow&&ke(Vt.elements.arrow),gt=null!=(Mt=ft?.[pt])?Mt:0,tt=bt+V-gt,kt=Gn(N?Ai(J,bt+S-gt-(rt?"y"===pt?rt.clientTop||0:rt.clientLeft||0:0)):J,bt,N?Xr(qt,tt):qt);T[pt]=kt,It[pt]=kt-bt}if(Oe){var Yt,Jt=T[Tt],de="y"===Tt?"height":"width",Ae=Jt+M["x"===pt?_i:Ht],De=Jt-M["x"===pt?ki:Ve],nt=-1!==[_i,Ht].indexOf(q),Bt=null!=(Yt=ft?.[Tt])?Yt:0,ct=nt?Ae:Jt-G[de]-W[de]-Bt+at.altAxis,Et=nt?Jt+G[de]+W[de]-Bt-at.altAxis:De,Xt=N&&nt?(Ir=Gn(ct,Jt,be=Et))>be?be:Ir:Gn(N?ct:Ae,Jt,N?Et:De);T[Tt]=Xt,It[Tt]=Xt-Jt}Vt.modifiersData[me]=It}},requiresIfExists:["offset"]},Fr={name:"arrow",enabled:!0,phase:"main",fn:function(jt){var Vt,W,Z,re=jt.state,me=jt.name,Xe=jt.options,Qe=re.elements.arrow,er=re.modifiersData.popperOffsets,Oe=Tn(re.placement),ze=ur(Oe),cr=[Ht,Ve].indexOf(Oe)>=0?"height":"width";if(Qe&&er){var p=(Z=re,Gi("number"!=typeof(W="function"==typeof(W=Xe.padding)?W(Object.assign({},Z.rects,{placement:Z.placement})):W)?W:YA(W,gi))),C=xi(Qe),k="y"===ze?_i:Ht,N="y"===ze?ki:Ve,U=re.rects.reference[cr]+re.rects.reference[ze]-er[ze]-re.rects.popper[cr],x=er[ze]-re.rects.reference[ze],M=ke(Qe),q=M?"y"===ze?M.clientHeight||0:M.clientWidth||0:0,Tt=q/2-C[cr]/2+(U/2-x/2),T=Gn(p[k],Tt,q-C[cr]-p[N]);re.modifiersData[me]=((Vt={})[ze]=T,Vt.centerOffset=T-Tt,Vt)}},effect:function(jt){var Vt=jt.state,re=jt.options.element,me=void 0===re?"[data-popper-arrow]":re;null!=me&&("string"!=typeof me||(me=Vt.elements.popper.querySelector(me)))&&mi(Vt.elements.popper,me)&&(Vt.elements.arrow=me)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vA(jt,Vt,re){return void 0===re&&(re={x:0,y:0}),{top:jt.top-Vt.height-re.y,right:jt.right-Vt.width+re.x,bottom:jt.bottom-Vt.height+re.y,left:jt.left-Vt.width-re.x}}function hA(jt){return[_i,Ve,ki,Ht].some(function(Vt){return jt[Vt]>=0})}var yA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(jt){var Vt=jt.state,re=jt.name,me=Vt.rects.reference,Xe=Vt.rects.popper,Qe=Vt.modifiersData.preventOverflow,er=zn(Vt,{elementContext:"reference"}),Oe=zn(Vt,{altBoundary:!0}),ze=vA(er,me),cr=vA(Oe,Xe,Qe),p=hA(ze),C=hA(cr);Vt.modifiersData[re]={referenceClippingOffsets:ze,popperEscapeOffsets:cr,isReferenceHidden:p,hasPopperEscaped:C},Vt.attributes.popper=Object.assign({},Vt.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":C})}},ei=Kn({defaultModifiers:[ji,Oi,ir,oi]}),aA=[ji,Oi,ir,oi,GA,vr,vn,Fr,yA],Zi=Kn({defaultModifiers:aA});Me.applyStyles=oi,Me.arrow=Fr,Me.computeStyles=ir,Me.createPopper=Zi,Me.createPopperLite=ei,Me.defaultModifiers=aA,Me.detectOverflow=zn,Me.eventListeners=ji,Me.flip=vr,Me.hide=yA,Me.offset=GA,Me.popperGenerator=Kn,Me.popperOffsets=Oi,Me.preventOverflow=vn,Object.defineProperty(Me,"__esModule",{value:!0})}),function(Me,Hr){"object"==typeof exports&&typeof module<"u"?module.exports=Hr(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],Hr):(Me=typeof globalThis<"u"?globalThis:Me||self).bootstrap=Hr(Me.Popper)}(this,function(Me){"use strict";const mn=function Hr(Qt){const B=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(Qt)for(const z in Qt)if("default"!==z){const Kt=Object.getOwnPropertyDescriptor(Qt,z);Object.defineProperty(B,z,Kt.get?Kt:{enumerable:!0,get:()=>Qt[z]})}return B.default=Qt,Object.freeze(B)}(Me),Zr=new Map,jr={set(Qt,B,z){Zr.has(Qt)||Zr.set(Qt,new Map);const Kt=Zr.get(Qt);Kt.has(B)||0===Kt.size?Kt.set(B,z):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Kt.keys())[0]}.`)},get:(Qt,B)=>Zr.has(Qt)&&Zr.get(Qt).get(B)||null,remove(Qt,B){if(!Zr.has(Qt))return;const z=Zr.get(Qt);z.delete(B),0===z.size&&Zr.delete(Qt)}},Xr="transitionend",Ai=Qt=>(Qt&&window.CSS&&window.CSS.escape&&(Qt=Qt.replace(/#([^\s"#']+)/g,(B,z)=>`#${CSS.escape(z)}`)),Qt),Lr=Qt=>{Qt.dispatchEvent(new Event(Xr))},Zn=Qt=>!(!Qt||"object"!=typeof Qt)&&(void 0!==Qt.jquery&&(Qt=Qt[0]),void 0!==Qt.nodeType),Kr=Qt=>Zn(Qt)?Qt.jquery?Qt[0]:Qt:"string"==typeof Qt&&Qt.length>0?document.querySelector(Ai(Qt)):null,$r=Qt=>{if(!Zn(Qt)||0===Qt.getClientRects().length)return!1;const B="visible"===getComputedStyle(Qt).getPropertyValue("visibility"),z=Qt.closest("details:not([open])");if(!z)return B;if(z!==Qt){const Kt=Qt.closest("summary");if(Kt&&Kt.parentNode!==z||null===Kt)return!1}return B},Ki=Qt=>!Qt||Qt.nodeType!==Node.ELEMENT_NODE||!!Qt.classList.contains("disabled")||(void 0!==Qt.disabled?Qt.disabled:Qt.hasAttribute("disabled")&&"false"!==Qt.getAttribute("disabled")),tn=Qt=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof Qt.getRootNode){const B=Qt.getRootNode();return B instanceof ShadowRoot?B:null}return Qt instanceof ShadowRoot?Qt:Qt.parentNode?tn(Qt.parentNode):null},mr=()=>{},Rn=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,kr=[],Ni=()=>"rtl"===document.documentElement.dir,xi=Qt=>{var B;B=()=>{const z=Rn();if(z){const Kt=Qt.NAME,Ie=z.fn[Kt];z.fn[Kt]=Qt.jQueryInterface,z.fn[Kt].Constructor=Qt,z.fn[Kt].noConflict=()=>(z.fn[Kt]=Ie,Qt.jQueryInterface)}},"loading"===document.readyState?(kr.length||document.addEventListener("DOMContentLoaded",()=>{for(const z of kr)z()}),kr.push(B)):B()},Pn=(Qt,B=[],z=Qt)=>"function"==typeof Qt?Qt.call(...B):z,HA=(Qt,B,z=!0)=>{if(!z)return void Pn(Qt);const Kt=(nr=>{if(!nr)return 0;let{transitionDuration:An,transitionDelay:fi}=window.getComputedStyle(nr);const UA=Number.parseFloat(An),xA=Number.parseFloat(fi);return UA||xA?(An=An.split(",")[0],fi=fi.split(",")[0],1e3*(Number.parseFloat(An)+Number.parseFloat(fi))):0})(B)+5;let Ie=!1;const Ke=({target:nr})=>{nr===B&&(Ie=!0,B.removeEventListener(Xr,Ke),Pn(Qt))};B.addEventListener(Xr,Ke),setTimeout(()=>{Ie||Lr(B)},Kt)},zi=(Qt,B,z,Kt)=>{const Ie=Qt.length;let Ke=Qt.indexOf(B);return-1===Ke?!z&&Kt?Qt[Ie-1]:Qt[0]:(Ke+=z?1:-1,Kt&&(Ke=(Ke+Ie)%Ie),Qt[Math.max(0,Math.min(Ke,Ie-1))])},L=/[^.]*(?=\..*)\.|.*/,pA=/\..*/,ke=/::\d+$/,_i={};let ki=1;const Ve={mouseenter:"mouseover",mouseleave:"mouseout"},Ht=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function D(Qt,B){return B&&`${B}::${ki++}`||Qt.uidEvent||ki++}function gi(Qt){const B=D(Qt);return Qt.uidEvent=B,_i[B]=_i[B]||{},_i[B]}function Yn(Qt,B,z=null){return Object.values(Qt).find(Kt=>Kt.callable===B&&Kt.delegationSelector===z)}function Fn(Qt,B,z){const Kt="string"==typeof B,Ie=Kt?z:B||z;let Ke=Di(Qt);return Ht.has(Ke)||(Ke=Qt),[Kt,Ie,Ke]}function pi(Qt,B,z,Kt,Ie){if("string"!=typeof B||!Qt)return;let[Ke,nr,An]=Fn(B,z,Kt);var Ss;B in Ve&&(Ss=nr,nr=function(XA){if(!XA.relatedTarget||XA.relatedTarget!==XA.delegateTarget&&!XA.delegateTarget.contains(XA.relatedTarget))return Ss.call(this,XA)});const fi=gi(Qt),UA=fi[An]||(fi[An]={}),xA=Yn(UA,nr,Ke?z:null);if(xA)return void(xA.oneOff=xA.oneOff&&Ie);const ts=D(nr,B.replace(L,"")),gs=Ke?function(ps,Ss,XA){return function ks(Fs){const Aa=ps.querySelectorAll(Ss);for(let{target:ms}=Fs;ms&&ms!==this;ms=ms.parentNode)for(const va of Aa)if(va===ms)return KA(Fs,{delegateTarget:ms}),ks.oneOff&&Ue.off(ps,Fs.type,Ss,XA),XA.apply(ms,[Fs])}}(Qt,z,nr):function(ps,Ss){return function XA(ks){return KA(ks,{delegateTarget:ps}),XA.oneOff&&Ue.off(ps,ks.type,Ss),Ss.apply(ps,[ks])}}(Qt,nr);gs.delegationSelector=Ke?z:null,gs.callable=nr,gs.oneOff=Ie,gs.uidEvent=ts,UA[ts]=gs,Qt.addEventListener(An,gs,Ke)}function Sr(Qt,B,z,Kt,Ie){const Ke=Yn(B[z],Kt,Ie);Ke&&(Qt.removeEventListener(z,Ke,Boolean(Ie)),delete B[z][Ke.uidEvent])}function $n(Qt,B,z,Kt){const Ie=B[z]||{};for(const[Ke,nr]of Object.entries(Ie))Ke.includes(Kt)&&Sr(Qt,B,z,nr.callable,nr.delegationSelector)}function Di(Qt){return Qt=Qt.replace(pA,""),Ve[Qt]||Qt}const Ue={on(Qt,B,z,Kt){pi(Qt,B,z,Kt,!1)},one(Qt,B,z,Kt){pi(Qt,B,z,Kt,!0)},off(Qt,B,z,Kt){if("string"!=typeof B||!Qt)return;const[Ie,Ke,nr]=Fn(B,z,Kt),An=nr!==B,fi=gi(Qt),UA=fi[nr]||{},xA=B.startsWith(".");if(void 0===Ke){if(xA)for(const ts of Object.keys(fi))$n(Qt,fi,ts,B.slice(1));for(const[ts,gs]of Object.entries(UA)){const ps=ts.replace(ke,"");An&&!B.includes(ps)||Sr(Qt,fi,nr,gs.callable,gs.delegationSelector)}}else{if(!Object.keys(UA).length)return;Sr(Qt,fi,nr,Ke,Ie?z:null)}},trigger(Qt,B,z){if("string"!=typeof B||!Qt)return null;const Kt=Rn();let Ie=null,Ke=!0,nr=!0,An=!1;B!==Di(B)&&Kt&&(Ie=Kt.Event(B,z),Kt(Qt).trigger(Ie),Ke=!Ie.isPropagationStopped(),nr=!Ie.isImmediatePropagationStopped(),An=Ie.isDefaultPrevented());const fi=KA(new Event(B,{bubbles:Ke,cancelable:!0}),z);return An&&fi.preventDefault(),nr&&Qt.dispatchEvent(fi),fi.defaultPrevented&&Ie&&Ie.preventDefault(),fi}};function KA(Qt,B={}){for(const[z,Kt]of Object.entries(B))try{Qt[z]=Kt}catch{Object.defineProperty(Qt,z,{configurable:!0,get:()=>Kt})}return Qt}function mi(Qt){if("true"===Qt)return!0;if("false"===Qt)return!1;if(Qt===Number(Qt).toString())return Number(Qt);if(""===Qt||"null"===Qt)return null;if("string"!=typeof Qt)return Qt;try{return JSON.parse(decodeURIComponent(Qt))}catch{return Qt}}function Ei(Qt){return Qt.replace(/[A-Z]/g,B=>`-${B.toLowerCase()}`)}const Xn={setDataAttribute(Qt,B,z){Qt.setAttribute(`data-bs-${Ei(B)}`,z)},removeDataAttribute(Qt,B){Qt.removeAttribute(`data-bs-${Ei(B)}`)},getDataAttributes(Qt){if(!Qt)return{};const B={},z=Object.keys(Qt.dataset).filter(Kt=>Kt.startsWith("bs")&&!Kt.startsWith("bsConfig"));for(const Kt of z){let Ie=Kt.replace(/^bs/,"");Ie=Ie.charAt(0).toLowerCase()+Ie.slice(1),B[Ie]=mi(Qt.dataset[Kt])}return B},getDataAttribute:(Qt,B)=>mi(Qt.getAttribute(`data-bs-${Ei(B)}`))};class Ji{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(B){return B=this._mergeConfigObj(B),B=this._configAfterMerge(B),this._typeCheckConfig(B),B}_configAfterMerge(B){return B}_mergeConfigObj(B,z){const Kt=Zn(z)?Xn.getDataAttribute(z,"config"):{};return{...this.constructor.Default,..."object"==typeof Kt?Kt:{},...Zn(z)?Xn.getDataAttributes(z):{},..."object"==typeof B?B:{}}}_typeCheckConfig(B,z=this.constructor.DefaultType){for(const[Ie,Ke]of Object.entries(z)){const nr=B[Ie],An=Zn(nr)?"element":null==(Kt=nr)?`${Kt}`:Object.prototype.toString.call(Kt).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(Ke).test(An))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Ie}" provided type "${An}" but expected type "${Ke}".`)}var Kt}}class Tn extends Ji{constructor(B,z){super(),(B=Kr(B))&&(this._element=B,this._config=this._getConfig(z),jr.set(this._element,this.constructor.DATA_KEY,this))}dispose(){jr.remove(this._element,this.constructor.DATA_KEY),Ue.off(this._element,this.constructor.EVENT_KEY);for(const B of Object.getOwnPropertyNames(this))this[B]=null}_queueCallback(B,z,Kt=!0){HA(B,z,Kt)}_getConfig(B){return B=this._mergeConfigObj(B,this._element),B=this._configAfterMerge(B),this._typeCheckConfig(B),B}static getInstance(B){return jr.get(Kr(B),this.DATA_KEY)}static getOrCreateInstance(B,z={}){return this.getInstance(B)||new this(B,"object"==typeof z?z:null)}static get VERSION(){return"5.3.7"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(B){return`${B}${this.EVENT_KEY}`}}const bn=Qt=>{let B=Qt.getAttribute("data-bs-target");if(!B||"#"===B){let z=Qt.getAttribute("href");if(!z||!z.includes("#")&&!z.startsWith("."))return null;z.includes("#")&&!z.startsWith("#")&&(z=`#${z.split("#")[1]}`),B=z&&"#"!==z?z.trim():null}return B?B.split(",").map(z=>Ai(z)).join(","):null},ur={find:(Qt,B=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(B,Qt)),findOne:(Qt,B=document.documentElement)=>Element.prototype.querySelector.call(B,Qt),children:(Qt,B)=>[].concat(...Qt.children).filter(z=>z.matches(B)),parents(Qt,B){const z=[];let Kt=Qt.parentNode.closest(B);for(;Kt;)z.push(Kt),Kt=Kt.parentNode.closest(B);return z},prev(Qt,B){let z=Qt.previousElementSibling;for(;z;){if(z.matches(B))return[z];z=z.previousElementSibling}return[]},next(Qt,B){let z=Qt.nextElementSibling;for(;z;){if(z.matches(B))return[z];z=z.nextElementSibling}return[]},focusableChildren(Qt){const B=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(z=>`${z}:not([tabindex^="-"])`).join(",");return this.find(B,Qt).filter(z=>!Ki(z)&&$r(z))},getSelectorFromElement(Qt){const B=bn(Qt);return B&&ur.findOne(B)?B:null},getElementFromSelector(Qt){const B=bn(Qt);return B?ur.findOne(B):null},getMultipleElementsFromSelector(Qt){const B=bn(Qt);return B?ur.find(B):[]}},Yr=(Qt,B="hide")=>{const Kt=Qt.NAME;Ue.on(document,`click.dismiss${Qt.EVENT_KEY}`,`[data-bs-dismiss="${Kt}"]`,function(Ie){if(["A","AREA"].includes(this.tagName)&&Ie.preventDefault(),Ki(this))return;const Ke=ur.getElementFromSelector(this)||this.closest(`.${Kt}`);Qt.getOrCreateInstance(Ke)[B]()})},Gi=".bs.alert",YA=`close${Gi}`,zn=`closed${Gi}`;class ti extends Tn{static get NAME(){return"alert"}close(){if(Ue.trigger(this._element,YA).defaultPrevented)return;this._element.classList.remove("show");const B=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,B)}_destroyElement(){this._element.remove(),Ue.trigger(this._element,zn),this.dispose()}static jQueryInterface(B){return this.each(function(){const z=ti.getOrCreateInstance(this);if("string"==typeof B){if(void 0===z[B]||B.startsWith("_")||"constructor"===B)throw new TypeError(`No method named "${B}"`);z[B](this)}})}}Yr(ti,"close"),xi(ti);const En='[data-bs-toggle="button"]';class Kn extends Tn{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(B){return this.each(function(){const z=Kn.getOrCreateInstance(this);"toggle"===B&&z[B]()})}}Ue.on(document,"click.bs.button.data-api",En,Qt=>{Qt.preventDefault();const B=Qt.target.closest(En);Kn.getOrCreateInstance(B).toggle()}),xi(Kn);const Nn=".bs.swipe",ji=`touchstart${Nn}`,Oi=`touchmove${Nn}`,Vr=`touchend${Nn}`,Cn=`pointerdown${Nn}`,ir=`pointerup${Nn}`,oi={endCallback:null,leftCallback:null,rightCallback:null},GA={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class RA extends Ji{constructor(B,z){super(),this._element=B,B&&RA.isSupported()&&(this._config=this._getConfig(z),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return oi}static get DefaultType(){return GA}static get NAME(){return"swipe"}dispose(){Ue.off(this._element,Nn)}_start(B){this._supportPointerEvents?this._eventIsPointerPenTouch(B)&&(this._deltaX=B.clientX):this._deltaX=B.touches[0].clientX}_end(B){this._eventIsPointerPenTouch(B)&&(this._deltaX=B.clientX-this._deltaX),this._handleSwipe(),Pn(this._config.endCallback)}_move(B){this._deltaX=B.touches&&B.touches.length>1?0:B.touches[0].clientX-this._deltaX}_handleSwipe(){const B=Math.abs(this._deltaX);if(B<=40)return;const z=B/this._deltaX;this._deltaX=0,z&&Pn(z>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Ue.on(this._element,Cn,B=>this._start(B)),Ue.on(this._element,ir,B=>this._end(B)),this._element.classList.add("pointer-event")):(Ue.on(this._element,ji,B=>this._start(B)),Ue.on(this._element,Oi,B=>this._move(B)),Ue.on(this._element,Vr,B=>this._end(B)))}_eventIsPointerPenTouch(B){return this._supportPointerEvents&&("pen"===B.pointerType||"touch"===B.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Vi=".bs.carousel",en=".data-api",vr="next",Gn="prev",vn="left",Fr="right",vA=`slide${Vi}`,hA=`slid${Vi}`,yA=`keydown${Vi}`,ei=`mouseenter${Vi}`,aA=`mouseleave${Vi}`,Zi=`dragstart${Vi}`,jt=`load${Vi}${en}`,Vt=`click${Vi}${en}`,re="carousel",me="active",Xe=".active",Qe=".carousel-item",er=Xe+Qe,Oe={ArrowLeft:Fr,ArrowRight:vn},ze={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},cr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class p extends Tn{constructor(B,z){super(B,z),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ur.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===re&&this.cycle()}static get Default(){return ze}static get DefaultType(){return cr}static get NAME(){return"carousel"}next(){this._slide(vr)}nextWhenVisible(){!document.hidden&&$r(this._element)&&this.next()}prev(){this._slide(Gn)}pause(){this._isSliding&&Lr(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Ue.one(this._element,hA,()=>this.cycle()):this.cycle())}to(B){const z=this._getItems();if(B>z.length-1||B<0)return;if(this._isSliding)return void Ue.one(this._element,hA,()=>this.to(B));const Kt=this._getItemIndex(this._getActive());Kt!==B&&this._slide(B>Kt?vr:Gn,z[B])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(B){return B.defaultInterval=B.interval,B}_addEventListeners(){this._config.keyboard&&Ue.on(this._element,yA,B=>this._keydown(B)),"hover"===this._config.pause&&(Ue.on(this._element,ei,()=>this.pause()),Ue.on(this._element,aA,()=>this._maybeEnableCycle())),this._config.touch&&RA.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const z of ur.find(".carousel-item img",this._element))Ue.on(z,Zi,Kt=>Kt.preventDefault());this._swipeHelper=new RA(this._element,{leftCallback:()=>this._slide(this._directionToOrder(vn)),rightCallback:()=>this._slide(this._directionToOrder(Fr)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(B){if(/input|textarea/i.test(B.target.tagName))return;const z=Oe[B.key];z&&(B.preventDefault(),this._slide(this._directionToOrder(z)))}_getItemIndex(B){return this._getItems().indexOf(B)}_setActiveIndicatorElement(B){if(!this._indicatorsElement)return;const z=ur.findOne(Xe,this._indicatorsElement);z.classList.remove(me),z.removeAttribute("aria-current");const Kt=ur.findOne(`[data-bs-slide-to="${B}"]`,this._indicatorsElement);Kt&&(Kt.classList.add(me),Kt.setAttribute("aria-current","true"))}_updateInterval(){const B=this._activeElement||this._getActive();if(!B)return;const z=Number.parseInt(B.getAttribute("data-bs-interval"),10);this._config.interval=z||this._config.defaultInterval}_slide(B,z=null){if(this._isSliding)return;const Kt=this._getActive(),Ie=B===vr,Ke=z||zi(this._getItems(),Kt,Ie,this._config.wrap);if(Ke===Kt)return;const nr=this._getItemIndex(Ke),An=ts=>Ue.trigger(this._element,ts,{relatedTarget:Ke,direction:this._orderToDirection(B),from:this._getItemIndex(Kt),to:nr});if(An(vA).defaultPrevented||!Kt||!Ke)return;const fi=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(nr),this._activeElement=Ke;const UA=Ie?"carousel-item-start":"carousel-item-end",xA=Ie?"carousel-item-next":"carousel-item-prev";Ke.classList.add(xA),Kt.classList.add(UA),Ke.classList.add(UA),this._queueCallback(()=>{Ke.classList.remove(UA,xA),Ke.classList.add(me),Kt.classList.remove(me,xA,UA),this._isSliding=!1,An(hA)},Kt,this._isAnimated()),fi&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ur.findOne(er,this._element)}_getItems(){return ur.find(Qe,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(B){return Ni()?B===vn?Gn:vr:B===vn?vr:Gn}_orderToDirection(B){return Ni()?B===Gn?vn:Fr:B===Gn?Fr:vn}static jQueryInterface(B){return this.each(function(){const z=p.getOrCreateInstance(this,B);if("number"!=typeof B){if("string"==typeof B){if(void 0===z[B]||B.startsWith("_")||"constructor"===B)throw new TypeError(`No method named "${B}"`);z[B]()}}else z.to(B)})}}Ue.on(document,Vt,"[data-bs-slide], [data-bs-slide-to]",function(Qt){const B=ur.getElementFromSelector(this);if(!B||!B.classList.contains(re))return;Qt.preventDefault();const z=p.getOrCreateInstance(B),Kt=this.getAttribute("data-bs-slide-to");return Kt?(z.to(Kt),void z._maybeEnableCycle()):"next"===Xn.getDataAttribute(this,"slide")?(z.next(),void z._maybeEnableCycle()):(z.prev(),void z._maybeEnableCycle())}),Ue.on(window,jt,()=>{const Qt=ur.find('[data-bs-ride="carousel"]');for(const B of Qt)p.getOrCreateInstance(B)}),xi(p);const C=".bs.collapse",k=`show${C}`,N=`shown${C}`,U=`hide${C}`,x=`hidden${C}`,M=`click${C}.data-api`,q="show",P="collapse",dt="collapsing",pt=`:scope .${P} .${P}`,Tt='[data-bs-toggle="collapse"]',T={parent:null,toggle:!0},G={parent:"(null|element)",toggle:"boolean"};class W extends Tn{constructor(B,z){super(B,z),this._isTransitioning=!1,this._triggerArray=[];const Kt=ur.find(Tt);for(const Ie of Kt){const Ke=ur.getSelectorFromElement(Ie),nr=ur.find(Ke).filter(An=>An===this._element);null!==Ke&&nr.length&&this._triggerArray.push(Ie)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return T}static get DefaultType(){return G}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let B=[];if(this._config.parent&&(B=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Ie=>Ie!==this._element).map(Ie=>W.getOrCreateInstance(Ie,{toggle:!1}))),B.length&&B[0]._isTransitioning||Ue.trigger(this._element,k).defaultPrevented)return;for(const Ie of B)Ie.hide();const z=this._getDimension();this._element.classList.remove(P),this._element.classList.add(dt),this._element.style[z]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Kt=`scroll${z[0].toUpperCase()+z.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(dt),this._element.classList.add(P,q),this._element.style[z]="",Ue.trigger(this._element,N)},this._element,!0),this._element.style[z]=`${this._element[Kt]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ue.trigger(this._element,U).defaultPrevented)return;const B=this._getDimension();this._element.style[B]=`${this._element.getBoundingClientRect()[B]}px`,this._element.classList.add(dt),this._element.classList.remove(P,q);for(const z of this._triggerArray){const Kt=ur.getElementFromSelector(z);Kt&&!this._isShown(Kt)&&this._addAriaAndCollapsedClass([z],!1)}this._isTransitioning=!0,this._element.style[B]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(dt),this._element.classList.add(P),Ue.trigger(this._element,x)},this._element,!0)}_isShown(B=this._element){return B.classList.contains(q)}_configAfterMerge(B){return B.toggle=Boolean(B.toggle),B.parent=Kr(B.parent),B}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const B=this._getFirstLevelChildren(Tt);for(const z of B){const Kt=ur.getElementFromSelector(z);Kt&&this._addAriaAndCollapsedClass([z],this._isShown(Kt))}}_getFirstLevelChildren(B){const z=ur.find(pt,this._config.parent);return ur.find(B,this._config.parent).filter(Kt=>!z.includes(Kt))}_addAriaAndCollapsedClass(B,z){if(B.length)for(const Kt of B)Kt.classList.toggle("collapsed",!z),Kt.setAttribute("aria-expanded",z)}static jQueryInterface(B){const z={};return"string"==typeof B&&/show|hide/.test(B)&&(z.toggle=!1),this.each(function(){const Kt=W.getOrCreateInstance(this,z);if("string"==typeof B){if(void 0===Kt[B])throw new TypeError(`No method named "${B}"`);Kt[B]()}})}}Ue.on(document,M,Tt,function(Qt){("A"===Qt.target.tagName||Qt.delegateTarget&&"A"===Qt.delegateTarget.tagName)&&Qt.preventDefault();for(const B of ur.getMultipleElementsFromSelector(this))W.getOrCreateInstance(B,{toggle:!1}).toggle()}),xi(W);const Z="dropdown",at=".bs.dropdown",ft=".data-api",It="ArrowUp",Mt="ArrowDown",Nt=`hide${at}`,oe=`hidden${at}`,ne=`show${at}`,bt=`shown${at}`,J=`click${at}${ft}`,qt=`keydown${at}${ft}`,ht=`keyup${at}${ft}`,st="show",wt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ut=`${wt}.${st}`,mt=".dropdown-menu",lt=Ni()?"top-end":"top-start",H=Ni()?"top-start":"top-end",$=Ni()?"bottom-end":"bottom-start",ot=Ni()?"bottom-start":"bottom-end",S=Ni()?"left-start":"right-start",V=Ni()?"right-start":"left-start",rt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},it={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class gt extends Tn{constructor(B,z){super(B,z),this._popper=null,this._parent=this._element.parentNode,this._menu=ur.next(this._element,mt)[0]||ur.prev(this._element,mt)[0]||ur.findOne(mt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return rt}static get DefaultType(){return it}static get NAME(){return Z}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ki(this._element)||this._isShown())return;const B={relatedTarget:this._element};if(!Ue.trigger(this._element,ne,B).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const z of[].concat(...document.body.children))Ue.on(z,"mouseover",mr);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(st),this._element.classList.add(st),Ue.trigger(this._element,bt,B)}}hide(){!Ki(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(B){if(!Ue.trigger(this._element,Nt,B).defaultPrevented){if("ontouchstart"in document.documentElement)for(const z of[].concat(...document.body.children))Ue.off(z,"mouseover",mr);this._popper&&this._popper.destroy(),this._menu.classList.remove(st),this._element.classList.remove(st),this._element.setAttribute("aria-expanded","false"),Xn.removeDataAttribute(this._menu,"popper"),Ue.trigger(this._element,oe,B),this._element.focus()}}_getConfig(B){if("object"==typeof(B=super._getConfig(B)).reference&&!Zn(B.reference)&&"function"!=typeof B.reference.getBoundingClientRect)throw new TypeError(`${Z.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return B}_createPopper(){if(void 0===mn)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let B=this._element;"parent"===this._config.reference?B=this._parent:Zn(this._config.reference)?B=Kr(this._config.reference):"object"==typeof this._config.reference&&(B=this._config.reference);const z=this._getPopperConfig();this._popper=mn.createPopper(B,this._menu,z)}_isShown(){return this._menu.classList.contains(st)}_getPlacement(){const B=this._parent;if(B.classList.contains("dropend"))return S;if(B.classList.contains("dropstart"))return V;if(B.classList.contains("dropup-center"))return"top";if(B.classList.contains("dropdown-center"))return"bottom";const z="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return B.classList.contains("dropup")?z?H:lt:z?ot:$}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:B}=this._config;return"string"==typeof B?B.split(",").map(z=>Number.parseInt(z,10)):"function"==typeof B?z=>B(z,this._element):B}_getPopperConfig(){const B={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Xn.setDataAttribute(this._menu,"popper","static"),B.modifiers=[{name:"applyStyles",enabled:!1}]),{...B,...Pn(this._config.popperConfig,[void 0,B])}}_selectMenuItem({key:B,target:z}){const Kt=ur.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Ie=>$r(Ie));Kt.length&&zi(Kt,z,B===Mt,!Kt.includes(z)).focus()}static jQueryInterface(B){return this.each(function(){const z=gt.getOrCreateInstance(this,B);if("string"==typeof B){if(void 0===z[B])throw new TypeError(`No method named "${B}"`);z[B]()}})}static clearMenus(B){if(2===B.button||"keyup"===B.type&&"Tab"!==B.key)return;const z=ur.find(Ut);for(const Kt of z){const Ie=gt.getInstance(Kt);if(!Ie||!1===Ie._config.autoClose)continue;const Ke=B.composedPath(),nr=Ke.includes(Ie._menu);if(Ke.includes(Ie._element)||"inside"===Ie._config.autoClose&&!nr||"outside"===Ie._config.autoClose&&nr||Ie._menu.contains(B.target)&&("keyup"===B.type&&"Tab"===B.key||/input|select|option|textarea|form/i.test(B.target.tagName)))continue;const An={relatedTarget:Ie._element};"click"===B.type&&(An.clickEvent=B),Ie._completeHide(An)}}static dataApiKeydownHandler(B){const z=/input|textarea/i.test(B.target.tagName),Kt="Escape"===B.key,Ie=[It,Mt].includes(B.key);if(!Ie&&!Kt||z&&!Kt)return;B.preventDefault();const Ke=this.matches(wt)?this:ur.prev(this,wt)[0]||ur.next(this,wt)[0]||ur.findOne(wt,B.delegateTarget.parentNode),nr=gt.getOrCreateInstance(Ke);if(Ie)return B.stopPropagation(),nr.show(),void nr._selectMenuItem(B);nr._isShown()&&(B.stopPropagation(),nr.hide(),Ke.focus())}}Ue.on(document,qt,wt,gt.dataApiKeydownHandler),Ue.on(document,qt,mt,gt.dataApiKeydownHandler),Ue.on(document,J,gt.clearMenus),Ue.on(document,ht,gt.clearMenus),Ue.on(document,J,wt,function(Qt){Qt.preventDefault(),gt.getOrCreateInstance(this).toggle()}),xi(gt);const tt="backdrop",Yt=`mousedown.bs.${tt}`,le={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},we={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Jt extends Ji{constructor(B){super(),this._config=this._getConfig(B),this._isAppended=!1,this._element=null}static get Default(){return le}static get DefaultType(){return we}static get NAME(){return tt}show(B){if(!this._config.isVisible)return void Pn(B);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Pn(B)})}hide(B){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Pn(B)})):Pn(B)}dispose(){this._isAppended&&(Ue.off(this._element,Yt),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const B=document.createElement("div");B.className=this._config.className,this._config.isAnimated&&B.classList.add("fade"),this._element=B}return this._element}_configAfterMerge(B){return B.rootElement=Kr(B.rootElement),B}_append(){if(this._isAppended)return;const B=this._getElement();this._config.rootElement.append(B),Ue.on(B,Yt,()=>{Pn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(B){HA(B,this._getElement(),this._config.isAnimated)}}const de=".bs.focustrap",Ae=`focusin${de}`,De=`keydown.tab${de}`,nt="backward",Bt={autofocus:!0,trapElement:null},ct={autofocus:"boolean",trapElement:"element"};class Et extends Ji{constructor(B){super(),this._config=this._getConfig(B),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Bt}static get DefaultType(){return ct}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Ue.off(document,de),Ue.on(document,Ae,B=>this._handleFocusin(B)),Ue.on(document,De,B=>this._handleKeydown(B)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ue.off(document,de))}_handleFocusin(B){const{trapElement:z}=this._config;if(B.target===document||B.target===z||z.contains(B.target))return;const Kt=ur.focusableChildren(z);0===Kt.length?z.focus():this._lastTabNavDirection===nt?Kt[Kt.length-1].focus():Kt[0].focus()}_handleKeydown(B){"Tab"===B.key&&(this._lastTabNavDirection=B.shiftKey?nt:"forward")}}const Xt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ee=".sticky-top",Fe="padding-right",be="margin-right";class Ir{constructor(){this._element=document.body}getWidth(){const B=document.documentElement.clientWidth;return Math.abs(window.innerWidth-B)}hide(){const B=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Fe,z=>z+B),this._setElementAttributes(Xt,Fe,z=>z+B),this._setElementAttributes(ee,be,z=>z-B)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Fe),this._resetElementAttributes(Xt,Fe),this._resetElementAttributes(ee,be)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(B,z,Kt){const Ie=this.getWidth();this._applyManipulationCallback(B,Ke=>{if(Ke!==this._element&&window.innerWidth>Ke.clientWidth+Ie)return;this._saveInitialAttribute(Ke,z);const nr=window.getComputedStyle(Ke).getPropertyValue(z);Ke.style.setProperty(z,`${Kt(Number.parseFloat(nr))}px`)})}_saveInitialAttribute(B,z){const Kt=B.style.getPropertyValue(z);Kt&&Xn.setDataAttribute(B,z,Kt)}_resetElementAttributes(B,z){this._applyManipulationCallback(B,Kt=>{const Ie=Xn.getDataAttribute(Kt,z);null!==Ie?(Xn.removeDataAttribute(Kt,z),Kt.style.setProperty(z,Ie)):Kt.style.removeProperty(z)})}_applyManipulationCallback(B,z){if(Zn(B))z(B);else for(const Kt of ur.find(B,this._element))z(Kt)}}const $e=".bs.modal",Pr=`hide${$e}`,Ar=`hidePrevented${$e}`,fr=`hidden${$e}`,pr=`show${$e}`,ln=`shown${$e}`,un=`resize${$e}`,Qr=`click.dismiss${$e}`,Te=`mousedown.dismiss${$e}`,yr=`keydown.dismiss${$e}`,li=`click${$e}.data-api`,ui="modal-open",xn="modal-static",vi={backdrop:!0,focus:!0,keyboard:!0},Mi={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class yi extends Tn{constructor(B,z){super(B,z),this._dialog=ur.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ir,this._addEventListeners()}static get Default(){return vi}static get DefaultType(){return Mi}static get NAME(){return"modal"}toggle(B){return this._isShown?this.hide():this.show(B)}show(B){this._isShown||this._isTransitioning||Ue.trigger(this._element,pr,{relatedTarget:B}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ui),this._adjustDialog(),this._backdrop.show(()=>this._showElement(B)))}hide(){this._isShown&&!this._isTransitioning&&(Ue.trigger(this._element,Pr).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Ue.off(window,$e),Ue.off(this._dialog,$e),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Jt({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Et({trapElement:this._element})}_showElement(B){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const z=ur.findOne(".modal-body",this._dialog);z&&(z.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ue.trigger(this._element,ln,{relatedTarget:B})},this._dialog,this._isAnimated())}_addEventListeners(){Ue.on(this._element,yr,B=>{"Escape"===B.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Ue.on(window,un,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Ue.on(this._element,Te,B=>{Ue.one(this._element,Qr,z=>{this._element===B.target&&this._element===z.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ui),this._resetAdjustments(),this._scrollBar.reset(),Ue.trigger(this._element,fr)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Ue.trigger(this._element,Ar).defaultPrevented)return;const B=this._element.scrollHeight>document.documentElement.clientHeight,z=this._element.style.overflowY;"hidden"===z||this._element.classList.contains(xn)||(B||(this._element.style.overflowY="hidden"),this._element.classList.add(xn),this._queueCallback(()=>{this._element.classList.remove(xn),this._queueCallback(()=>{this._element.style.overflowY=z},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const B=this._element.scrollHeight>document.documentElement.clientHeight,z=this._scrollBar.getWidth(),Kt=z>0;if(Kt&&!B){const Ie=Ni()?"paddingLeft":"paddingRight";this._element.style[Ie]=`${z}px`}if(!Kt&&B){const Ie=Ni()?"paddingRight":"paddingLeft";this._element.style[Ie]=`${z}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(B,z){return this.each(function(){const Kt=yi.getOrCreateInstance(this,B);if("string"==typeof B){if(void 0===Kt[B])throw new TypeError(`No method named "${B}"`);Kt[B](z)}})}}Ue.on(document,li,'[data-bs-toggle="modal"]',function(Qt){const B=ur.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&Qt.preventDefault(),Ue.one(B,pr,Kt=>{Kt.defaultPrevented||Ue.one(B,fr,()=>{$r(this)&&this.focus()})});const z=ur.findOne(".modal.show");z&&yi.getInstance(z).hide(),yi.getOrCreateInstance(B).toggle(this)}),Yr(yi),xi(yi);const xe=".bs.offcanvas",Ne=".data-api",qe=`load${xe}${Ne}`,h="showing",g="hiding",w=".offcanvas.show",F=`show${xe}`,K=`shown${xe}`,Y=`hide${xe}`,ut=`hidePrevented${xe}`,Dt=`hidden${xe}`,_t=`resize${xe}`,te=`click${xe}${Ne}`,se=`keydown.dismiss${xe}`,Ce={backdrop:!0,keyboard:!0,scroll:!1},ue={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Se extends Tn{constructor(B,z){super(B,z),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ce}static get DefaultType(){return ue}static get NAME(){return"offcanvas"}toggle(B){return this._isShown?this.hide():this.show(B)}show(B){this._isShown||Ue.trigger(this._element,F,{relatedTarget:B}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Ir).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(h),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(h),Ue.trigger(this._element,K,{relatedTarget:B})},this._element,!0))}hide(){this._isShown&&(Ue.trigger(this._element,Y).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(g),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show",g),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Ir).reset(),Ue.trigger(this._element,Dt)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const B=Boolean(this._config.backdrop);return new Jt({className:"offcanvas-backdrop",isVisible:B,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:B?()=>{"static"!==this._config.backdrop?this.hide():Ue.trigger(this._element,ut)}:null})}_initializeFocusTrap(){return new Et({trapElement:this._element})}_addEventListeners(){Ue.on(this._element,se,B=>{"Escape"===B.key&&(this._config.keyboard?this.hide():Ue.trigger(this._element,ut))})}static jQueryInterface(B){return this.each(function(){const z=Se.getOrCreateInstance(this,B);if("string"==typeof B){if(void 0===z[B]||B.startsWith("_")||"constructor"===B)throw new TypeError(`No method named "${B}"`);z[B](this)}})}}Ue.on(document,te,'[data-bs-toggle="offcanvas"]',function(Qt){const B=ur.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&Qt.preventDefault(),Ki(this))return;Ue.one(B,Dt,()=>{$r(this)&&this.focus()});const z=ur.findOne(w);z&&z!==B&&Se.getInstance(z).hide(),Se.getOrCreateInstance(B).toggle(this)}),Ue.on(window,qe,()=>{for(const Qt of ur.find(w))Se.getOrCreateInstance(Qt).show()}),Ue.on(window,_t,()=>{for(const Qt of ur.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(Qt).position&&Se.getOrCreateInstance(Qt).hide()}),Yr(Se),xi(Se);const ar={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},xr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Br=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Mn=(Qt,B)=>{const z=Qt.nodeName.toLowerCase();return B.includes(z)?!xr.has(z)||Boolean(Br.test(Qt.nodeValue)):B.filter(Kt=>Kt instanceof RegExp).some(Kt=>Kt.test(z))},ci={allowList:ar,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ci={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},fn={entry:"(string|element|function|null)",selector:"(string|element)"};class rn extends Ji{constructor(B){super(),this._config=this._getConfig(B)}static get Default(){return ci}static get DefaultType(){return Ci}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(B=>this._resolvePossibleFunction(B)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(B){return this._checkContent(B),this._config.content={...this._config.content,...B},this}toHtml(){const B=document.createElement("div");B.innerHTML=this._maybeSanitize(this._config.template);for(const[Ie,Ke]of Object.entries(this._config.content))this._setContent(B,Ke,Ie);const z=B.children[0],Kt=this._resolvePossibleFunction(this._config.extraClass);return Kt&&z.classList.add(...Kt.split(" ")),z}_typeCheckConfig(B){super._typeCheckConfig(B),this._checkContent(B.content)}_checkContent(B){for(const[z,Kt]of Object.entries(B))super._typeCheckConfig({selector:z,entry:Kt},fn)}_setContent(B,z,Kt){const Ie=ur.findOne(Kt,B);Ie&&((z=this._resolvePossibleFunction(z))?Zn(z)?this._putElementInTemplate(Kr(z),Ie):this._config.html?Ie.innerHTML=this._maybeSanitize(z):Ie.textContent=z:Ie.remove())}_maybeSanitize(B){return this._config.sanitize?function(z,Kt,Ie){if(!z.length)return z;if(Ie&&"function"==typeof Ie)return Ie(z);const Ke=(new window.DOMParser).parseFromString(z,"text/html"),nr=[].concat(...Ke.body.querySelectorAll("*"));for(const An of nr){const fi=An.nodeName.toLowerCase();if(!Object.keys(Kt).includes(fi)){An.remove();continue}const UA=[].concat(...An.attributes),xA=[].concat(Kt["*"]||[],Kt[fi]||[]);for(const ts of UA)Mn(ts,xA)||An.removeAttribute(ts.nodeName)}return Ke.body.innerHTML}(B,this._config.allowList,this._config.sanitizeFn):B}_resolvePossibleFunction(B){return Pn(B,[void 0,this])}_putElementInTemplate(B,z){if(this._config.html)return z.innerHTML="",void z.append(B);z.textContent=B.textContent}}const cn=new Set(["sanitize","allowList","sanitizeFn"]),hr="fade",yn="show",qi="hide.bs.modal",FA="hover",TA="focus",oA="click",ZA={AUTO:"auto",TOP:"top",RIGHT:Ni()?"left":"right",BOTTOM:"bottom",LEFT:Ni()?"right":"left"},lA={allowList:ar,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Li={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class _n extends Tn{constructor(B,z){if(void 0===mn)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(B,z),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return lA}static get DefaultType(){return Li}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Ue.off(this._element.closest(".modal"),qi,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const B=Ue.trigger(this._element,this.constructor.eventName("show")),z=(tn(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(B.defaultPrevented||!z)return;this._disposePopper();const Kt=this._getTipElement();this._element.setAttribute("aria-describedby",Kt.getAttribute("id"));const{container:Ie}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Ie.append(Kt),Ue.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(Kt),Kt.classList.add(yn),"ontouchstart"in document.documentElement)for(const Ke of[].concat(...document.body.children))Ue.on(Ke,"mouseover",mr);this._queueCallback(()=>{Ue.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Ue.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(yn),"ontouchstart"in document.documentElement)for(const B of[].concat(...document.body.children))Ue.off(B,"mouseover",mr);this._activeTrigger[oA]=!1,this._activeTrigger[TA]=!1,this._activeTrigger[FA]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ue.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(B){const z=this._getTemplateFactory(B).toHtml();if(!z)return null;z.classList.remove(hr,yn),z.classList.add(`bs-${this.constructor.NAME}-auto`);const Kt=(Ie=>{do{Ie+=Math.floor(1e6*Math.random())}while(document.getElementById(Ie));return Ie})(this.constructor.NAME).toString();return z.setAttribute("id",Kt),this._isAnimated()&&z.classList.add(hr),z}setContent(B){this._newContent=B,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(B){return this._templateFactory?this._templateFactory.changeContent(B):this._templateFactory=new rn({...this._config,content:B,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(B){return this.constructor.getOrCreateInstance(B.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(hr)}_isShown(){return this.tip&&this.tip.classList.contains(yn)}_createPopper(B){const z=Pn(this._config.placement,[this,B,this._element]),Kt=ZA[z.toUpperCase()];return mn.createPopper(this._element,B,this._getPopperConfig(Kt))}_getOffset(){const{offset:B}=this._config;return"string"==typeof B?B.split(",").map(z=>Number.parseInt(z,10)):"function"==typeof B?z=>B(z,this._element):B}_resolvePossibleFunction(B){return Pn(B,[this._element,this._element])}_getPopperConfig(B){const z={placement:B,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:Kt=>{this._getTipElement().setAttribute("data-popper-placement",Kt.state.placement)}}]};return{...z,...Pn(this._config.popperConfig,[void 0,z])}}_setListeners(){const B=this._config.trigger.split(" ");for(const z of B)if("click"===z)Ue.on(this._element,this.constructor.eventName("click"),this._config.selector,Kt=>{const Ie=this._initializeOnDelegatedTarget(Kt);Ie._activeTrigger[oA]=!(Ie._isShown()&&Ie._activeTrigger[oA]),Ie.toggle()});else if("manual"!==z){const Kt=this.constructor.eventName(z===FA?"mouseenter":"focusin"),Ie=this.constructor.eventName(z===FA?"mouseleave":"focusout");Ue.on(this._element,Kt,this._config.selector,Ke=>{const nr=this._initializeOnDelegatedTarget(Ke);nr._activeTrigger["focusin"===Ke.type?TA:FA]=!0,nr._enter()}),Ue.on(this._element,Ie,this._config.selector,Ke=>{const nr=this._initializeOnDelegatedTarget(Ke);nr._activeTrigger["focusout"===Ke.type?TA:FA]=nr._element.contains(Ke.relatedTarget),nr._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Ue.on(this._element.closest(".modal"),qi,this._hideModalHandler)}_fixTitle(){const B=this._element.getAttribute("title");B&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",B),this._element.setAttribute("data-bs-original-title",B),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(B,z){clearTimeout(this._timeout),this._timeout=setTimeout(B,z)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(B){const z=Xn.getDataAttributes(this._element);for(const Kt of Object.keys(z))cn.has(Kt)&&delete z[Kt];return B={...z,..."object"==typeof B&&B?B:{}},B=this._mergeConfigObj(B),B=this._configAfterMerge(B),this._typeCheckConfig(B),B}_configAfterMerge(B){return B.container=!1===B.container?document.body:Kr(B.container),"number"==typeof B.delay&&(B.delay={show:B.delay,hide:B.delay}),"number"==typeof B.title&&(B.title=B.title.toString()),"number"==typeof B.content&&(B.content=B.content.toString()),B}_getDelegateConfig(){const B={};for(const[z,Kt]of Object.entries(this._config))this.constructor.Default[z]!==Kt&&(B[z]=Kt);return B.selector=!1,B.trigger="manual",B}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(B){return this.each(function(){const z=_n.getOrCreateInstance(this,B);if("string"==typeof B){if(void 0===z[B])throw new TypeError(`No method named "${B}"`);z[B]()}})}}xi(_n);const Ct={..._n.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Rt={..._n.DefaultType,content:"(null|string|element|function)"};class ie extends _n{static get Default(){return Ct}static get DefaultType(){return Rt}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(B){return this.each(function(){const z=ie.getOrCreateInstance(this,B);if("string"==typeof B){if(void 0===z[B])throw new TypeError(`No method named "${B}"`);z[B]()}})}}xi(ie);const ve=".bs.scrollspy",Pe=`activate${ve}`,dr=`click${ve}`,Gr=`load${ve}.data-api`,nn="active",wn="[href]",hi=".nav-link",pn=`${hi}, .nav-item > ${hi}, .list-group-item`,NA={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},OA={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class dA extends Tn{constructor(B,z){super(B,z),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return NA}static get DefaultType(){return OA}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const B of this._observableSections.values())this._observer.observe(B)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(B){return B.target=Kr(B.target)||document.body,B.rootMargin=B.offset?`${B.offset}px 0px -30%`:B.rootMargin,"string"==typeof B.threshold&&(B.threshold=B.threshold.split(",").map(z=>Number.parseFloat(z))),B}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Ue.off(this._config.target,dr),Ue.on(this._config.target,dr,wn,B=>{const z=this._observableSections.get(B.target.hash);if(z){B.preventDefault();const Kt=this._rootElement||window,Ie=z.offsetTop-this._element.offsetTop;if(Kt.scrollTo)return void Kt.scrollTo({top:Ie,behavior:"smooth"});Kt.scrollTop=Ie}}))}_getNewObserver(){return new IntersectionObserver(z=>this._observerCallback(z),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(B){const z=nr=>this._targetLinks.get(`#${nr.target.id}`),Kt=nr=>{this._previousScrollData.visibleEntryTop=nr.target.offsetTop,this._process(z(nr))},Ie=(this._rootElement||document.documentElement).scrollTop,Ke=Ie>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Ie;for(const nr of B){if(!nr.isIntersecting){this._activeTarget=null,this._clearActiveClass(z(nr));continue}const An=nr.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Ke&&An){if(Kt(nr),!Ie)return}else Ke||An||Kt(nr)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const B=ur.find(wn,this._config.target);for(const z of B){if(!z.hash||Ki(z))continue;const Kt=ur.findOne(decodeURI(z.hash),this._element);$r(Kt)&&(this._targetLinks.set(decodeURI(z.hash),z),this._observableSections.set(z.hash,Kt))}}_process(B){this._activeTarget!==B&&(this._clearActiveClass(this._config.target),this._activeTarget=B,B.classList.add(nn),this._activateParents(B),Ue.trigger(this._element,Pe,{relatedTarget:B}))}_activateParents(B){if(B.classList.contains("dropdown-item"))ur.findOne(".dropdown-toggle",B.closest(".dropdown")).classList.add(nn);else for(const z of ur.parents(B,".nav, .list-group"))for(const Kt of ur.prev(z,pn))Kt.classList.add(nn)}_clearActiveClass(B){B.classList.remove(nn);const z=ur.find(`${wn}.${nn}`,B);for(const Kt of z)Kt.classList.remove(nn)}static jQueryInterface(B){return this.each(function(){const z=dA.getOrCreateInstance(this,B);if("string"==typeof B){if(void 0===z[B]||B.startsWith("_")||"constructor"===B)throw new TypeError(`No method named "${B}"`);z[B]()}})}}Ue.on(window,Gr,()=>{for(const Qt of ur.find('[data-bs-spy="scroll"]'))dA.getOrCreateInstance(Qt)}),xi(dA);const wi=".bs.tab",tA=`hide${wi}`,qA=`hidden${wi}`,di=`show${wi}`,uA=`shown${wi}`,fs=`click${wi}`,as=`keydown${wi}`,Lt=`load${wi}`,zt="ArrowLeft",ce="ArrowRight",ge="ArrowUp",Le="ArrowDown",or="Home",Je="End",Be="active",zr="show",ae=".dropdown-toggle",Nr=`:not(${ae})`,sn='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',_r=`.nav-link${Nr}, .list-group-item${Nr}, [role="tab"]${Nr}, ${sn}`,jn=`.${Be}[data-bs-toggle="tab"], .${Be}[data-bs-toggle="pill"], .${Be}[data-bs-toggle="list"]`;class kn extends Tn{constructor(B){super(B),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Ue.on(this._element,as,z=>this._keydown(z)))}static get NAME(){return"tab"}show(){const B=this._element;if(this._elemIsActive(B))return;const z=this._getActiveElem(),Kt=z?Ue.trigger(z,tA,{relatedTarget:B}):null;Ue.trigger(B,di,{relatedTarget:z}).defaultPrevented||Kt&&Kt.defaultPrevented||(this._deactivate(z,B),this._activate(B,z))}_activate(B,z){B&&(B.classList.add(Be),this._activate(ur.getElementFromSelector(B)),this._queueCallback(()=>{"tab"===B.getAttribute("role")?(B.removeAttribute("tabindex"),B.setAttribute("aria-selected",!0),this._toggleDropDown(B,!0),Ue.trigger(B,uA,{relatedTarget:z})):B.classList.add(zr)},B,B.classList.contains("fade")))}_deactivate(B,z){B&&(B.classList.remove(Be),B.blur(),this._deactivate(ur.getElementFromSelector(B)),this._queueCallback(()=>{"tab"===B.getAttribute("role")?(B.setAttribute("aria-selected",!1),B.setAttribute("tabindex","-1"),this._toggleDropDown(B,!1),Ue.trigger(B,qA,{relatedTarget:z})):B.classList.remove(zr)},B,B.classList.contains("fade")))}_keydown(B){if(![zt,ce,ge,Le,or,Je].includes(B.key))return;B.stopPropagation(),B.preventDefault();const z=this._getChildren().filter(Ie=>!Ki(Ie));let Kt;if([or,Je].includes(B.key))Kt=z[B.key===or?0:z.length-1];else{const Ie=[ce,Le].includes(B.key);Kt=zi(z,B.target,Ie,!0)}Kt&&(Kt.focus({preventScroll:!0}),kn.getOrCreateInstance(Kt).show())}_getChildren(){return ur.find(_r,this._parent)}_getActiveElem(){return this._getChildren().find(B=>this._elemIsActive(B))||null}_setInitialAttributes(B,z){this._setAttributeIfNotExists(B,"role","tablist");for(const Kt of z)this._setInitialAttributesOnChild(Kt)}_setInitialAttributesOnChild(B){B=this._getInnerElement(B);const z=this._elemIsActive(B),Kt=this._getOuterElement(B);B.setAttribute("aria-selected",z),Kt!==B&&this._setAttributeIfNotExists(Kt,"role","presentation"),z||B.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(B,"role","tab"),this._setInitialAttributesOnTargetPanel(B)}_setInitialAttributesOnTargetPanel(B){const z=ur.getElementFromSelector(B);z&&(this._setAttributeIfNotExists(z,"role","tabpanel"),B.id&&this._setAttributeIfNotExists(z,"aria-labelledby",`${B.id}`))}_toggleDropDown(B,z){const Kt=this._getOuterElement(B);if(!Kt.classList.contains("dropdown"))return;const Ie=(Ke,nr)=>{const An=ur.findOne(Ke,Kt);An&&An.classList.toggle(nr,z)};Ie(ae,Be),Ie(".dropdown-menu",zr),Kt.setAttribute("aria-expanded",z)}_setAttributeIfNotExists(B,z,Kt){B.hasAttribute(z)||B.setAttribute(z,Kt)}_elemIsActive(B){return B.classList.contains(Be)}_getInnerElement(B){return B.matches(_r)?B:ur.findOne(_r,B)}_getOuterElement(B){return B.closest(".nav-item, .list-group-item")||B}static jQueryInterface(B){return this.each(function(){const z=kn.getOrCreateInstance(this);if("string"==typeof B){if(void 0===z[B]||B.startsWith("_")||"constructor"===B)throw new TypeError(`No method named "${B}"`);z[B]()}})}}Ue.on(document,fs,sn,function(Qt){["A","AREA"].includes(this.tagName)&&Qt.preventDefault(),Ki(this)||kn.getOrCreateInstance(this).show()}),Ue.on(window,Lt,()=>{for(const Qt of ur.find(jn))kn.getOrCreateInstance(Qt)}),xi(kn);const hn=".bs.toast",Dn=`mouseover${hn}`,Jn=`mouseout${hn}`,wA=`focusin${hn}`,Ln=`focusout${hn}`,Rr=`hide${hn}`,eA=`hidden${hn}`,MA=`show${hn}`,Wi=`shown${hn}`,BA="show",$A="showing",IA={animation:"boolean",autohide:"boolean",delay:"number"},cA={animation:!0,autohide:!0,delay:5e3};class bA extends Tn{constructor(B,z){super(B,z),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return cA}static get DefaultType(){return IA}static get NAME(){return"toast"}show(){Ue.trigger(this._element,MA).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(BA,$A),this._queueCallback(()=>{this._element.classList.remove($A),Ue.trigger(this._element,Wi),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Ue.trigger(this._element,Rr).defaultPrevented||(this._element.classList.add($A),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove($A,BA),Ue.trigger(this._element,eA)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(BA),super.dispose()}isShown(){return this._element.classList.contains(BA)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(B,z){switch(B.type){case"mouseover":case"mouseout":this._hasMouseInteraction=z;break;case"focusin":case"focusout":this._hasKeyboardInteraction=z}if(z)return void this._clearTimeout();const Kt=B.relatedTarget;this._element===Kt||this._element.contains(Kt)||this._maybeScheduleHide()}_setListeners(){Ue.on(this._element,Dn,B=>this._onInteraction(B,!0)),Ue.on(this._element,Jn,B=>this._onInteraction(B,!1)),Ue.on(this._element,wA,B=>this._onInteraction(B,!0)),Ue.on(this._element,Ln,B=>this._onInteraction(B,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(B){return this.each(function(){const z=bA.getOrCreateInstance(this,B);if("string"==typeof B){if(void 0===z[B])throw new TypeError(`No method named "${B}"`);z[B](this)}})}}return Yr(bA),xi(bA),{Alert:ti,Button:Kn,Carousel:p,Collapse:W,Dropdown:gt,Modal:yi,Offcanvas:Se,Popover:ie,ScrollSpy:dA,Tab:kn,Toast:bA,Tooltip:_n}}),function(Me,Hr){"object"==typeof exports&&typeof module<"u"?module.exports=Hr():"function"==typeof define&&define.amd?define(Hr):(Me=typeof globalThis<"u"?globalThis:Me||self).html2canvas=Hr()}(this,function(){"use strict";var Me=function(u,d){return(Me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,E){y.__proto__=E}||function(y,E){for(var R in E)Object.prototype.hasOwnProperty.call(E,R)&&(y[R]=E[R])})(u,d)};function Hr(u,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function y(){this.constructor=u}Me(u,d),u.prototype=null===d?Object.create(d):(y.prototype=d.prototype,new y)}var mn=function(){return(mn=Object.assign||function(u){for(var d,y=1,E=arguments.length;y<E;y++)for(var R in d=arguments[y])Object.prototype.hasOwnProperty.call(d,R)&&(u[R]=d[R]);return u}).apply(this,arguments)};function Zr(u,d,y,E){return new(y=y||Promise)(function(R,X){function et($t){try{vt(E.next($t))}catch(Zt){X(Zt)}}function St($t){try{vt(E.throw($t))}catch(Zt){X(Zt)}}function vt($t){var Zt;$t.done?R($t.value):((Zt=$t.value)instanceof y?Zt:new y(function(fe){fe(Zt)})).then(et,St)}vt((E=E.apply(u,d||[])).next())})}function jr(u,d){var y,E,R,X={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]},et={next:St(0),throw:St(1),return:St(2)};return"function"==typeof Symbol&&(et[Symbol.iterator]=function(){return this}),et;function St(vt){return function($t){return function(Zt){if(y)throw new TypeError("Generator is already executing.");for(;X;)try{if(y=1,E&&(R=2&Zt[0]?E.return:Zt[0]?E.throw||((R=E.return)&&R.call(E),0):E.next)&&!(R=R.call(E,Zt[1])).done)return R;switch(E=0,(Zt=R?[2&Zt[0],R.value]:Zt)[0]){case 0:case 1:R=Zt;break;case 4:return X.label++,{value:Zt[1],done:!1};case 5:X.label++,E=Zt[1],Zt=[0];continue;case 7:Zt=X.ops.pop(),X.trys.pop();continue;default:if(!(R=0<(R=X.trys).length&&R[R.length-1])&&(6===Zt[0]||2===Zt[0])){X=0;continue}if(3===Zt[0]&&(!R||Zt[1]>R[0]&&Zt[1]<R[3])){X.label=Zt[1];break}if(6===Zt[0]&&X.label<R[1]){X.label=R[1],R=Zt;break}if(R&&X.label<R[2]){X.label=R[2],X.ops.push(Zt);break}R[2]&&X.ops.pop(),X.trys.pop();continue}Zt=d.call(u,X)}catch(fe){Zt=[6,fe],E=0}finally{y=R=0}if(5&Zt[0])throw Zt[1];return{value:Zt[0]?Zt[1]:void 0,done:!0}}([vt,$t])}}}function Xr(u,d,y){if(y||2===arguments.length)for(var E,R=0,X=d.length;R<X;R++)!E&&R in d||((E=E||Array.prototype.slice.call(d,0,R))[R]=d[R]);return u.concat(E||d)}var Ai=(Lr.prototype.add=function(u,d,y,E){return new Lr(this.left+u,this.top+d,this.width+y,this.height+E)},Lr.fromClientRect=function(u,d){return new Lr(d.left+u.windowBounds.left,d.top+u.windowBounds.top,d.width,d.height)},Lr.fromDOMRectList=function(u,d){return(d=Array.from(d).find(function(y){return 0!==y.width}))?new Lr(d.left+u.windowBounds.left,d.top+u.windowBounds.top,d.width,d.height):Lr.EMPTY},Lr.EMPTY=new Lr(0,0,0,0),Lr);function Lr(u,d,y,E){this.left=u,this.top=d,this.width=y,this.height=E}for(var Zn=function(u,d){return Ai.fromClientRect(u,d.getBoundingClientRect())},Kr=function(u){for(var d=[],y=0,E=u.length;y<E;){var R,X=u.charCodeAt(y++);55296<=X&&X<=56319&&y<E?56320==(64512&(R=u.charCodeAt(y++)))?d.push(((1023&X)<<10)+(1023&R)+65536):(d.push(X),y--):d.push(X)}return d},$r=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];if(String.fromCodePoint)return String.fromCodePoint.apply(String,u);var y=u.length;if(!y)return"";for(var E=[],R=-1,X="";++R<y;){var et=u[R];et<=65535?E.push(et):E.push(55296+((et-=65536)>>10),et%1024+56320),(R+1===y||16384<E.length)&&(X+=String.fromCharCode.apply(String,E),E.length=0)}return X},Ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tn=typeof Uint8Array>"u"?[]:new Uint8Array(256),mr=0;mr<Ki.length;mr++)tn[Ki.charCodeAt(mr)]=mr;for(var Dr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rn=typeof Uint8Array>"u"?[]:new Uint8Array(256),kr=0;kr<Dr.length;kr++)Rn[Dr.charCodeAt(kr)]=kr;function Ni(u,d,y){return u.slice?u.slice(d,y):new Uint16Array(Array.prototype.slice.call(u,d,y))}var xi=(Pn.prototype.get=function(u){var d;if(0<=u){if(u<55296||56319<u&&u<=65535)return this.data[d=((d=this.index[u>>5])<<2)+(31&u)];if(u<=65535)return this.data[d=((d=this.index[2048+(u-55296>>5)])<<2)+(31&u)];if(u<this.highStart)return d=this.index[d=2080+(u>>11)],d=this.index[d+=u>>5&63],this.data[d=(d<<2)+(31&u)];if(u<=1114111)return this.data[this.highValueIndex]}return this.errorValue},Pn);function Pn(u,d,y,E,R,X){this.initialValue=u,this.errorValue=d,this.highStart=y,this.highValueIndex=E,this.index=R,this.data=X}for(var HA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zi=typeof Uint8Array>"u"?[]:new Uint8Array(256),L=0;L<HA.length;L++)zi[HA.charCodeAt(L)]=L;function pA(u,d,y,E){var R=E[y];if(Array.isArray(u)?-1!==u.indexOf(R):u===R)for(var X=y;X<=E.length;){if((St=E[++X])===d)return 1;if(St!==Yn)break}if(R===Yn)for(X=y;0<X;){var et=E[--X];if(Array.isArray(u)?-1!==u.indexOf(et):u===et)for(var St,vt=y;vt<=E.length;){if((St=E[++vt])===d)return 1;if(St!==Yn)break}if(et!==Yn)break}}function ke(u,d){for(var y=u;0<=y;){var E=d[y];if(E!==Yn)return E;y--}return 0}var ki,Ve,Ht,D,gi,Yn=10,Fn=13,pi=15,Sr=17,$n=18,Di=19,Ue=20,KA=21,mi=22,Ei=24,Xn=25,Ji=26,Tn=27,bn=28,ur=30,Yr=32,Gi=33,YA=34,zn=35,ti=37,En=38,Kn=39,Nn=40,ji=42,Oi=[9001,65288],Vr="\xd7",Cn=(Ht=function(u){var d,y,E,R,X=.75*u.length,et=u.length,St=0;"="===u[u.length-1]&&(X--,"="===u[u.length-2]&&X--),X=new(typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&void 0!==Uint8Array.prototype.slice?ArrayBuffer:Array)(X);for(var vt=Array.isArray(X)?X:new Uint8Array(X),$t=0;$t<et;$t+=4)d=Rn[u.charCodeAt($t)],y=Rn[u.charCodeAt($t+1)],E=Rn[u.charCodeAt($t+2)],R=Rn[u.charCodeAt($t+3)],vt[St++]=d<<2|y>>4,vt[St++]=(15&y)<<4|E>>2,vt[St++]=(3&E)<<6|63&R;return X}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),D=Array.isArray(Ht)?function(u){for(var d=u.length,y=[],E=0;E<d;E+=4)y.push(u[E+3]<<24|u[E+2]<<16|u[E+1]<<8|u[E]);return y}(Ht):new Uint32Array(Ht),ki=Ni(gi=Array.isArray(Ht)?function(u){for(var d=u.length,y=[],E=0;E<d;E+=2)y.push(u[E+1]<<8|u[E]);return y}(Ht):new Uint16Array(Ht),12,D[4]/2),Ve=2===D[5]?Ni(gi,(24+D[4])/2):(Ht=D,gi=Math.ceil((24+D[4])/4),Ht.slice?Ht.slice(gi,Ve):new Uint32Array(Array.prototype.slice.call(Ht,gi,Ve))),new xi(D[0],D[1],D[2],D[3],ki,Ve)),ir=[ur,36],oi=[1,2,3,5],GA=[Yn,8],RA=[Tn,Ji],Vi=oi.concat(GA),en=[En,Kn,Nn,YA,zn],On=[pi,Fn],mA=(vr.prototype.slice=function(){return $r.apply(void 0,this.codePoints.slice(this.start,this.end))},vr);function vr(u,d,y,E){this.codePoints=u,this.required="!"===d,this.start=y,this.end=E}function vn(u){return 48<=u&&u<=57}function Fr(u){return vn(u)||65<=u&&u<=70||97<=u&&u<=102}function vA(u){return 10===u||9===u||32===u}function hA(u){return 97<=(y=d=u)&&y<=122||65<=d&&d<=90||128<=u||95===u;var d,y}function yA(u){return hA(u)||vn(u)||45===u}function ei(u,d){return 92===u&&10!==d}function aA(u,d,y){return 45===u?hA(d)||ei(d,y):!!hA(u)||92===u&&10!==d}function Zi(u,d,y){return 43===u||45===u?!!vn(d)||46===d&&vn(y):vn(46===u?d:u)}var jt={type:2},Vt={type:3},re={type:4},me={type:13},Xe={type:8},Qe={type:21},er={type:9},Oe={type:10},ze={type:11},cr={type:12},p={type:14},C={type:23},k={type:1},N={type:25},U={type:24},x={type:26},M={type:27},q={type:28},P={type:29},dt={type:31},pt={type:32},Tt=(T.prototype.write=function(u){this._value=this._value.concat(Kr(u))},T.prototype.read=function(){for(var u=[],d=this.consumeToken();d!==pt;)u.push(d),d=this.consumeToken();return u},T.prototype.consumeToken=function(){var u=this.consumeCodePoint();switch(u){case 34:return this.consumeStringToken(34);case 35:var d=this.peekCodePoint(0),y=this.peekCodePoint(1),E=this.peekCodePoint(2);if(yA(d)||ei(y,E)){var R=aA(d,y,E)?2:1;return{type:5,value:this.consumeName(),flags:R}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),me;break;case 39:return this.consumeStringToken(39);case 40:return jt;case 41:return Vt;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),p;break;case 43:if(Zi(u,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(u),this.consumeNumericToken();break;case 44:return re;case 45:if(Zi(E=u,R=this.peekCodePoint(0),et=this.peekCodePoint(1)))return this.reconsumeCodePoint(u),this.consumeNumericToken();if(aA(E,R,et))return this.reconsumeCodePoint(u),this.consumeIdentLikeToken();if(45===R&&62===et)return this.consumeCodePoint(),this.consumeCodePoint(),U;break;case 46:if(Zi(u,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(u),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var X=this.consumeCodePoint();if(42===X&&47===(X=this.consumeCodePoint()))return this.consumeToken();if(-1===X)return this.consumeToken()}break;case 58:return x;case 59:return M;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),N;break;case 64:var et=this.peekCodePoint(0),St=this.peekCodePoint(1),vt=this.peekCodePoint(2);if(aA(et,St,vt))return{type:7,value:this.consumeName()};break;case 91:return q;case 92:if(ei(u,this.peekCodePoint(0)))return this.reconsumeCodePoint(u),this.consumeIdentLikeToken();break;case 93:return P;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Xe;break;case 123:return ze;case 125:return cr;case 117:case 85:return St=this.peekCodePoint(0),vt=this.peekCodePoint(1),43!==St||!Fr(vt)&&63!==vt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(u),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),er;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Qe;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Oe;break;case-1:return pt}return vA(u)?(this.consumeWhiteSpace(),dt):vn(u)?(this.reconsumeCodePoint(u),this.consumeNumericToken()):hA(u)?(this.reconsumeCodePoint(u),this.consumeIdentLikeToken()):{type:6,value:$r(u)}},T.prototype.consumeCodePoint=function(){var u=this._value.shift();return void 0===u?-1:u},T.prototype.reconsumeCodePoint=function(u){this._value.unshift(u)},T.prototype.peekCodePoint=function(u){return u>=this._value.length?-1:this._value[u]},T.prototype.consumeUnicodeRangeToken=function(){for(var u=[],d=this.consumeCodePoint();Fr(d)&&u.length<6;)u.push(d),d=this.consumeCodePoint();for(var y=!1;63===d&&u.length<6;)u.push(d),d=this.consumeCodePoint(),y=!0;if(y)return{type:30,start:parseInt($r.apply(void 0,u.map(function(X){return 63===X?48:X})),16),end:parseInt($r.apply(void 0,u.map(function(X){return 63===X?70:X})),16)};var E=parseInt($r.apply(void 0,u),16);if(45===this.peekCodePoint(0)&&Fr(this.peekCodePoint(1))){this.consumeCodePoint(),d=this.consumeCodePoint();for(var R=[];Fr(d)&&R.length<6;)R.push(d),d=this.consumeCodePoint();return{type:30,start:E,end:parseInt($r.apply(void 0,R),16)}}return{type:30,start:E,end:E}},T.prototype.consumeIdentLikeToken=function(){var u=this.consumeName();return"url"===u.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:u}):{type:20,value:u}},T.prototype.consumeUrlToken=function(){var u=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var d,y=this.peekCodePoint(0);if(39===y||34===y)return 0===(y=this.consumeStringToken(this.consumeCodePoint())).type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:y.value}):(this.consumeBadUrlRemnants(),C);for(;;){var E=this.consumeCodePoint();if(-1===E||41===E)return{type:22,value:$r.apply(void 0,u)};if(vA(E))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:$r.apply(void 0,u)}):(this.consumeBadUrlRemnants(),C);if(34===E||39===E||40===E||0<=(d=E)&&d<=8||11===d||14<=d&&d<=31||127===d)return this.consumeBadUrlRemnants(),C;if(92===E){if(!ei(E,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),C;u.push(this.consumeEscapedCodePoint())}else u.push(E)}},T.prototype.consumeWhiteSpace=function(){for(;vA(this.peekCodePoint(0));)this.consumeCodePoint()},T.prototype.consumeBadUrlRemnants=function(){for(;;){var u=this.consumeCodePoint();if(41===u||-1===u)return;ei(u,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},T.prototype.consumeStringSlice=function(u){for(var d="";0<u;){var y=Math.min(5e4,u);d+=$r.apply(void 0,this._value.splice(0,y)),u-=y}return this._value.shift(),d},T.prototype.consumeStringToken=function(u){for(var d="",y=0;;){var E,R=this._value[y];if(-1===R||void 0===R||R===u)return{type:0,value:d+=this.consumeStringSlice(y)};if(10===R)return this._value.splice(0,y),k;92!==R||-1!==(E=this._value[y+1])&&void 0!==E&&(10===E?(d+=this.consumeStringSlice(y),y=-1,this._value.shift()):ei(R,E)&&(d+=this.consumeStringSlice(y),d+=$r(this.consumeEscapedCodePoint()),y=-1)),y++}},T.prototype.consumeNumber=function(){var u=[],d=4;for(43!==(y=this.peekCodePoint(0))&&45!==y||u.push(this.consumeCodePoint());vn(this.peekCodePoint(0));)u.push(this.consumeCodePoint());var y=this.peekCodePoint(0),E=this.peekCodePoint(1);if(46===y&&vn(E))for(u.push(this.consumeCodePoint(),this.consumeCodePoint()),d=8;vn(this.peekCodePoint(0));)u.push(this.consumeCodePoint());y=this.peekCodePoint(0),E=this.peekCodePoint(1);var R=this.peekCodePoint(2);if((69===y||101===y)&&((43===E||45===E)&&vn(R)||vn(E)))for(u.push(this.consumeCodePoint(),this.consumeCodePoint()),d=8;vn(this.peekCodePoint(0));)u.push(this.consumeCodePoint());return[function(X){var et=0,St=1;43!==X[et]&&45!==X[et]||(45===X[et]&&(St=-1),et++);for(var vt=[];vn(X[et]);)vt.push(X[et++]);var $t=vt.length?parseInt($r.apply(void 0,vt),10):0;46===X[et]&&et++;for(var Zt=[];vn(X[et]);)Zt.push(X[et++]);var fe=Zt.length,pe=fe?parseInt($r.apply(void 0,Zt),10):0;69!==X[et]&&101!==X[et]||et++;var Ee=1;43!==X[et]&&45!==X[et]||(45===X[et]&&(Ee=-1),et++);for(var gr=[];vn(X[et]);)gr.push(X[et++]);var Ye=gr.length?parseInt($r.apply(void 0,gr),10):0;return St*($t+pe*Math.pow(10,-fe))*Math.pow(10,Ee*Ye)}(u),d]},T.prototype.consumeNumericToken=function(){var R,u=(R=this.consumeNumber())[0],d=R[1],y=this.peekCodePoint(0);return aA(y,this.peekCodePoint(1),R=this.peekCodePoint(2))?{type:15,number:u,flags:d,unit:this.consumeName()}:37===y?(this.consumeCodePoint(),{type:16,number:u,flags:d}):{type:17,number:u,flags:d}},T.prototype.consumeEscapedCodePoint=function(){var u,d=this.consumeCodePoint();if(Fr(d)){for(var y=$r(d);Fr(this.peekCodePoint(0))&&y.length<6;)y+=$r(this.consumeCodePoint());vA(this.peekCodePoint(0))&&this.consumeCodePoint();var E=parseInt(y,16);return 0===E||55296<=(u=E)&&u<=57343||1114111<E?65533:E}return-1===d?65533:d},T.prototype.consumeName=function(){for(var u="";;){var d=this.consumeCodePoint();if(yA(d))u+=$r(d);else{if(!ei(d,this.peekCodePoint(0)))return this.reconsumeCodePoint(d),u;u+=$r(this.consumeEscapedCodePoint())}}},T);function T(){this._value=[]}var G=(W.create=function(u){var d=new Tt;return d.write(u),new W(d.read())},W.parseValue=function(u){return W.create(u).parseComponentValue()},W.parseValues=function(u){return W.create(u).parseComponentValues()},W.prototype.parseComponentValue=function(){for(var u=this.consumeToken();31===u.type;)u=this.consumeToken();if(32===u.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(u);for(var d=this.consumeComponentValue();31===(u=this.consumeToken()).type;);if(32===u.type)return d;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},W.prototype.parseComponentValues=function(){for(var u=[];;){var d=this.consumeComponentValue();if(32===d.type)return u;u.push(d),u.push()}},W.prototype.consumeComponentValue=function(){var u=this.consumeToken();switch(u.type){case 11:case 28:case 2:return this.consumeSimpleBlock(u.type);case 19:return this.consumeFunction(u)}return u},W.prototype.consumeSimpleBlock=function(u){for(var d={type:u,values:[]},y=this.consumeToken();;){if(32===y.type||H(y,u))return d;this.reconsumeToken(y),d.values.push(this.consumeComponentValue()),y=this.consumeToken()}},W.prototype.consumeFunction=function(u){for(var d={name:u.value,values:[],type:18};;){var y=this.consumeToken();if(32===y.type||3===y.type)return d;this.reconsumeToken(y),d.values.push(this.consumeComponentValue())}},W.prototype.consumeToken=function(){var u=this._tokens.shift();return void 0===u?pt:u},W.prototype.reconsumeToken=function(u){this._tokens.unshift(u)},W);function W(u){this._tokens=u}function Z(u){return 15===u.type}function at(u){return 17===u.type}function ft(u){return 20===u.type}function It(u){return 0===u.type}function Mt(u,d){return ft(u)&&u.value===d}function Nt(u){return 31!==u.type}function oe(u){return 31!==u.type&&4!==u.type}function ne(u){var d=[],y=[];return u.forEach(function(E){if(4===E.type){if(0===y.length)throw new Error("Error parsing function args, zero tokens for arg");return d.push(y),void(y=[])}31!==E.type&&y.push(E)}),y.length&&d.push(y),d}function bt(u){return 17===u.type||15===u.type}function J(u){return 16===u.type||bt(u)}function qt(u){return 1<u.length?[u[0],u[1]]:[u[0]]}function ht(R,d,y){var E=R[0];return R=R[1],[V(E,d),V(void 0!==R?R:E,y)]}function st(u){return 15===u.type&&("deg"===u.unit||"grad"===u.unit||"rad"===u.unit||"turn"===u.unit)}function wt(u){switch(u.filter(ft).map(function(d){return d.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[$,$];case"to top":case"bottom":return it(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[$,S];case"to right":case"left":return it(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[S,S];case"to bottom":case"top":return it(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[S,$];case"to left":case"right":return it(270)}return 0}function Ut(u){return 0==(255&u)}function mt(R){var d=255&R,y=255&R>>8,E=255&R>>16;return R=255&R>>24,d<255?"rgba("+R+","+E+","+y+","+d/255+")":"rgb("+R+","+E+","+y+")"}function lt(u,d){if(17===u.type)return u.number;if(16!==u.type)return 0;var y=3===d?1:255;return 3===d?u.number/100*y:Math.round(u.number/100*y)}var H=function(u,d){return 11===d&&12===u.type||28===d&&29===u.type||2===d&&3===u.type},$={type:17,number:0,flags:4},ot={type:16,number:50,flags:4},S={type:16,number:100,flags:4},V=function(u,d){if(16===u.type)return u.number/100*d;if(Z(u))switch(u.unit){case"rem":case"em":return 16*u.number;default:return u.number}return u.number},rt=function(u,d){if(15===d.type)switch(d.unit){case"deg":return Math.PI*d.number/180;case"grad":return Math.PI/200*d.number;case"rad":return d.number;case"turn":return 2*Math.PI*d.number}throw new Error("Unsupported angle type")},it=function(u){return Math.PI*u/180},gt=function(u,d){if(18===d.type){var y=De[d.name];if(void 0===y)throw new Error('Attempting to parse an unsupported color function "'+d.name+'"');return y(u,d.values)}if(5===d.type){if(3===d.value.length){var E=d.value.substring(0,1),R=d.value.substring(1,2),X=d.value.substring(2,3);return tt(parseInt(E+E,16),parseInt(R+R,16),parseInt(X+X,16),1)}if(4===d.value.length){E=d.value.substring(0,1),R=d.value.substring(1,2),X=d.value.substring(2,3);var et=d.value.substring(3,4);return tt(parseInt(E+E,16),parseInt(R+R,16),parseInt(X+X,16),parseInt(et+et,16)/255)}if(6===d.value.length)return E=d.value.substring(0,2),R=d.value.substring(2,4),X=d.value.substring(4,6),tt(parseInt(E,16),parseInt(R,16),parseInt(X,16),1);if(8===d.value.length)return E=d.value.substring(0,2),R=d.value.substring(2,4),X=d.value.substring(4,6),et=d.value.substring(6,8),tt(parseInt(E,16),parseInt(R,16),parseInt(X,16),parseInt(et,16)/255)}return 20===d.type&&void 0!==(d=nt[d.value.toUpperCase()])?d:nt.TRANSPARENT},tt=function(u,d,y,E){return(u<<24|d<<16|y<<8|Math.round(255*E)<<0)>>>0};function kt(u,d,y){return y<0&&(y+=1),1<=y&&--y,y<1/6?(d-u)*y*6+u:y<.5?d:y<2/3?6*(d-u)*(2/3-y)+u:u}function Yt(u,d){return gt(u,G.create(d).parseComponentValue())}function le(u,d){return u=gt(u,d[0]),(d=d[1])&&J(d)?{color:u,stop:d}:{color:u,stop:null}}function we(u,d){var y=u[0],E=u[u.length-1];null===y.stop&&(y.stop=$),null===E.stop&&(E.stop=S);for(var R=[],X=0,et=0;et<u.length;et++){var St=u[et].stop;null!==St?(X<(St=V(St,d))?R.push(St):R.push(X),X=St):R.push(null)}var vt=null;for(et=0;et<R.length;et++){var $t=R[et];if(null===$t)null===vt&&(vt=et);else if(null!==vt){for(var Zt=et-vt,fe=($t-R[vt-1])/(1+Zt),pe=1;pe<=Zt;pe++)R[vt+pe-1]=fe*pe;vt=null}}return u.map(function(Ee,gr){return{color:Ee.color,stop:Math.max(Math.min(1,R[gr]/d),0)}})}function de(u,d){return Math.sqrt(u*u+d*d)}function Ae(u,d,y,E,R){return[[0,0],[0,d],[u,0],[u,d]].reduce(function(X,et){var vt=de(y-et[0],E-(vt=et[1]));return(R?vt<X.optimumDistance:vt>X.optimumDistance)?{optimumCorner:et,optimumDistance:vt}:X},{optimumDistance:R?1/0:-1/0,optimumCorner:null}).optimumCorner}var Et,Ar,De={hsl:Et=function(X,E){var St=(R=E.filter(oe))[1],y=R[2],R=(E=R[3],(17===(et=R[0]).type?it(et.number):rt(0,et))/(2*Math.PI)),et=(X=J(St)?St.number/100:0,J(y)?y.number/100:0);return St=void 0!==E&&J(E)?V(E,1):1,0==X?tt(255*et,255*et,255*et,1):(X=kt(E=2*et-(y=et<=.5?et*(1+X):et+X-et*X),y,R+1/3),et=kt(E,y,R),R=kt(E,y,R-1/3),tt(255*X,255*et,255*R,St))},hsla:Et,rgb:Tr=function(u,d){if(3===(d=d.filter(oe)).length){var R,y=(R=d.map(lt))[0],E=R[1];return tt(y,E,R=R[2],1)}return 4!==d.length?0:(d=d.map(lt),tt(y=d[0],E=d[1],R=d[2],d=d[3]))},rgba:Tr},nt={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Bt={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(u,d){return d.map(function(y){if(ft(y))switch(y.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ct={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Xt="closest-side",ee="farthest-side",Fe="closest-corner",be="farthest-corner",Ir="ellipse",$e="contain",Pr=function(u,d){if(22===d.type){var y={url:d.value,type:0};return u.cache.addImage(d.value),y}if(18!==d.type)throw new Error("Unsupported image type "+d.type);if(void 0===(y=fr[d.name]))throw new Error('Attempting to parse an unsupported image function "'+d.name+'"');return y(u,d.values)},fr={"linear-gradient":function(u,d){var y=it(180),E=[];return ne(d).forEach(function(R,X){if(0===X){if(20===(X=R[0]).type&&"to"===X.value)return void(y=wt(R));if(st(X))return void(y=rt(0,X))}R=le(u,R),E.push(R)}),{angle:y,stops:E,type:1}},"-moz-linear-gradient":Et=function(u,d){var y=it(180),E=[];return ne(d).forEach(function(R,X){if(0===X){if(20===(X=R[0]).type&&-1!==["top","left","right","bottom"].indexOf(X.value))return void(y=wt(R));if(st(X))return void(y=(rt(0,X)+it(270))%it(360))}R=le(u,R),E.push(R)}),{angle:y,stops:E,type:1}},"-ms-linear-gradient":Et,"-o-linear-gradient":Et,"-webkit-linear-gradient":Et,"radial-gradient":function(u,d){var y=0,E=3,R=[],X=[];return ne(d).forEach(function(et,St){var vt,$t=!0;0===St&&(vt=!1,$t=et.reduce(function(Zt,fe){if(vt)if(ft(fe))switch(fe.value){case"center":return X.push(ot),Zt;case"top":case"left":return X.push($),Zt;case"right":case"bottom":return X.push(S),Zt}else(J(fe)||bt(fe))&&X.push(fe);else if(ft(fe))switch(fe.value){case"circle":return y=0,!1;case Ir:return!(y=1);case"at":return!(vt=!0);case Xt:return E=0,!1;case"cover":case ee:return!(E=1);case $e:case Fe:return!(E=2);case be:return!(E=3)}else if(bt(fe)||J(fe))return(E=Array.isArray(E)?E:[]).push(fe),!1;return Zt},$t)),$t&&(et=le(u,et),R.push(et))}),{size:E,shape:y,stops:R,position:X,type:2}},"-moz-radial-gradient":Tr=function(u,d){var y=0,E=3,R=[],X=[];return ne(d).forEach(function(et,St){var vt=!0;0===St?vt=et.reduce(function($t,Zt){if(ft(Zt))switch(Zt.value){case"center":return X.push(ot),!1;case"top":case"left":return X.push($),!1;case"right":case"bottom":return X.push(S),!1}else if(J(Zt)||bt(Zt))return X.push(Zt),!1;return $t},vt):1===St&&(vt=et.reduce(function($t,Zt){if(ft(Zt))switch(Zt.value){case"circle":return y=0,!1;case Ir:return!(y=1);case $e:case Xt:return E=0,!1;case ee:return!(E=1);case Fe:return!(E=2);case"cover":case be:return!(E=3)}else if(bt(Zt)||J(Zt))return(E=Array.isArray(E)?E:[]).push(Zt),!1;return $t},vt)),vt&&(et=le(u,et),R.push(et))}),{size:E,shape:y,stops:R,position:X,type:2}},"-ms-radial-gradient":Tr,"-o-radial-gradient":Tr,"-webkit-radial-gradient":Tr,"-webkit-gradient":function(u,d){var y=it(180),E=[],R=1;return ne(d).forEach(function(vt,et){var St;if(vt=vt[0],0===et){if(ft(vt)&&"linear"===vt.value)return void(R=1);if(ft(vt)&&"radial"===vt.value)return void(R=2)}18===vt.type&&("from"===vt.name?(St=gt(u,vt.values[0]),E.push({stop:$,color:St})):"to"===vt.name?(St=gt(u,vt.values[0]),E.push({stop:S,color:St})):"color-stop"!==vt.name||2===(vt=vt.values.filter(oe)).length&&(St=gt(u,vt[1]),at(vt=vt[0])&&E.push({stop:{type:16,number:100*vt.number,flags:vt.flags},color:St})))}),1===R?{angle:(y+it(180))%it(360),stops:E,type:R}:{size:3,shape:0,stops:E,position:[],type:R}}},pr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(u,d){if(0===d.length)return[];var y=d[0];return 20===y.type&&"none"===y.value?[]:d.filter(function(E){return oe(E)&&!(20===E.type&&"none"===E.value||18===E.type&&!fr[E.name])}).map(function(E){return Pr(u,E)})}},ln={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(u,d){return d.map(function(y){if(ft(y))switch(y.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},un={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(u,d){return ne(d).map(function(y){return y.filter(J)}).map(qt)}},Qr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(u,d){return ne(d).map(function(y){return y.filter(ft).map(function(E){return E.value}).join(" ")}).map(Te)}},Te=function(u){switch(u){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};function yr(u,d){return ft(u)&&"normal"===u.value?1.2*d:17===u.type?d*u.number:J(u)?V(u,d):d}(Tr=Ar=Ar||{}).AUTO="auto",Tr.CONTAIN="contain";var li,ui,$i={name:"background-size",initialValue:"0",prefix:!(Tr.COVER="cover"),type:1,parse:function(u,d){return ne(d).map(function(y){return y.filter(xn)})}},xn=function(u){return ft(u)||J(u)},vi=(Tr=function(u){return{name:"border-"+u+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}})("top"),Mi=Tr("right"),yi=Tr("bottom"),xe=Tr("left"),Ne=(Tr=function(u){return{name:"border-radius-"+u,initialValue:"0 0",prefix:!1,type:1,parse:function(d,y){return qt(y.filter(J))}}})("top-left"),qe=Tr("top-right"),We=Tr("bottom-right"),h=Tr("bottom-left"),g=(Tr=function(u){return{name:"border-"+u+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(d,y){switch(y){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}})("top"),w=Tr("right"),F=Tr("bottom"),K=Tr("left"),Y=(Tr=function(u){return{name:"border-"+u+"-width",initialValue:"0",type:0,prefix:!1,parse:function(d,y){return Z(y)?y.number:0}}})("top"),ut=Tr("right"),Dt=Tr("bottom"),_t=Tr("left"),te={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},se={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(u,d){return"rtl"!==d?0:1}},Ce={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(u,d){return d.filter(ft).reduce(function(y,E){return y|ue(E.value)},0)}},ue=function(u){switch(u){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Se={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(u,d){switch(d){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ar={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(u,d){return 20===d.type&&"normal"===d.value||17!==d.type&&15!==d.type?0:d.number}},xr={name:"line-break",initialValue:(Tr=li=li||{}).NORMAL="normal",prefix:!(Tr.STRICT="strict"),type:2,parse:function(u,d){return"strict"!==d?li.NORMAL:li.STRICT}},Br={name:"line-height",initialValue:"normal",prefix:!1,type:4},Mn={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(u,d){return 20===d.type&&"none"===d.value?null:Pr(u,d)}},ci={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(u,d){return"inside"!==d?1:0}},Ci={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(u,d){switch(d){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},fn=(Tr=function(u){return{name:"margin-"+u,initialValue:"0",prefix:!1,type:4}})("top"),rn=Tr("right"),cn=Tr("bottom"),hr=Tr("left"),yn={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(u,d){return d.filter(ft).map(function(y){switch(y.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},PA={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(u,d){return"break-word"!==d?"normal":"break-word"}},SA=(Tr=function(u){return{name:"padding-"+u,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}})("top"),qi=Tr("right"),FA=Tr("bottom"),TA=Tr("left"),oA={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(u,d){switch(d){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},ZA={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(u,d){switch(d){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},lA={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(u,d){return 1===d.length&&Mt(d[0],"none")?[]:ne(d).map(function(y){for(var E={color:nt.TRANSPARENT,offsetX:$,offsetY:$,blur:$},R=0,X=0;X<y.length;X++){var et=y[X];bt(et)?(0===R?E.offsetX=et:1===R?E.offsetY=et:E.blur=et,R++):E.color=gt(u,et)}return E})}},Li={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(u,d){switch(d){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},_n={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(u,d){if(20===d.type&&"none"===d.value||18!==d.type)return null;var y=Si[d.name];if(void 0===y)throw new Error('Attempting to parse an unsupported transform function "'+d.name+'"');return y(d.values)}},Si={matrix:function(u){return 6===(u=u.filter(function(d){return 17===d.type}).map(function(d){return d.number})).length?u:null},matrix3d:function(St){var d=St.filter(function(vt){return 17===vt.type}).map(function(vt){return vt.number});return St=d[13],16===d.length?[d[0],d[1],d[4],d[5],d[12],St]:null}},O=[Tr={type:16,number:50,flags:4},Tr],Ct={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(u,d){return 2!==(d=d.filter(J)).length?O:[d[0],d[1]]}},Rt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(u,d){switch(d){case"hidden":return 1;case"collapse":return 2;default:return 0}}};function ie(u,d){return 0!=(u&d)}function ve(u,d,y){return(u=u&&u[Math.min(d,u.length-1)])?y?u.open:u.close:""}(Tr=ui=ui||{}).NORMAL="normal",Tr.BREAK_ALL="break-all";var Pe={name:"word-break",initialValue:"normal",prefix:!(Tr.KEEP_ALL="keep-all"),type:2,parse:function(u,d){switch(d){case"break-all":return ui.BREAK_ALL;case"keep-all":return ui.KEEP_ALL;default:return ui.NORMAL}}},dr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(u,d){if(20===d.type)return{auto:!0,order:0};if(at(d))return{auto:!1,order:d.number};throw new Error("Invalid z-index number parsed")}},Gr=function(u,d){if(15===d.type)switch(d.unit.toLowerCase()){case"s":return 1e3*d.number;case"ms":return d.number}throw new Error("Unsupported time type")},nn={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(u,d){return at(d)?d.number:1}},wn={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hi={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(u,d){return d.filter(ft).map(function(y){switch(y.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(y){return 0!==y})}},pn={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(u,d){var y=[],E=[];return d.forEach(function(R){switch(R.type){case 20:case 0:y.push(R.value);break;case 17:y.push(R.number.toString());break;case 4:E.push(y.join(" ")),y.length=0}}),y.length&&E.push(y.join(" ")),E.map(function(R){return-1===R.indexOf(" ")?R:"'"+R+"'"})}},NA={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},OA={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(u,d){return at(d)?d.number:ft(d)&&"bold"===d.value?700:400}},dA={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(u,d){return d.filter(ft).map(function(y){return y.value})}},wi={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(u,d){switch(d){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},tA={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(u,d){if(0===d.length)return[];var y=d[0];return 20===y.type&&"none"===y.value?[]:d}},qA={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(u,d){if(0===d.length)return null;var y=d[0];if(20===y.type&&"none"===y.value)return null;for(var E=[],R=d.filter(Nt),X=0;X<R.length;X++){var et=R[X],St=R[X+1];20===et.type&&(St=St&&at(St)?St.number:1,E.push({counter:et.value,increment:St}))}return E}},di={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(u,d){if(0===d.length)return[];for(var y=[],E=d.filter(Nt),R=0;R<E.length;R++){var X=E[R],et=E[R+1];ft(X)&&"none"!==X.value&&(et=et&&at(et)?et.number:0,y.push({counter:X.value,reset:et}))}return y}},uA={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(u,d){return d.filter(Z).map(function(y){return Gr(0,y)})}},fs={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(u,d){if(0===d.length)return null;var y=d[0];if(20===y.type&&"none"===y.value)return null;var E=[],R=d.filter(It);if(R.length%2!=0)return null;for(var X=0;X<R.length;X+=2)E.push({open:R[X].value,close:R[X+1].value});return E}},as={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(u,d){return 1===d.length&&Mt(d[0],"none")?[]:ne(d).map(function(y){for(var E={color:255,offsetX:$,offsetY:$,blur:$,spread:$,inset:!1},R=0,X=0;X<y.length;X++){var et=y[X];Mt(et,"inset")?E.inset=!0:bt(et)?(0===R?E.offsetX=et:1===R?E.offsetY=et:2===R?E.blur=et:E.spread=et,R++):E.color=gt(u,et)}return E})}},Lt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(u,d){var y=[];return d.filter(ft).forEach(function(E){switch(E.value){case"stroke":y.push(1);break;case"fill":y.push(0);break;case"markers":y.push(2)}}),[0,1,2].forEach(function(E){-1===y.indexOf(E)&&y.push(E)}),y}},zt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ce={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(u,d){return Z(d)?d.number:0}},ge=(Le.prototype.isVisible=function(){return 0<this.display&&0<this.opacity&&0===this.visibility},Le.prototype.isTransparent=function(){return Ut(this.backgroundColor)},Le.prototype.isTransformed=function(){return null!==this.transform},Le.prototype.isPositioned=function(){return 0!==this.position},Le.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},Le.prototype.isFloating=function(){return 0!==this.float},Le.prototype.isInlineLevel=function(){return ie(this.display,4)||ie(this.display,33554432)||ie(this.display,268435456)||ie(this.display,536870912)||ie(this.display,67108864)||ie(this.display,134217728)},Le);function Le(u,d){this.animationDuration=Be(u,uA,d.animationDuration),this.backgroundClip=Be(u,Bt,d.backgroundClip),this.backgroundColor=Be(u,ct,d.backgroundColor),this.backgroundImage=Be(u,pr,d.backgroundImage),this.backgroundOrigin=Be(u,ln,d.backgroundOrigin),this.backgroundPosition=Be(u,un,d.backgroundPosition),this.backgroundRepeat=Be(u,Qr,d.backgroundRepeat),this.backgroundSize=Be(u,$i,d.backgroundSize),this.borderTopColor=Be(u,vi,d.borderTopColor),this.borderRightColor=Be(u,Mi,d.borderRightColor),this.borderBottomColor=Be(u,yi,d.borderBottomColor),this.borderLeftColor=Be(u,xe,d.borderLeftColor),this.borderTopLeftRadius=Be(u,Ne,d.borderTopLeftRadius),this.borderTopRightRadius=Be(u,qe,d.borderTopRightRadius),this.borderBottomRightRadius=Be(u,We,d.borderBottomRightRadius),this.borderBottomLeftRadius=Be(u,h,d.borderBottomLeftRadius),this.borderTopStyle=Be(u,g,d.borderTopStyle),this.borderRightStyle=Be(u,w,d.borderRightStyle),this.borderBottomStyle=Be(u,F,d.borderBottomStyle),this.borderLeftStyle=Be(u,K,d.borderLeftStyle),this.borderTopWidth=Be(u,Y,d.borderTopWidth),this.borderRightWidth=Be(u,ut,d.borderRightWidth),this.borderBottomWidth=Be(u,Dt,d.borderBottomWidth),this.borderLeftWidth=Be(u,_t,d.borderLeftWidth),this.boxShadow=Be(u,as,d.boxShadow),this.color=Be(u,te,d.color),this.direction=Be(u,se,d.direction),this.display=Be(u,Ce,d.display),this.float=Be(u,Se,d.cssFloat),this.fontFamily=Be(u,pn,d.fontFamily),this.fontSize=Be(u,NA,d.fontSize),this.fontStyle=Be(u,wi,d.fontStyle),this.fontVariant=Be(u,dA,d.fontVariant),this.fontWeight=Be(u,OA,d.fontWeight),this.letterSpacing=Be(u,ar,d.letterSpacing),this.lineBreak=Be(u,xr,d.lineBreak),this.lineHeight=Be(u,Br,d.lineHeight),this.listStyleImage=Be(u,Mn,d.listStyleImage),this.listStylePosition=Be(u,ci,d.listStylePosition),this.listStyleType=Be(u,Ci,d.listStyleType),this.marginTop=Be(u,fn,d.marginTop),this.marginRight=Be(u,rn,d.marginRight),this.marginBottom=Be(u,cn,d.marginBottom),this.marginLeft=Be(u,hr,d.marginLeft),this.opacity=Be(u,nn,d.opacity);var y=Be(u,yn,d.overflow);this.overflowX=y[0],this.overflowY=y[1<y.length?1:0],this.overflowWrap=Be(u,PA,d.overflowWrap),this.paddingTop=Be(u,SA,d.paddingTop),this.paddingRight=Be(u,qi,d.paddingRight),this.paddingBottom=Be(u,FA,d.paddingBottom),this.paddingLeft=Be(u,TA,d.paddingLeft),this.paintOrder=Be(u,Lt,d.paintOrder),this.position=Be(u,ZA,d.position),this.textAlign=Be(u,oA,d.textAlign),this.textDecorationColor=Be(u,wn,null!==(y=d.textDecorationColor)&&void 0!==y?y:d.color),this.textDecorationLine=Be(u,hi,null!==(y=d.textDecorationLine)&&void 0!==y?y:d.textDecoration),this.textShadow=Be(u,lA,d.textShadow),this.textTransform=Be(u,Li,d.textTransform),this.transform=Be(u,_n,d.transform),this.transformOrigin=Be(u,Ct,d.transformOrigin),this.visibility=Be(u,Rt,d.visibility),this.webkitTextStrokeColor=Be(u,zt,d.webkitTextStrokeColor),this.webkitTextStrokeWidth=Be(u,ce,d.webkitTextStrokeWidth),this.wordBreak=Be(u,Pe,d.wordBreak),this.zIndex=Be(u,dr,d.zIndex)}for(var or=function(u,d){this.content=Be(u,tA,d.content),this.quotes=Be(u,fs,d.quotes)},Je=function(u,d){this.counterIncrement=Be(u,qA,d.counterIncrement),this.counterReset=Be(u,di,d.counterReset)},Be=function(u,d,R){var E=new Tt;R=null!=R?R.toString():d.initialValue,E.write(R);var X=new G(E.read());switch(d.type){case 2:var et=X.parseComponentValue();return d.parse(u,ft(et)?et.value:d.initialValue);case 0:return d.parse(u,X.parseComponentValue());case 1:return d.parse(u,X.parseComponentValues());case 4:return X.parseComponentValue();case 3:switch(d.format){case"angle":return rt(0,X.parseComponentValue());case"color":return gt(u,X.parseComponentValue());case"image":return Pr(u,X.parseComponentValue());case"length":var St=X.parseComponentValue();return bt(St)?St:$;case"length-percentage":return J(St=X.parseComponentValue())?St:$;case"time":return Gr(0,X.parseComponentValue())}}},rr=function(u,d){return 1===(u=function(y){switch(y.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(u))||d===u},zr=function(u,d){this.context=u,this.textNodes=[],this.elements=[],this.flags=0,rr(d,3),this.styles=new ge(u,window.getComputedStyle(d,null)),ua(d)&&(this.styles.animationDuration.some(function(y){return 0<y})&&(d.style.animationDuration="0s"),null!==this.styles.transform&&(d.style.transform="none")),this.bounds=Zn(this.context,d),rr(d,4)&&(this.flags|=16)},ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nr=typeof Uint8Array>"u"?[]:new Uint8Array(256),sn=0;sn<ae.length;sn++)Nr[ae.charCodeAt(sn)]=sn;function _r(u,d,y){return u.slice?u.slice(d,y):new Uint16Array(Array.prototype.slice.call(u,d,y))}var jn=(kn.prototype.get=function(u){var d;if(0<=u){if(u<55296||56319<u&&u<=65535)return this.data[d=((d=this.index[u>>5])<<2)+(31&u)];if(u<=65535)return this.data[d=((d=this.index[2048+(u-55296>>5)])<<2)+(31&u)];if(u<this.highStart)return d=this.index[d=2080+(u>>11)],d=this.index[d+=u>>5&63],this.data[d=(d<<2)+(31&u)];if(u<=1114111)return this.data[this.highValueIndex]}return this.errorValue},kn);function kn(u,d,y,E,R,X){this.initialValue=u,this.errorValue=d,this.highStart=y,this.highValueIndex=E,this.index=R,this.data=X}for(var hn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dn=typeof Uint8Array>"u"?[]:new Uint8Array(256),Jn=0;Jn<hn.length;Jn++)Dn[hn.charCodeAt(Jn)]=Jn;function wA(u){return B.get(u)}function Rr(u){return 0===u[0]&&255===u[1]&&0===u[2]&&255===u[3]}var eA,MA,Wi,rA,BA,$A,IA=8,cA=9,bA=11,Qt=12,B=(Wi=function(u){var d,y,E,R,X=.75*u.length,et=u.length,St=0;"="===u[u.length-1]&&(X--,"="===u[u.length-2]&&X--),X=new(typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&void 0!==Uint8Array.prototype.slice?ArrayBuffer:Array)(X);for(var vt=Array.isArray(X)?X:new Uint8Array(X),$t=0;$t<et;$t+=4)d=Nr[u.charCodeAt($t)],y=Nr[u.charCodeAt($t+1)],E=Nr[u.charCodeAt($t+2)],R=Nr[u.charCodeAt($t+3)],vt[St++]=d<<2|y>>4,vt[St++]=(15&y)<<4|E>>2,vt[St++]=(3&E)<<6|63&R;return X}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),rA=Array.isArray(Wi)?function(u){for(var d=u.length,y=[],E=0;E<d;E+=4)y.push(u[E+3]<<24|u[E+2]<<16|u[E+1]<<8|u[E]);return y}(Wi):new Uint32Array(Wi),eA=_r(BA=Array.isArray(Wi)?function(u){for(var d=u.length,y=[],E=0;E<d;E+=2)y.push(u[E+1]<<8|u[E]);return y}(Wi):new Uint16Array(Wi),12,rA[4]/2),MA=2===rA[5]?_r(BA,(24+rA[4])/2):(Wi=rA,BA=Math.ceil((24+rA[4])/4),Wi.slice?Wi.slice(BA,MA):new Uint32Array(Array.prototype.slice.call(Wi,BA,MA))),new jn(rA[0],rA[1],rA[2],rA[3],eA,MA)),z="\xd7",Kt=function(u,d,y,E,R){var et="http://www.w3.org/2000/svg",X=document.createElementNS(et,"svg");return et=document.createElementNS(et,"foreignObject"),X.setAttributeNS(null,"width",u.toString()),X.setAttributeNS(null,"height",d.toString()),et.setAttributeNS(null,"width","100%"),et.setAttributeNS(null,"height","100%"),et.setAttributeNS(null,"x",y.toString()),et.setAttributeNS(null,"y",E.toString()),et.setAttributeNS(null,"externalResourcesRequired","true"),X.appendChild(et),et.appendChild(R),X},Ie=function(u){return new Promise(function(d,y){var E=new Image;E.onload=function(){return d(E)},E.onerror=y,E.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(u))})},Ke={get SUPPORT_RANGE_BOUNDS(){var u=function(d){if(d.createRange){var y=d.createRange();if(y.getBoundingClientRect){var E=d.createElement("boundtest");if(E.style.height="123px",E.style.display="block",d.body.appendChild(E),y.selectNode(E),y=y.getBoundingClientRect(),y=Math.round(y.height),d.body.removeChild(E),123===y)return!0}}return!1}(document);return Object.defineProperty(Ke,"SUPPORT_RANGE_BOUNDS",{value:u}),u},get SUPPORT_WORD_BREAKING(){var u=Ke.SUPPORT_RANGE_BOUNDS&&function(d){var y=d.createElement("boundtest");y.style.width="50px",y.style.display="block",y.style.fontSize="12px",y.style.letterSpacing="0px",y.style.wordSpacing="0px",d.body.appendChild(y);var E=d.createRange();y.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var R=y.firstChild,St=Kr(R.data).map(function(vt){return $r(vt)}),X=0,et={};return St=St.every(function(vt,$t){E.setStart(R,X),E.setEnd(R,X+vt.length);var Zt=E.getBoundingClientRect();return X+=vt.length,vt=Zt.x>et.x||Zt.y>et.y,et=Zt,0===$t||vt}),d.body.removeChild(y),St}(document);return Object.defineProperty(Ke,"SUPPORT_WORD_BREAKING",{value:u}),u},get SUPPORT_SVG_DRAWING(){var u=function(R){var y=new Image,E=R.createElement("canvas");if(!(R=E.getContext("2d")))return!1;y.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{R.drawImage(y,0,0),E.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(Ke,"SUPPORT_SVG_DRAWING",{value:u}),u},get SUPPORT_FOREIGNOBJECT_DRAWING(){var u="function"==typeof Array.from&&"function"==typeof window.fetch?function(d){var y=d.createElement("canvas"),E=100;y.width=E,y.height=E;var R=y.getContext("2d");if(!R)return Promise.reject(!1);R.fillStyle="rgb(0, 255, 0)",R.fillRect(0,0,E,E);var X=new Image,et=y.toDataURL();return X.src=et,X=Kt(E,E,0,0,X),R.fillStyle="red",R.fillRect(0,0,E,E),Ie(X).then(function(St){R.drawImage(St,0,0);var vt=R.getImageData(0,0,E,E).data;return R.fillStyle="red",R.fillRect(0,0,E,E),(St=d.createElement("div")).style.backgroundImage="url("+et+")",St.style.height="100px",Rr(vt)?Ie(Kt(E,E,0,0,St)):Promise.reject(!1)}).then(function(St){return R.drawImage(St,0,0),Rr(R.getImageData(0,0,E,E).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Ke,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:u}),u},get SUPPORT_CORS_IMAGES(){var u=void 0!==(new Image).crossOrigin;return Object.defineProperty(Ke,"SUPPORT_CORS_IMAGES",{value:u}),u},get SUPPORT_RESPONSE_TYPE(){var u="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Ke,"SUPPORT_RESPONSE_TYPE",{value:u}),u},get SUPPORT_CORS_XHR(){var u="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ke,"SUPPORT_CORS_XHR",{value:u}),u},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var u=!(typeof Intl>"u"||!Intl.Segmenter);return Object.defineProperty(Ke,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:u}),u}},nr=function(u,d){this.text=u,this.bounds=d},fi=function(u,d,y){var E=u.ownerDocument;if(!E)throw new Error("Node has no owner document");return(E=E.createRange()).setStart(u,d),E.setEnd(u,d+y),E},UA=function(u){if(Ke.SUPPORT_NATIVE_TEXT_SEGMENTATION){var d=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(d.segment(u)).map(function(y){return y.segment})}return function(y){for(var E,R=function Ln(u){var d=function(et){for(var St=[],vt=0,$t=et.length;vt<$t;){var Zt,fe=et.charCodeAt(vt++);55296<=fe&&fe<=56319&&vt<$t?56320==(64512&(Zt=et.charCodeAt(vt++)))?St.push(((1023&fe)<<10)+(1023&Zt)+65536):(St.push(fe),vt--):St.push(fe)}return St}(u),y=d.length,E=0,R=0,X=d.map(wA);return{next:function(){if(y<=E)return{done:!0,value:null};for(var et=z;E<y&&(et=function(vt,Ee){var Zt=Ee-2,fe=vt[Zt],pe=vt[Ee-1];if(Ee=vt[Ee],2===pe&&3===Ee)return z;if(2===pe||3===pe||4===pe||2===Ee||3===Ee||4===Ee)return"\xf7";if(pe===IA&&-1!==[IA,cA,bA,Qt].indexOf(Ee)||!(pe!==bA&&pe!==cA||Ee!==cA&&10!==Ee)||(pe===Qt||10===pe)&&10===Ee||13===Ee||5===Ee||7===Ee||1===pe)return z;if(13===pe&&14===Ee){for(;5===fe;)fe=vt[--Zt];if(14===fe)return z}if(15===pe&&15===Ee){for(var gr=0;15===fe;)gr++,fe=vt[--Zt];if(gr%2==0)return z}return"\xf7"}(X,++E))===z;);if(et===z&&E!==y)return{done:!0,value:null};var St=function(){for(var vt=[],$t=0;$t<arguments.length;$t++)vt[$t]=arguments[$t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,vt);var Zt=vt.length;if(!Zt)return"";for(var fe=[],pe=-1,Ee="";++pe<Zt;){var gr=vt[pe];gr<=65535?fe.push(gr):fe.push(55296+((gr-=65536)>>10),gr%1024+56320),(pe+1===Zt||16384<fe.length)&&(Ee+=String.fromCharCode.apply(String,fe),fe.length=0)}return Ee}.apply(null,d.slice(R,E));return R=E,{value:St,done:!1}}}}(y),X=[];!(E=R.next()).done;)E.value&&X.push(E.value.slice());return X}(u)},ts=[32,160,4961,65792,65793,4153,4241],gs=function(u,d){for(var y,E=function Gn(u,d){var y=Kr(u),E=(d=function _i(u,d){var y=(R=function(X,et){void 0===et&&(et="strict");var St=[],vt=[],$t=[];return X.forEach(function(Zt,fe){var pe=Cn.get(Zt);return 50<pe?($t.push(!0),pe-=50):$t.push(!1),-1!==["normal","auto","loose"].indexOf(et)&&-1!==[8208,8211,12316,12448].indexOf(Zt)?(vt.push(fe),St.push(16)):4!==pe&&11!==pe?(vt.push(fe),31===pe?St.push("strict"===et?KA:ti):pe===ji||29===pe?St.push(ur):43===pe?St.push(131072<=Zt&&Zt<=196605||196608<=Zt&&Zt<=262141?ti:ur):void St.push(pe)):0===fe?(vt.push(fe),St.push(ur)):-1===Vi.indexOf(pe=St[fe-1])?(vt.push(vt[fe-1]),St.push(pe)):(vt.push(fe),St.push(ur))}),[vt,St,$t]}(u,(d=d||{lineBreak:"normal",wordBreak:"normal"}).lineBreak))[0],E=R[1],R=R[2];return[y,E="break-all"===d.wordBreak||"break-word"===d.wordBreak?E.map(function(X){return-1!==[Xn,ur,ji].indexOf(X)?ti:X}):E,"keep-all"===d.wordBreak?R.map(function(X,et){return X&&19968<=u[et]&&u[et]<=40959}):void 0]}(y,d))[0],R=d[1],X=d[2],et=y.length,St=0,vt=0;return{next:function(){if(et<=vt)return{done:!0,value:null};for(var $t=Vr;vt<et&&($t=function(fe,pe,Ee,Qn,wr){if(0===Ee[Qn])return Vr;var _e=Qn-1;if(Array.isArray(wr)&&!0===wr[_e])return Vr;var Ti,Ur=_e-1,br=1+_e,Er=pe[_e];if(Qn=0<=Ur?pe[Ur]:0,wr=pe[br],2===Er&&3===wr)return Vr;if(-1!==oi.indexOf(Er))return"!";if(-1!==oi.indexOf(wr)||-1!==GA.indexOf(wr))return Vr;if(8===ke(_e,pe))return"\xf7";if(11===Cn.get(fe[_e])||(Er===Yr||Er===Gi)&&11===Cn.get(fe[br])||7===Er||7===wr||9===Er||-1===[Yn,Fn,pi].indexOf(Er)&&9===wr||-1!==[Sr,$n,Di,Ei,bn].indexOf(wr)||ke(_e,pe)===mi||pA(23,mi,_e,pe)||pA([Sr,$n],KA,_e,pe)||pA(12,12,_e,pe))return Vr;if(Er===Yn)return"\xf7";if(23===Er||23===wr)return Vr;if(16===wr||16===Er)return"\xf7";if(-1!==[Fn,pi,KA].indexOf(wr)||14===Er||36===Qn&&-1!==On.indexOf(Er)||Er===bn&&36===wr||wr===Ue||-1!==ir.indexOf(wr)&&Er===Xn||-1!==ir.indexOf(Er)&&wr===Xn||Er===Tn&&-1!==[ti,Yr,Gi].indexOf(wr)||-1!==[ti,Yr,Gi].indexOf(Er)&&wr===Ji||-1!==ir.indexOf(Er)&&-1!==RA.indexOf(wr)||-1!==RA.indexOf(Er)&&-1!==ir.indexOf(wr)||-1!==[Tn,Ji].indexOf(Er)&&(wr===Xn||-1!==[mi,pi].indexOf(wr)&&pe[1+br]===Xn)||-1!==[mi,pi].indexOf(Er)&&wr===Xn||Er===Xn&&-1!==[Xn,bn,Ei].indexOf(wr))return Vr;if(-1!==[Xn,bn,Ei,Sr,$n].indexOf(wr))for(var Sn=_e;0<=Sn;){if((Ti=pe[Sn])===Xn)return Vr;if(-1===[bn,Ei].indexOf(Ti))break;Sn--}if(-1!==[Tn,Ji].indexOf(wr))for(Sn=-1!==[Sr,$n].indexOf(Er)?Ur:_e;0<=Sn;){if((Ti=pe[Sn])===Xn)return Vr;if(-1===[bn,Ei].indexOf(Ti))break;Sn--}if(En===Er&&-1!==[En,Kn,YA,zn].indexOf(wr)||-1!==[Kn,YA].indexOf(Er)&&-1!==[Kn,Nn].indexOf(wr)||-1!==[Nn,zn].indexOf(Er)&&wr===Nn||-1!==en.indexOf(Er)&&-1!==[Ue,Ji].indexOf(wr)||-1!==en.indexOf(wr)&&Er===Tn||-1!==ir.indexOf(Er)&&-1!==ir.indexOf(wr)||Er===Ei&&-1!==ir.indexOf(wr)||-1!==ir.concat(Xn).indexOf(Er)&&wr===mi&&-1===Oi.indexOf(fe[br])||-1!==ir.concat(Xn).indexOf(wr)&&Er===$n)return Vr;if(41===Er&&41===wr){for(var EA=Ee[_e],iA=1;0<EA&&41===pe[--EA];)iA++;if(iA%2!=0)return Vr}return Er===Yr&&wr===Gi?Vr:"\xf7"}(y,R,E,++vt,X))===Vr;);if($t===Vr&&vt!==et)return{done:!0,value:null};var Zt=new mA(y,$t,St,vt);return St=vt,{value:Zt,done:!1}}}}(u,{lineBreak:d.lineBreak,wordBreak:"break-word"===d.overflowWrap?"break-word":d.wordBreak}),R=[];!(y=E.next()).done;)!function(){var X,et;y.value&&(X=y.value.slice(),X=Kr(X),et="",X.forEach(function(St){-1===ts.indexOf(St)?et+=$r(St):(et.length&&R.push(et),R.push($r(St)),et="")}),et.length&&R.push(et))}();return R},ps=function(u,d,y){var E,R,X,et,St;this.text=Ss(d.data,y.textTransform),this.textBounds=(E=u,X=d,u=function(u,d){return 0!==d.letterSpacing?UA(u):function(y,E){if(Ke.SUPPORT_NATIVE_TEXT_SEGMENTATION){var R=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(R.segment(y)).map(function(X){return X.segment})}return gs(y,E)}(u,d)}(u=this.text,R=y),et=[],St=0,u.forEach(function(vt){var $t,Zt,fe;R.textDecorationLine.length||0<vt.trim().length?Ke.SUPPORT_RANGE_BOUNDS?1<(fe=fi(X,St,vt.length).getClientRects()).length?($t=UA(vt),Zt=0,$t.forEach(function(pe){et.push(new nr(pe,Ai.fromDOMRectList(E,fi(X,Zt+St,pe.length).getClientRects()))),Zt+=pe.length})):et.push(new nr(vt,Ai.fromDOMRectList(E,fe))):(fe=X.splitText(vt.length),et.push(new nr(vt,function(u,d){var y=d.ownerDocument;if(y){var E=y.createElement("html2canvaswrapper");if(E.appendChild(d.cloneNode(!0)),y=d.parentNode)return y.replaceChild(E,d),u=Zn(u,E),E.firstChild&&y.replaceChild(E.firstChild,E),u}return Ai.EMPTY}(E,X))),X=fe):Ke.SUPPORT_RANGE_BOUNDS||(X=X.splitText(vt.length)),St+=vt.length}),et)},Ss=function(u,d){switch(d){case 1:return u.toLowerCase();case 3:return u.replace(XA,ks);case 2:return u.toUpperCase();default:return u}},XA=/(^|\s|:|-|\(|\))([a-z])/g,ks=function(u,d,y){return 0<u.length?d+y.toUpperCase():u},Fs=(Hr(Aa,$A=zr),Aa);function Aa(u,d){return(u=$A.call(this,u,d)||this).src=d.currentSrc||d.src,u.intrinsicWidth=d.naturalWidth,u.intrinsicHeight=d.naturalHeight,u.context.cache.addImage(u.src),u}var ms,va=(Hr(Ma,ms=zr),Ma);function Ma(u,d){return(u=ms.call(this,u,d)||this).canvas=d,u.intrinsicWidth=d.width,u.intrinsicHeight=d.height,u}var lo,Ha=(Hr(uo,lo=zr),uo);function uo(R,d){var y=lo.call(this,R,d)||this,E=new XMLSerializer;return R=Zn(R,d),d.setAttribute("width",R.width+"px"),d.setAttribute("height",R.height+"px"),y.svg="data:image/svg+xml,"+encodeURIComponent(E.serializeToString(d)),y.intrinsicWidth=d.width.baseVal.value,y.intrinsicHeight=d.height.baseVal.value,y.context.cache.addImage(y.svg),y}var co,ho=(Hr(Ka,co=zr),Ka);function Ka(u,d){return(u=co.call(this,u,d)||this).value=d.value,u}var fo,ya=(Hr(Xs,fo=zr),Xs);function Xs(u,d){return(u=fo.call(this,u,d)||this).start=d.start,u.reversed="boolean"==typeof d.reversed&&!0===d.reversed,u}var go,Mo=[{type:15,flags:0,unit:"px",number:3}],jA=[{type:16,flags:0,number:50}],wa="checkbox",zs="radio",Ho="password",po=707406591,sa=(Hr(Ba,go=zr),Ba);function Ba(u,d){var y=go.call(this,u,d)||this;switch(y.type=d.type.toLowerCase(),y.checked=d.checked,y.value=0===(d=(u=d).type===Ho?new Array(u.value.length+1).join("\u2022"):u.value).length?u.placeholder||"":d,y.type!==wa&&y.type!==zs||(y.styles.backgroundColor=3739148031,y.styles.borderTopColor=y.styles.borderRightColor=y.styles.borderBottomColor=y.styles.borderLeftColor=2779096575,y.styles.borderTopWidth=y.styles.borderRightWidth=y.styles.borderBottomWidth=y.styles.borderLeftWidth=1,y.styles.borderTopStyle=y.styles.borderRightStyle=y.styles.borderBottomStyle=y.styles.borderLeftStyle=1,y.styles.backgroundClip=[0],y.styles.backgroundOrigin=[0],y.bounds=(d=y.bounds).width>d.height?new Ai(d.left+(d.width-d.height)/2,d.top,d.height,d.height):d.width<d.height?new Ai(d.left,d.top+(d.height-d.width)/2,d.width,d.width):d),y.type){case wa:y.styles.borderTopRightRadius=y.styles.borderTopLeftRadius=y.styles.borderBottomRightRadius=y.styles.borderBottomLeftRadius=Mo;break;case zs:y.styles.borderTopRightRadius=y.styles.borderTopLeftRadius=y.styles.borderBottomRightRadius=y.styles.borderBottomLeftRadius=jA}return y}var Ns,mo=(Hr(Ts,Ns=zr),Ts);function Ts(u,d){return(u=Ns.call(this,u,d)||this).value=(d=d.options[d.selectedIndex||0])&&d.text||"",u}var _A,Ga=(Hr(ba,_A=zr),ba);function ba(u,d){return(u=_A.call(this,u,d)||this).value=d.value,u}var Js,Os=(Hr(Ea,Js=zr),Ea);function Ea(u,d){var y,E,R=Js.call(this,u,d)||this;R.src=d.src,R.width=parseInt(d.width,10)||0,R.height=parseInt(d.height,10)||0,R.backgroundColor=R.styles.backgroundColor;try{d.contentWindow&&d.contentWindow.document&&d.contentWindow.document.documentElement&&(R.tree=yo(u,d.contentWindow.document.documentElement),y=d.contentWindow.document.documentElement?Yt(u,getComputedStyle(d.contentWindow.document.documentElement).backgroundColor):nt.TRANSPARENT,E=d.contentWindow.document.body?Yt(u,getComputedStyle(d.contentWindow.document.body).backgroundColor):nt.TRANSPARENT,R.backgroundColor=Ut(y)?Ut(E)?R.styles.backgroundColor:E:y)}catch{}return R}function ja(u){return"VIDEO"===u.tagName}function aa(u){return"STYLE"===u.tagName}function es(u){return 0<u.tagName.indexOf("-")}var vo=["OL","UL","MENU"],oa=function(u,d,y,E){for(var R=d.firstChild;R;R=et){var X,et=R.nextSibling;la(R)&&0<R.data.trim().length?y.textNodes.push(new ps(u,R,y.styles)):Ds(R)&&(Wa(R)&&R.assignedNodes?R.assignedNodes().forEach(function(St){return oa(u,St,y,E)}):(X=Bs(u,R)).styles.isVisible()&&(Ca(R,X,E)?X.flags|=4:wo(X.styles)&&(X.flags|=2),-1!==vo.indexOf(R.tagName)&&(X.flags|=8),y.elements.push(X),R.shadowRoot?oa(u,R.shadowRoot,X,E):Is(R)||La(R)||ca(R)||oa(u,R,X,E)))}},Bs=function(u,d){return new(Qs(d)?Fs:qa(d)?va:La(d)?Ha:Ko(d)?ho:Go(d)?ya:Va(d)?sa:ca(d)?mo:Is(d)?Ga:Zs(d)?Os:zr)(u,d)},yo=function(u,d){var y=Bs(u,d);return y.flags|=4,oa(u,d,y,y),y},Ca=function(u,d,y){return d.styles.isPositionedWithZIndex()||d.styles.opacity<1||d.styles.isTransformed()||Sa(u)&&y.styles.isTransparent()},wo=function(u){return u.isPositioned()||u.isFloating()},la=function(u){return u.nodeType===Node.TEXT_NODE},Ds=function(u){return u.nodeType===Node.ELEMENT_NODE},ua=function(u){return Ds(u)&&void 0!==u.style&&!bs(u)},bs=function(u){return"object"==typeof u.className},Ko=function(u){return"LI"===u.tagName},Go=function(u){return"OL"===u.tagName},Va=function(u){return"INPUT"===u.tagName},La=function(u){return"svg"===u.tagName},Sa=function(u){return"BODY"===u.tagName},qa=function(u){return"CANVAS"===u.tagName},Qs=function(u){return"IMG"===u.tagName},Zs=function(u){return"IFRAME"===u.tagName},Is=function(u){return"TEXTAREA"===u.tagName},ca=function(u){return"SELECT"===u.tagName},Wa=function(u){return"SLOT"===u.tagName},jo=(Ms.prototype.getCounterValue=function(u){return(u=this.counters[u])&&u.length?u[u.length-1]:1},Ms.prototype.getCounterValues=function(u){return(u=this.counters[u])||[]},Ms.prototype.pop=function(u){var d=this;u.forEach(function(y){return d.counters[y].pop()})},Ms.prototype.parse=function(E){var d=this,y=E.counterIncrement,R=(E=E.counterReset,!0);null!==y&&y.forEach(function(et){var St=d.counters[et.counter];St&&0!==et.increment&&(R=!1,St.length||St.push(1),St[Math.max(0,St.length-1)]+=et.increment)});var X=[];return R&&E.forEach(function(et){var St=d.counters[et.counter];X.push(et.counter),(St=St||(d.counters[et.counter]=[])).push(et.reset)}),X},Ms);function Ms(){this.counters={}}function Hs(u,d,y,E,R,X){return u<d||y<u?da(u,R,0<X.length):E.integers.reduce(function(et,St,vt){for(;St<=u;)u-=St,et+=E.values[vt];return et},"")+X}function $s(u,d,y,E){for(var R="";y||u--,R=E(u)+R,d<=(u/=d)*d;);return R}function Yi(u,d,y,E,R){var X=y-d+1;return(u<0?"-":"")+($s(Math.abs(u),X,E,function(et){return $r(Math.floor(et%X)+d)})+R)}function Ks(u,d,y){void 0===y&&(y=". ");var E=d.length;return $s(Math.abs(u),E,!1,function(R){return d[Math.floor(R%E)]})+y}function Us(u,d,y,E,R,X){if(u<-9999||9999<u)return da(u,4,0<R.length);var et=Math.abs(u),St=R;if(0===et)return d[0]+St;for(var vt=0;0<et&&vt<=4;vt++){var $t=et%10;0==$t&&ie(X,1)&&""!==St?St=d[$t]+St:1<$t||1==$t&&0===vt||1==$t&&1===vt&&ie(X,2)||1==$t&&1===vt&&ie(X,4)&&100<u||1==$t&&1<vt&&ie(X,8)?St=d[$t]+(0<vt?y[vt-1]:"")+St:1==$t&&0<vt&&(St=y[vt-1]+St),et=Math.floor(et/10)}return(u<0?E:"")+St}var ta,Ya={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Bo={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Vo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},bo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},ha="\ub9c8\uc774\ub108\uc2a4",da=function(u,d,y){var E=y?". ":"",R=y?"\u3001":"",X=y?", ":"",et=y?" ":"";switch(d){case 0:return"\u2022"+et;case 1:return"\u25e6"+et;case 2:return"\u25fe"+et;case 5:var St=Yi(u,48,57,!0,E);return St.length<4?"0"+St:St;case 4:return Ks(u,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",R);case 6:return Hs(u,1,3999,Ya,3,E).toLowerCase();case 7:return Hs(u,1,3999,Ya,3,E);case 8:return Yi(u,945,969,!1,E);case 9:return Yi(u,97,122,!1,E);case 10:return Yi(u,65,90,!1,E);case 11:return Yi(u,1632,1641,!0,E);case 12:case 49:return Hs(u,1,9999,Bo,3,E);case 35:return Hs(u,1,9999,Bo,3,E).toLowerCase();case 13:return Yi(u,2534,2543,!0,E);case 14:case 30:return Yi(u,6112,6121,!0,E);case 15:return Ks(u,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",R);case 16:return Ks(u,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",R);case 17:case 48:return Us(u,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",R,14);case 47:return Us(u,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",R,15);case 42:return Us(u,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",R,14);case 41:return Us(u,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",R,15);case 26:return Us(u,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",R,0);case 25:return Us(u,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",R,7);case 31:return Us(u,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",ha,X,7);case 33:return Us(u,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",ha,X,0);case 32:return Us(u,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",ha,X,7);case 18:return Yi(u,2406,2415,!0,E);case 20:return Hs(u,1,19999,bo,3,E);case 21:return Yi(u,2790,2799,!0,E);case 22:return Yi(u,2662,2671,!0,E);case 22:return Hs(u,1,10999,Vo,3,E);case 23:return Ks(u,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Ks(u,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Yi(u,3302,3311,!0,E);case 28:return Ks(u,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",R);case 29:return Ks(u,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",R);case 34:return Yi(u,3792,3801,!0,E);case 37:return Yi(u,6160,6169,!0,E);case 38:return Yi(u,4160,4169,!0,E);case 39:return Yi(u,2918,2927,!0,E);case 40:return Yi(u,1776,1785,!0,E);case 43:return Yi(u,3046,3055,!0,E);case 44:return Yi(u,3174,3183,!0,E);case 45:return Yi(u,3664,3673,!0,E);case 46:return Yi(u,3872,3881,!0,E);default:return Yi(u,48,57,!0,E)}},WA="data-html2canvas-ignore",Eo=(kA.prototype.toIFrame=function(vt,d){var y=this,E=Wo(vt,d);if(!E.contentWindow)return Promise.reject("Unable to find iframe window");var R=vt.defaultView.pageXOffset,X=vt.defaultView.pageYOffset,et=E.contentWindow,St=et.document;return vt=Co(E).then(function(){return Zr(y,void 0,void 0,function(){var $t,Zt;return jr(this,function(fe){switch(fe.label){case 0:return this.scrolledElements.forEach(zo),et&&(et.scrollTo(d.left,d.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||et.scrollY===d.top&&et.scrollX===d.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(et.scrollX-d.left,et.scrollY-d.top,0,0))),$t=this.options.onclone,void 0===(Zt=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:St.fonts&&St.fonts.ready?[4,St.fonts.ready]:[3,2];case 1:fe.sent(),fe.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Es(St)]:[3,4];case 3:fe.sent(),fe.label=4;case 4:return"function"==typeof $t?[2,Promise.resolve().then(function(){return $t(St,Zt)}).then(function(){return E})]:[2,E]}})})}),St.open(),St.write(Yo(document.doctype)+"<html></html>"),Xo(this.referenceElement.ownerDocument,R,X),St.replaceChild(St.adoptNode(this.documentElement),St.documentElement),St.close(),vt},kA.prototype.createElementClone=function(u){if(rr(u,2),qa(u))return this.createCanvasClone(u);if(ja(u))return this.createVideoClone(u);if(aa(u))return this.createStyleClone(u);var d=u.cloneNode(!1);return Qs(d)&&(Qs(u)&&u.currentSrc&&u.currentSrc!==u.src&&(d.src=u.currentSrc,d.srcset=""),"lazy"===d.loading&&(d.loading="eager")),es(d)?this.createCustomElementClone(d):d},kA.prototype.createCustomElementClone=function(u){var d=document.createElement("html2canvascustomelement");return Xa(u.style,d),d},kA.prototype.createStyleClone=function(u){try{var d=u.sheet;if(d&&d.cssRules){var y=[].slice.call(d.cssRules,0).reduce(function(R,X){return X&&"string"==typeof X.cssText?R+X.cssText:R},""),E=u.cloneNode(!1);return E.textContent=y,E}}catch(R){if(this.context.logger.error("Unable to access cssRules property",R),"SecurityError"!==R.name)throw R}return u.cloneNode(!1)},kA.prototype.createCanvasClone=function(u){var d;if(this.options.inlineImages&&u.ownerDocument){var y=u.ownerDocument.createElement("img");try{return y.src=u.toDataURL(),y}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",u)}}y=u.cloneNode(!1);try{y.width=u.width,y.height=u.height;var E,R,X=u.getContext("2d"),et=y.getContext("2d");return et&&(!this.options.allowTaint&&X?et.putImageData(X.getImageData(0,0,u.width,u.height),0,0):(!(E=null!==(d=u.getContext("webgl2"))&&void 0!==d?d:u.getContext("webgl"))||!1===(null==(R=E.getContextAttributes())?void 0:R.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",u),et.drawImage(u,0,0))),y}catch{this.context.logger.info("Unable to clone canvas as it is tainted",u)}return y},kA.prototype.createVideoClone=function(u){var d=u.ownerDocument.createElement("canvas");d.width=u.offsetWidth,d.height=u.offsetHeight;var y=d.getContext("2d");try{return y&&(y.drawImage(u,0,0,d.width,d.height),this.options.allowTaint||y.getImageData(0,0,d.width,d.height)),d}catch{this.context.logger.info("Unable to clone video as it is tainted",u)}return(d=u.ownerDocument.createElement("canvas")).width=u.offsetWidth,d.height=u.offsetHeight,d},kA.prototype.appendChildNode=function(u,d,y){Ds(d)&&("SCRIPT"===d.tagName||d.hasAttribute(WA)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(d))||this.options.copyStyles&&Ds(d)&&aa(d)||u.appendChild(this.cloneNode(d,y))},kA.prototype.cloneChildNodes=function(u,d,y){for(var E,R=this,X=(u.shadowRoot||u).firstChild;X;X=X.nextSibling)Ds(X)&&Wa(X)&&"function"==typeof X.assignedNodes?(E=X.assignedNodes()).length&&E.forEach(function(et){return R.appendChildNode(d,et,y)}):this.appendChildNode(d,X,y)},kA.prototype.cloneNode=function(u,d){if(la(u))return document.createTextNode(u.data);if(!u.ownerDocument)return u.cloneNode(!1);var y=u.ownerDocument.defaultView;if(y&&Ds(u)&&(ua(u)||bs(u))){var E=this.createElementClone(u);E.style.transitionProperty="none";var R=y.getComputedStyle(u),X=y.getComputedStyle(u,":before"),et=y.getComputedStyle(u,":after");return this.referenceElement===u&&ua(E)&&(this.clonedReferenceElement=E),Sa(E)&&Jo(E),y=this.counters.parse(new Je(this.context,R)),X=this.resolvePseudoContent(u,E,X,ta.BEFORE),es(u)&&(d=!0),ja(u)||this.cloneChildNodes(u,E,d),X&&E.insertBefore(X,E.firstChild),(et=this.resolvePseudoContent(u,E,et,ta.AFTER))&&E.appendChild(et),this.counters.pop(y),(R&&(this.options.copyStyles||bs(u))&&!Zs(u)||d)&&Xa(R,E),0===u.scrollTop&&0===u.scrollLeft||this.scrolledElements.push([E,u.scrollLeft,u.scrollTop]),(Is(u)||ca(u))&&(Is(E)||ca(E))&&(E.value=u.value),E}return u.cloneNode(!1)},kA.prototype.resolvePseudoContent=function(u,d,y,E){var R=this;if(y){var X=y.content,et=d.ownerDocument;if(et&&X&&"none"!==X&&"-moz-alt-content"!==X&&"none"!==y.display){this.counters.parse(new Je(this.context,y));var St=new or(this.context,y),vt=et.createElement("html2canvaspseudoelement");return Xa(y,vt),St.content.forEach(function($t){if(0===$t.type)vt.appendChild(et.createTextNode($t.value));else if(22===$t.type){var Zt=et.createElement("img");Zt.src=$t.value,Zt.style.opacity="1",vt.appendChild(Zt)}else if(18===$t.type){var fe,pe,Ee,gr,Ye;"attr"===$t.name?(Zt=$t.values.filter(ft)).length&&vt.appendChild(et.createTextNode(u.getAttribute(Zt[0].value)||"")):"counter"===$t.name?(Ee=(pe=$t.values.filter(oe))[0],pe=pe[1],Ee&&ft(Ee)&&(fe=R.counters.getCounterValue(Ee.value),Ye=pe&&ft(pe)?Ci.parse(R.context,pe.value):3,vt.appendChild(et.createTextNode(da(fe,Ye,!1))))):"counters"===$t.name&&(Ee=(fe=$t.values.filter(oe))[0],Ye=fe[1],pe=fe[2],Ee&&ft(Ee)&&(Ee=R.counters.getCounterValues(Ee.value),gr=pe&&ft(pe)?Ci.parse(R.context,pe.value):3,Ye=Ye&&0===Ye.type?Ye.value:"",Ye=Ee.map(function(_e){return da(_e,gr,!1)}).join(Ye),vt.appendChild(et.createTextNode(Ye))))}else if(20===$t.type)switch($t.value){case"open-quote":vt.appendChild(et.createTextNode(ve(St.quotes,R.quoteDepth++,!0)));break;case"close-quote":vt.appendChild(et.createTextNode(ve(St.quotes,--R.quoteDepth,!1)));break;default:vt.appendChild(et.createTextNode($t.value))}}),vt.className=Fa+" "+Ta,E=E===ta.BEFORE?" "+Fa:" "+Ta,bs(d)?d.className.baseValue+=E:d.className+=E,vt}}},kA.destroy=function(u){return!!u.parentNode&&(u.parentNode.removeChild(u),!0)},kA);function kA(u,d,y){if(this.context=u,this.options=y,this.scrolledElements=[],this.referenceElement=d,this.counters=new jo,this.quoteDepth=0,!d.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(d.ownerDocument.documentElement,!1)}function qo(u){return new Promise(function(d){!u.complete&&u.src?(u.onload=d,u.onerror=d):d()})}(Tr=ta=ta||{})[Tr.BEFORE=0]="BEFORE",Tr[Tr.AFTER=1]="AFTER";var Wo=function(u,d){var y=u.createElement("iframe");return y.className="html2canvas-container",y.style.visibility="hidden",y.style.position="fixed",y.style.left="-10000px",y.style.top="0px",y.style.border="0",y.width=d.width.toString(),y.height=d.height.toString(),y.scrolling="no",y.setAttribute(WA,"true"),u.body.appendChild(y),y},Es=function(u){return Promise.all([].slice.call(u.images,0).map(qo))},Co=function(u){return new Promise(function(d,y){var E=u.contentWindow;if(!E)return y("No window assigned for iframe");var R=E.document;E.onload=u.onload=function(){E.onload=u.onload=null;var X=setInterval(function(){0<R.body.childNodes.length&&"complete"===R.readyState&&(clearInterval(X),d(u))},50)}})},Lo=["all","d","content"],Xa=function(u,d){for(var y=u.length-1;0<=y;y--){var E=u.item(y);-1===Lo.indexOf(E)&&d.style.setProperty(E,u.getPropertyValue(E))}return d},Yo=function(u){var d="";return u&&(d+="<!DOCTYPE ",u.name&&(d+=u.name),u.internalSubset&&(d+=u.internalSubset),u.publicId&&(d+='"'+u.publicId+'"'),u.systemId&&(d+='"'+u.systemId+'"'),d+=">"),d},Xo=function(u,d,y){u&&u.defaultView&&(d!==u.defaultView.pageXOffset||y!==u.defaultView.pageYOffset)&&u.defaultView.scrollTo(d,y)},zo=function(E){var d=E[0],y=E[1];E=E[2],d.scrollLeft=y,d.scrollTop=E},Fa="___html2canvas___pseudoelement_before",Ta="___html2canvas___pseudoelement_after",So='{\n    content: "" !important;\n    display: none !important;\n}',Jo=function(u){Zo(u,"."+Fa+":before"+So+"\n         ."+Ta+":after"+So)},Zo=function(u,d){var y=u.ownerDocument;y&&((y=y.createElement("style")).textContent=d,u.appendChild(y))},Fo=(vs.getOrigin=function(u){var d=vs._link;return d?(d.href=u,d.href=d.href,d.protocol+d.hostname+d.port):"about:blank"},vs.isSameOrigin=function(u){return vs.getOrigin(u)===vs._origin},vs.setContext=function(u){vs._link=u.document.createElement("a"),vs._origin=vs.getOrigin(u.location.href)},vs._origin="about:blank",vs);function vs(){}var To=(xs.prototype.addImage=function(u){var d=Promise.resolve();return this.has(u)||(os(u)||Io(u))&&(this._cache[u]=this.loadImage(u)).catch(function(){}),d},xs.prototype.match=function(u){return this._cache[u]},xs.prototype.loadImage=function(u){return Zr(this,void 0,void 0,function(){var d,y,E,R,X=this;return jr(this,function(et){switch(et.label){case 0:return d=Fo.isSameOrigin(u),y=!Za(u)&&!0===this._options.useCORS&&Ke.SUPPORT_CORS_IMAGES&&!d,E=!Za(u)&&!d&&!os(u)&&"string"==typeof this._options.proxy&&Ke.SUPPORT_CORS_XHR&&!y,d||!1!==this._options.allowTaint||Za(u)||os(u)||E||y?(R=u,E?[4,this.proxy(R)]:[3,2]):[2];case 1:R=et.sent(),et.label=2;case 2:return this.context.logger.debug("Added image "+u.substring(0,256)),[4,new Promise(function(St,vt){var $t=new Image;$t.onload=function(){return St($t)},$t.onerror=vt,(Uo(R)||y)&&($t.crossOrigin="anonymous"),$t.src=R,!0===$t.complete&&setTimeout(function(){return St($t)},500),0<X._options.imageTimeout&&setTimeout(function(){return vt("Timed out ("+X._options.imageTimeout+"ms) loading image")},X._options.imageTimeout)})];case 3:return[2,et.sent()]}})})},xs.prototype.has=function(u){return void 0!==this._cache[u]},xs.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},xs.prototype.proxy=function(u){var d=this,y=this._options.proxy;if(!y)throw new Error("No proxy defined");var E=u.substring(0,256);return new Promise(function(R,X){var et=Ke.SUPPORT_RESPONSE_TYPE?"blob":"text",St=new XMLHttpRequest;St.onload=function(){var Zt;200===St.status?"text"==et?R(St.response):((Zt=new FileReader).addEventListener("load",function(){return R(Zt.result)},!1),Zt.addEventListener("error",function(fe){return X(fe)},!1),Zt.readAsDataURL(St.response)):X("Failed to proxy resource "+E+" with status code "+St.status)},St.onerror=X;var vt,$t=-1<y.indexOf("?")?"&":"?";St.open("GET",y+$t+"url="+encodeURIComponent(u)+"&responseType="+et),"text"!=et&&St instanceof XMLHttpRequest&&(St.responseType=et),d._options.imageTimeout&&(St.timeout=vt=d._options.imageTimeout,St.ontimeout=function(){return X("Timed out ("+vt+"ms) proxying "+E)}),St.send()})},xs);function xs(u,d){this.context=u,this._options=d,this._cache={}}var $o=/^data:image\/svg\+xml/i,za=/^data:image\/.*;base64,/i,Ja=/^data:image\/.*/i,Io=function(u){return Ke.SUPPORT_SVG_DRAWING||!nA(u)},Za=function(u){return Ja.test(u)},Uo=function(u){return za.test(u)},os=function(u){return"blob"===u.substr(0,4)},nA=function(u){return"svg"===u.substr(-3).toLowerCase()||$o.test(u)},lr=(Cs.prototype.add=function(u,d){return new Cs(this.x+u,this.y+d)},Cs);function Cs(u,d){this.type=0,this.x=u,this.y=d}function ea(u,d,y){return new lr(u.x+(d.x-u.x)*y,u.y+(d.y-u.y)*y)}var Ia=(Rs.prototype.subdivide=function(et,d){var y=ea(this.start,this.startControl,et),X=ea(this.startControl,this.endControl,et),E=ea(this.endControl,this.end,et),R=ea(y,X,et);return X=ea(X,E,et),et=ea(R,X,et),d?new Rs(this.start,y,R,et):new Rs(et,X,E,this.end)},Rs.prototype.add=function(u,d){return new Rs(this.start.add(u,d),this.startControl.add(u,d),this.endControl.add(u,d),this.end.add(u,d))},Rs.prototype.reverse=function(){return new Rs(this.end,this.endControl,this.startControl,this.start)},Rs);function Rs(u,d,y,E){this.type=1,this.start=u,this.startControl=d,this.endControl=y,this.end=E}function rs(u){return 1===u.type}var Hn,$a=function(Sn){var d=Sn.styles,y=Sn.bounds,E=(_e=ht(d.borderTopLeftRadius,y.width,y.height))[0],R=_e[1],X=(Ur=ht(d.borderTopRightRadius,y.width,y.height))[0],et=Ur[1],St=(br=ht(d.borderBottomRightRadius,y.width,y.height))[0],vt=br[1],$t=(Er=ht(d.borderBottomLeftRadius,y.width,y.height))[0],Zt=Er[1];(Qn=[]).push((E+X)/y.width),Qn.push(($t+St)/y.width),Qn.push((R+Zt)/y.height),Qn.push((et+vt)/y.height),1<(wr=Math.max.apply(Math,Qn))&&(E/=wr,R/=wr,X/=wr,et/=wr,St/=wr,vt/=wr,$t/=wr,Zt/=wr);var fe=y.width-X,pe=y.height-vt,Ee=y.width-St,gr=y.height-Zt,Ye=d.borderTopWidth,_e=d.borderRightWidth,Ur=d.borderBottomWidth,br=d.borderLeftWidth,Er=V(d.paddingTop,Sn.bounds.width),Qn=V(d.paddingRight,Sn.bounds.width),wr=V(d.paddingBottom,Sn.bounds.width);Sn=V(d.paddingLeft,Sn.bounds.width),this.topLeftBorderDoubleOuterBox=0<E||0<R?Fi(y.left+br/3,y.top+Ye/3,E-br/3,R-Ye/3,Hn.TOP_LEFT):new lr(y.left+br/3,y.top+Ye/3),this.topRightBorderDoubleOuterBox=0<E||0<R?Fi(y.left+fe,y.top+Ye/3,X-_e/3,et-Ye/3,Hn.TOP_RIGHT):new lr(y.left+y.width-_e/3,y.top+Ye/3),this.bottomRightBorderDoubleOuterBox=0<St||0<vt?Fi(y.left+Ee,y.top+pe,St-_e/3,vt-Ur/3,Hn.BOTTOM_RIGHT):new lr(y.left+y.width-_e/3,y.top+y.height-Ur/3),this.bottomLeftBorderDoubleOuterBox=0<$t||0<Zt?Fi(y.left+br/3,y.top+gr,$t-br/3,Zt-Ur/3,Hn.BOTTOM_LEFT):new lr(y.left+br/3,y.top+y.height-Ur/3),this.topLeftBorderDoubleInnerBox=0<E||0<R?Fi(y.left+2*br/3,y.top+2*Ye/3,E-2*br/3,R-2*Ye/3,Hn.TOP_LEFT):new lr(y.left+2*br/3,y.top+2*Ye/3),this.topRightBorderDoubleInnerBox=0<E||0<R?Fi(y.left+fe,y.top+2*Ye/3,X-2*_e/3,et-2*Ye/3,Hn.TOP_RIGHT):new lr(y.left+y.width-2*_e/3,y.top+2*Ye/3),this.bottomRightBorderDoubleInnerBox=0<St||0<vt?Fi(y.left+Ee,y.top+pe,St-2*_e/3,vt-2*Ur/3,Hn.BOTTOM_RIGHT):new lr(y.left+y.width-2*_e/3,y.top+y.height-2*Ur/3),this.bottomLeftBorderDoubleInnerBox=0<$t||0<Zt?Fi(y.left+2*br/3,y.top+gr,$t-2*br/3,Zt-2*Ur/3,Hn.BOTTOM_LEFT):new lr(y.left+2*br/3,y.top+y.height-2*Ur/3),this.topLeftBorderStroke=0<E||0<R?Fi(y.left+br/2,y.top+Ye/2,E-br/2,R-Ye/2,Hn.TOP_LEFT):new lr(y.left+br/2,y.top+Ye/2),this.topRightBorderStroke=0<E||0<R?Fi(y.left+fe,y.top+Ye/2,X-_e/2,et-Ye/2,Hn.TOP_RIGHT):new lr(y.left+y.width-_e/2,y.top+Ye/2),this.bottomRightBorderStroke=0<St||0<vt?Fi(y.left+Ee,y.top+pe,St-_e/2,vt-Ur/2,Hn.BOTTOM_RIGHT):new lr(y.left+y.width-_e/2,y.top+y.height-Ur/2),this.bottomLeftBorderStroke=0<$t||0<Zt?Fi(y.left+br/2,y.top+gr,$t-br/2,Zt-Ur/2,Hn.BOTTOM_LEFT):new lr(y.left+br/2,y.top+y.height-Ur/2),this.topLeftBorderBox=0<E||0<R?Fi(y.left,y.top,E,R,Hn.TOP_LEFT):new lr(y.left,y.top),this.topRightBorderBox=0<X||0<et?Fi(y.left+fe,y.top,X,et,Hn.TOP_RIGHT):new lr(y.left+y.width,y.top),this.bottomRightBorderBox=0<St||0<vt?Fi(y.left+Ee,y.top+pe,St,vt,Hn.BOTTOM_RIGHT):new lr(y.left+y.width,y.top+y.height),this.bottomLeftBorderBox=0<$t||0<Zt?Fi(y.left,y.top+gr,$t,Zt,Hn.BOTTOM_LEFT):new lr(y.left,y.top+y.height),this.topLeftPaddingBox=0<E||0<R?Fi(y.left+br,y.top+Ye,Math.max(0,E-br),Math.max(0,R-Ye),Hn.TOP_LEFT):new lr(y.left+br,y.top+Ye),this.topRightPaddingBox=0<X||0<et?Fi(y.left+Math.min(fe,y.width-_e),y.top+Ye,fe>y.width+_e?0:Math.max(0,X-_e),Math.max(0,et-Ye),Hn.TOP_RIGHT):new lr(y.left+y.width-_e,y.top+Ye),this.bottomRightPaddingBox=0<St||0<vt?Fi(y.left+Math.min(Ee,y.width-br),y.top+Math.min(pe,y.height-Ur),Math.max(0,St-_e),Math.max(0,vt-Ur),Hn.BOTTOM_RIGHT):new lr(y.left+y.width-_e,y.top+y.height-Ur),this.bottomLeftPaddingBox=0<$t||0<Zt?Fi(y.left+br,y.top+Math.min(gr,y.height-Ur),Math.max(0,$t-br),Math.max(0,Zt-Ur),Hn.BOTTOM_LEFT):new lr(y.left+br,y.top+y.height-Ur),this.topLeftContentBox=0<E||0<R?Fi(y.left+br+Sn,y.top+Ye+Er,Math.max(0,E-(br+Sn)),Math.max(0,R-(Ye+Er)),Hn.TOP_LEFT):new lr(y.left+br+Sn,y.top+Ye+Er),this.topRightContentBox=0<X||0<et?Fi(y.left+Math.min(fe,y.width+br+Sn),y.top+Ye+Er,fe>y.width+br+Sn?0:X-br+Sn,et-(Ye+Er),Hn.TOP_RIGHT):new lr(y.left+y.width-(_e+Qn),y.top+Ye+Er),this.bottomRightContentBox=0<St||0<vt?Fi(y.left+Math.min(Ee,y.width-(br+Sn)),y.top+Math.min(pe,y.height+Ye+Er),Math.max(0,St-(_e+Qn)),vt-(Ur+wr),Hn.BOTTOM_RIGHT):new lr(y.left+y.width-(_e+Qn),y.top+y.height-(Ur+wr)),this.bottomLeftContentBox=0<$t||0<Zt?Fi(y.left+br+Sn,y.top+gr,Math.max(0,$t-(br+Sn)),Zt-(Ur+wr),Hn.BOTTOM_LEFT):new lr(y.left+br+Sn,y.top+y.height-(Ur+wr))};function Gs(u){return[u.topLeftBorderBox,u.topRightBorderBox,u.bottomRightBorderBox,u.bottomLeftBorderBox]}function Ua(u){return[u.topLeftPaddingBox,u.topRightPaddingBox,u.bottomRightPaddingBox,u.bottomLeftPaddingBox]}function to(u){return 1===u.type}function eo(u,d){return u.length===d.length&&u.some(function(y,E){return y===d[E]})}(Tr=Hn=Hn||{})[Tr.TOP_LEFT=0]="TOP_LEFT",Tr[Tr.TOP_RIGHT=1]="TOP_RIGHT",Tr[Tr.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",Tr[Tr.BOTTOM_LEFT=3]="BOTTOM_LEFT";var Fi=function(u,d,y,E,R){var X=(Math.sqrt(2)-1)/3*4,et=y*X,St=E*X,vt=u+y,$t=d+E;switch(R){case Hn.TOP_LEFT:return new Ia(new lr(u,$t),new lr(u,$t-St),new lr(vt-et,d),new lr(vt,d));case Hn.TOP_RIGHT:return new Ia(new lr(u,d),new lr(u+et,d),new lr(vt,$t-St),new lr(vt,$t));case Hn.BOTTOM_RIGHT:return new Ia(new lr(vt,d),new lr(vt,d+St),new lr(u+et,$t),new lr(u,$t));default:return new Ia(new lr(vt,$t),new lr(vt-et,$t),new lr(u,d+St),new lr(u,d))}},tl=function(u,d,y){this.offsetX=u,this.offsetY=d,this.matrix=y,this.type=0,this.target=6},xa=function(u,d){this.path=u,this.target=d,this.type=1},_a=function(u){this.opacity=u,this.type=2,this.target=6},fa=function(u){this.element=u,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},ro=(xo.prototype.getEffects=function(u){for(var d=-1===[2,3].indexOf(this.container.styles.position),y=this.parent,E=this.effects.slice(0);y;){var X,et=y.effects.filter(function(St){return!to(St)});d||0!==y.container.styles.position||!y.parent?(E.unshift.apply(E,et),d=-1===[2,3].indexOf(y.container.styles.position),0!==y.container.styles.overflowX&&(eo(Gs(y.curves),X=Ua(y.curves))||E.unshift(new xa(X,6)))):E.unshift.apply(E,et),y=y.parent}return E.filter(function(St){return ie(St.target,u)})},xo);function xo(u,d){var y,E;this.container=u,this.parent=d,this.effects=[],this.curves=new $a(this.container),this.container.styles.opacity<1&&this.effects.push(new _a(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new tl(d=this.container.bounds.left+this.container.styles.transformOrigin[0].number,y=this.container.bounds.top+this.container.styles.transformOrigin[1].number,E=this.container.styles.transform)),0!==this.container.styles.overflowX&&(eo(y=Gs(this.curves),E=Ua(this.curves))?this.effects.push(new xa(y,6)):(this.effects.push(new xa(y,2)),this.effects.push(new xa(E,4))))}function _o(u,d){switch(d){case 0:return ls(u.topLeftBorderBox,u.topLeftPaddingBox,u.topRightBorderBox,u.topRightPaddingBox);case 1:return ls(u.topRightBorderBox,u.topRightPaddingBox,u.bottomRightBorderBox,u.bottomRightPaddingBox);case 2:return ls(u.bottomRightBorderBox,u.bottomRightPaddingBox,u.bottomLeftBorderBox,u.bottomLeftPaddingBox);default:return ls(u.bottomLeftBorderBox,u.bottomLeftPaddingBox,u.topLeftBorderBox,u.topLeftPaddingBox)}}function ko(y){return y.bounds.add((y=y.styles).borderLeftWidth,y.borderTopWidth,-(y.borderRightWidth+y.borderLeftWidth),-(y.borderTopWidth+y.borderBottomWidth))}function ka(et){var d=et.styles,y=et.bounds,E=V(d.paddingLeft,y.width),R=V(d.paddingRight,y.width),X=V(d.paddingTop,y.width);return et=V(d.paddingBottom,y.width),y.add(E+d.borderLeftWidth,X+d.borderTopWidth,-(d.borderRightWidth+d.borderLeftWidth+E+R),-(d.borderTopWidth+d.borderBottomWidth+X+et))}function Da(u,d,vt){var E=(X=u,0===(R=js(u.styles.backgroundOrigin,d))?X.bounds:(2===R?ka:ko)(X)),R=(St=u,0===(et=js(u.styles.backgroundClip,d))?St.bounds:(2===et?ka:ko)(St)),X=el(js(u.styles.backgroundSize,d),vt,E),et=X[0],St=X[1];return vt=ht(js(u.styles.backgroundPosition,d),E.width-et,E.height-St),[Do(js(u.styles.backgroundRepeat,d),vt,X,E,R),Math.round(E.left+vt[0]),Math.round(E.top+vt[1]),et,St]}function ra(u){return ft(u)&&u.value===Ar.AUTO}function Qa(u){return"number"==typeof u}var no=function(u,d,y,E){u.container.elements.forEach(function(R){var X=ie(R.flags,4),et=ie(R.flags,2),St=new ro(R,u);ie(R.styles.display,2048)&&E.push(St);var vt,$t,Zt,fe,pe=ie(R.flags,8)?[]:E;X||et?(vt=X||R.styles.isPositioned()?y:d,et=new fa(St),R.styles.isPositioned()||R.styles.opacity<1||R.styles.isTransformed()?($t=R.styles.zIndex.order)<0?(Zt=0,vt.negativeZIndex.some(function(Ee,gr){return $t>Ee.element.container.styles.zIndex.order?(Zt=gr,!1):0<Zt}),vt.negativeZIndex.splice(Zt,0,et)):0<$t?(fe=0,vt.positiveZIndex.some(function(Ee,gr){return $t>=Ee.element.container.styles.zIndex.order?(fe=gr+1,!1):0<fe}),vt.positiveZIndex.splice(fe,0,et)):vt.zeroOrAutoZIndexOrTransformedOrOpacity.push(et):(R.styles.isFloating()?vt.nonPositionedFloats:vt.nonPositionedInlineLevel).push(et),no(St,et,X?et:y,pe)):((R.styles.isInlineLevel()?d.inlineLevel:d.nonInlineLevel).push(St),no(St,d,y,pe)),ie(R.flags,8)&&io(R,pe)})},io=function(u,d){for(var y=u instanceof ya?u.start:1,E=u instanceof ya&&u.reversed,R=0;R<d.length;R++){var X=d[R];X.container instanceof ho&&"number"==typeof X.container.value&&0!==X.container.value&&(y=X.container.value),X.listValue=da(y,X.container.styles.listStyleType,!0),y+=E?-1:1}},Ra=function(u,d){var y=[];return rs(u)?y.push(u.subdivide(.5,!1)):y.push(u),rs(d)?y.push(d.subdivide(.5,!0)):y.push(d),y},ls=function(u,d,y,E){var R=[];return rs(u)?R.push(u.subdivide(.5,!1)):R.push(u),rs(y)?R.push(y.subdivide(.5,!0)):R.push(y),rs(E)?R.push(E.subdivide(.5,!0).reverse()):R.push(E),rs(d)?R.push(d.subdivide(.5,!1).reverse()):R.push(d),R},el=function(fe,Zt,y){var E=Zt[0],R=Zt[1],X=Zt[2],et=fe[0],St=fe[1];if(!et)return[0,0];if(J(et)&&St&&J(St))return[V(et,y.width),V(St,y.height)];var vt=Qa(X);if(ft(et)&&(et.value===Ar.CONTAIN||et.value===Ar.COVER))return Qa(X)?y.width/y.height<X!=(et.value===Ar.COVER)?[y.width,y.width/X]:[y.height*X,y.height]:[y.width,y.height];var $t=Qa(E);if(Zt=Qa(R),fe=$t||Zt,ra(et)&&(!St||ra(St)))return $t&&Zt?[E,R]:vt||fe?fe&&vt?[$t?E:R*X,Zt?R:E/X]:[$t?E:y.width,Zt?R:y.height]:[y.width,y.height];if(vt){var pe=0,Ee=0;return J(et)?pe=V(et,y.width):J(St)&&(Ee=V(St,y.height)),ra(et)?pe=Ee*X:St&&!ra(St)||(Ee=pe/X),[pe,Ee]}if(pe=null,Ee=null,J(et)?pe=V(et,y.width):St&&J(St)&&(Ee=V(St,y.height)),null!==(pe=null!==(Ee=null===pe||St&&!ra(St)?Ee:$t&&Zt?pe/E*R:y.height)&&ra(et)?$t&&Zt?Ee/R*E:y.width:pe)&&null!==Ee)return[pe,Ee];throw new Error("Unable to calculate background-size for element")},js=function(u,d){return void 0===(d=u[d])?u[0]:d},Do=function(u,d,y,E,R){var X=d[0],et=d[1],St=y[0],vt=y[1];switch(u){case 2:return[new lr(Math.round(E.left),Math.round(E.top+et)),new lr(Math.round(E.left+E.width),Math.round(E.top+et)),new lr(Math.round(E.left+E.width),Math.round(vt+E.top+et)),new lr(Math.round(E.left),Math.round(vt+E.top+et))];case 3:return[new lr(Math.round(E.left+X),Math.round(E.top)),new lr(Math.round(E.left+X+St),Math.round(E.top)),new lr(Math.round(E.left+X+St),Math.round(E.height+E.top)),new lr(Math.round(E.left+X),Math.round(E.height+E.top))];case 1:return[new lr(Math.round(E.left+X),Math.round(E.top+et)),new lr(Math.round(E.left+X+St),Math.round(E.top+et)),new lr(Math.round(E.left+X+St),Math.round(E.top+et+vt)),new lr(Math.round(E.left+X),Math.round(E.top+et+vt))];default:return[new lr(Math.round(R.left),Math.round(R.top)),new lr(Math.round(R.left+R.width),Math.round(R.top)),new lr(Math.round(R.left+R.width),Math.round(R.height+R.top)),new lr(Math.round(R.left),Math.round(R.height+R.top))]}},zA="Hidden Text",us=(Pa.prototype.parseMetrics=function(u,d){var y=this._document.createElement("div"),E=this._document.createElement("img"),R=this._document.createElement("span"),X=this._document.body;return y.style.visibility="hidden",y.style.fontFamily=u,y.style.fontSize=d,y.style.margin="0",y.style.padding="0",y.style.whiteSpace="nowrap",X.appendChild(y),E.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",E.width=1,E.height=1,E.style.margin="0",E.style.padding="0",E.style.verticalAlign="baseline",R.style.fontFamily=u,R.style.fontSize=d,R.style.margin="0",R.style.padding="0",R.appendChild(this._document.createTextNode(zA)),y.appendChild(R),y.appendChild(E),d=E.offsetTop-R.offsetTop+2,y.removeChild(R),y.appendChild(this._document.createTextNode(zA)),y.style.lineHeight="normal",E.style.verticalAlign="super",E=E.offsetTop-y.offsetTop+2,X.removeChild(y),{baseline:d,middle:E}},Pa.prototype.getMetrics=function(u,d){var y=u+" "+d;return void 0===this._data[y]&&(this._data[y]=this.parseMetrics(u,d)),this._data[y]},Pa);function Pa(u){this._data={},this._document=u}var ns,Tr,ga=(Hr(ri,ns=Tr=function(u,d){this.context=u,this.options=d}),ri.prototype.applyEffects=function(u){for(var d=this;this._activeEffects.length;)this.popEffect();u.forEach(function(y){return d.applyEffect(y)})},ri.prototype.applyEffect=function(u){this.ctx.save(),2===u.type&&(this.ctx.globalAlpha=u.opacity),0===u.type&&(this.ctx.translate(u.offsetX,u.offsetY),this.ctx.transform(u.matrix[0],u.matrix[1],u.matrix[2],u.matrix[3],u.matrix[4],u.matrix[5]),this.ctx.translate(-u.offsetX,-u.offsetY)),to(u)&&(this.path(u.path),this.ctx.clip()),this._activeEffects.push(u)},ri.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},ri.prototype.renderStack=function(u){return Zr(this,void 0,void 0,function(){return jr(this,function(d){switch(d.label){case 0:return u.element.container.styles.isVisible()?[4,this.renderStackContent(u)]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},ri.prototype.renderNode=function(u){return Zr(this,void 0,void 0,function(){return jr(this,function(d){switch(d.label){case 0:return ie(u.container.flags,16),u.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(u)]:[3,3];case 1:return d.sent(),[4,this.renderNodeContent(u)];case 2:d.sent(),d.label=3;case 3:return[2]}})})},ri.prototype.renderTextWithLetterSpacing=function(u,d,y){var E=this;0===d?this.ctx.fillText(u.text,u.bounds.left,u.bounds.top+y):UA(u.text).reduce(function(R,X){return E.ctx.fillText(X,R,u.bounds.top+y),R+E.ctx.measureText(X).width},u.bounds.left)},ri.prototype.createFontStyle=function(u){var d=u.fontVariant.filter(function(R){return"normal"===R||"small-caps"===R}).join(""),y=so(u.fontFamily).join(", "),E=Z(u.fontSize)?""+u.fontSize.number+u.fontSize.unit:u.fontSize.number+"px";return[[u.fontStyle,d,u.fontWeight,E,y].join(" "),y,E]},ri.prototype.renderTextNode=function(u,d){return Zr(this,void 0,void 0,function(){var y,E,R,X,et,St,vt=this;return jr(this,function($t){return R=this.createFontStyle(d),y=R[0],E=R[1],R=R[2],this.ctx.font=y,this.ctx.direction=1===d.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",R=this.fontMetrics.getMetrics(E,R),X=R.baseline,et=R.middle,St=d.paintOrder,u.textBounds.forEach(function(Zt){St.forEach(function(fe){switch(fe){case 0:vt.ctx.fillStyle=mt(d.color),vt.renderTextWithLetterSpacing(Zt,d.letterSpacing,X);var pe=d.textShadow;pe.length&&Zt.text.trim().length&&(pe.slice(0).reverse().forEach(function(Ee){vt.ctx.shadowColor=mt(Ee.color),vt.ctx.shadowOffsetX=Ee.offsetX.number*vt.options.scale,vt.ctx.shadowOffsetY=Ee.offsetY.number*vt.options.scale,vt.ctx.shadowBlur=Ee.blur.number,vt.renderTextWithLetterSpacing(Zt,d.letterSpacing,X)}),vt.ctx.shadowColor="",vt.ctx.shadowOffsetX=0,vt.ctx.shadowOffsetY=0,vt.ctx.shadowBlur=0),d.textDecorationLine.length&&(vt.ctx.fillStyle=mt(d.textDecorationColor||d.color),d.textDecorationLine.forEach(function(Ee){switch(Ee){case 1:vt.ctx.fillRect(Zt.bounds.left,Math.round(Zt.bounds.top+X),Zt.bounds.width,1);break;case 2:vt.ctx.fillRect(Zt.bounds.left,Math.round(Zt.bounds.top),Zt.bounds.width,1);break;case 3:vt.ctx.fillRect(Zt.bounds.left,Math.ceil(Zt.bounds.top+et),Zt.bounds.width,1)}}));break;case 1:d.webkitTextStrokeWidth&&Zt.text.trim().length&&(vt.ctx.strokeStyle=mt(d.webkitTextStrokeColor),vt.ctx.lineWidth=d.webkitTextStrokeWidth,vt.ctx.lineJoin=window.chrome?"miter":"round",vt.ctx.strokeText(Zt.text,Zt.bounds.left,Zt.bounds.top+X)),vt.ctx.strokeStyle="",vt.ctx.lineWidth=0,vt.ctx.lineJoin="miter"}})}),[2]})})},ri.prototype.renderReplacedElement=function(u,d,y){var E;y&&0<u.intrinsicWidth&&0<u.intrinsicHeight&&(E=ka(u),d=Ua(d),this.path(d),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(y,0,0,u.intrinsicWidth,u.intrinsicHeight,E.left,E.top,E.width,E.height),this.ctx.restore())},ri.prototype.renderNodeContent=function(u){return Zr(this,void 0,void 0,function(){var d,y,E,R,X,et,St,vt,$t,Zt,fe,pe;return jr(this,function(Ee){switch(Ee.label){case 0:this.applyEffects(u.getEffects(4)),y=u.curves,E=(d=u.container).styles,R=0,X=d.textNodes,Ee.label=1;case 1:return R<X.length?[4,this.renderTextNode(et=X[R],E)]:[3,4];case 2:Ee.sent(),Ee.label=3;case 3:return R++,[3,1];case 4:if(!(d instanceof Fs))return[3,8];Ee.label=5;case 5:return Ee.trys.push([5,7,,8]),[4,this.context.cache.match(d.src)];case 6:return $t=Ee.sent(),this.renderReplacedElement(d,y,$t),[3,8];case 7:return Ee.sent(),this.context.logger.error("Error loading image "+d.src),[3,8];case 8:if(d instanceof va&&this.renderReplacedElement(d,y,d.canvas),!(d instanceof Ha))return[3,12];Ee.label=9;case 9:return Ee.trys.push([9,11,,12]),[4,this.context.cache.match(d.svg)];case 10:return $t=Ee.sent(),this.renderReplacedElement(d,y,$t),[3,12];case 11:return Ee.sent(),this.context.logger.error("Error loading svg "+d.svg.substring(0,255)),[3,12];case 12:return d instanceof Os&&d.tree?[4,new ri(this.context,{scale:this.options.scale,backgroundColor:d.backgroundColor,x:0,y:0,width:d.width,height:d.height}).render(d.tree)]:[3,14];case 13:et=Ee.sent(),d.width&&d.height&&this.ctx.drawImage(et,0,0,d.width,d.height,d.bounds.left,d.bounds.top,d.bounds.width,d.bounds.height),Ee.label=14;case 14:if(d instanceof sa&&(vt=Math.min(d.bounds.width,d.bounds.height),d.type===wa?d.checked&&(this.ctx.save(),this.path([new lr(d.bounds.left+.39363*vt,d.bounds.top+.79*vt),new lr(d.bounds.left+.16*vt,d.bounds.top+.5549*vt),new lr(d.bounds.left+.27347*vt,d.bounds.top+.44071*vt),new lr(d.bounds.left+.39694*vt,d.bounds.top+.5649*vt),new lr(d.bounds.left+.72983*vt,d.bounds.top+.23*vt),new lr(d.bounds.left+.84*vt,d.bounds.top+.34085*vt),new lr(d.bounds.left+.39363*vt,d.bounds.top+.79*vt)]),this.ctx.fillStyle=mt(po),this.ctx.fill(),this.ctx.restore()):d.type===zs&&d.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(d.bounds.left+vt/2,d.bounds.top+vt/2,vt/4,0,2*Math.PI,!0),this.ctx.fillStyle=mt(po),this.ctx.fill(),this.ctx.restore())),rl(d)&&d.value.length){switch(Zt=this.createFontStyle(E),Zt=this.fontMetrics.getMetrics(fe=Zt[0],vt=Zt[1]).baseline,this.ctx.font=fe,this.ctx.fillStyle=mt(E.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Ao(d.styles.textAlign),pe=ka(d),St=0,d.styles.textAlign){case 1:St+=pe.width/2;break;case 2:St+=pe.width}vt=pe.add(St,0,0,-pe.height/2+1),this.ctx.save(),this.path([new lr(pe.left,pe.top),new lr(pe.left+pe.width,pe.top),new lr(pe.left+pe.width,pe.top+pe.height),new lr(pe.left,pe.top+pe.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new nr(d.value,vt),E.letterSpacing,Zt),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ie(d.styles.display,2048))return[3,20];if(null===d.styles.listStyleImage)return[3,19];if(0!==(Zt=d.styles.listStyleImage).type)return[3,18];$t=void 0,Zt=Zt.url,Ee.label=15;case 15:return Ee.trys.push([15,17,,18]),[4,this.context.cache.match(Zt)];case 16:return $t=Ee.sent(),this.ctx.drawImage($t,d.bounds.left-($t.width+10),d.bounds.top),[3,18];case 17:return Ee.sent(),this.context.logger.error("Error loading list-style-image "+Zt),[3,18];case 18:return[3,20];case 19:u.listValue&&-1!==d.styles.listStyleType&&(fe=this.createFontStyle(E)[0],this.ctx.font=fe,this.ctx.fillStyle=mt(E.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",pe=new Ai(d.bounds.left,d.bounds.top+V(d.styles.paddingTop,d.bounds.width),d.bounds.width,yr(E.lineHeight,E.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new nr(u.listValue,pe),E.letterSpacing,yr(E.lineHeight,E.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Ee.label=20;case 20:return[2]}})})},ri.prototype.renderStackContent=function(u){return Zr(this,void 0,void 0,function(){var d,y,E,R,X,et,St,vt,$t,Zt,fe,pe,Ee,gr;return jr(this,function(_e){switch(_e.label){case 0:return ie(u.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(u.element)];case 1:_e.sent(),d=0,y=u.negativeZIndex,_e.label=2;case 2:return d<y.length?[4,this.renderStack(y[d])]:[3,5];case 3:_e.sent(),_e.label=4;case 4:return d++,[3,2];case 5:return[4,this.renderNodeContent(u.element)];case 6:_e.sent(),E=0,R=u.nonInlineLevel,_e.label=7;case 7:return E<R.length?[4,this.renderNode(R[E])]:[3,10];case 8:_e.sent(),_e.label=9;case 9:return E++,[3,7];case 10:X=0,et=u.nonPositionedFloats,_e.label=11;case 11:return X<et.length?[4,this.renderStack(et[X])]:[3,14];case 12:_e.sent(),_e.label=13;case 13:return X++,[3,11];case 14:St=0,vt=u.nonPositionedInlineLevel,_e.label=15;case 15:return St<vt.length?[4,this.renderStack(vt[St])]:[3,18];case 16:_e.sent(),_e.label=17;case 17:return St++,[3,15];case 18:$t=0,Zt=u.inlineLevel,_e.label=19;case 19:return $t<Zt.length?[4,this.renderNode(Zt[$t])]:[3,22];case 20:_e.sent(),_e.label=21;case 21:return $t++,[3,19];case 22:fe=0,pe=u.zeroOrAutoZIndexOrTransformedOrOpacity,_e.label=23;case 23:return fe<pe.length?[4,this.renderStack(pe[fe])]:[3,26];case 24:_e.sent(),_e.label=25;case 25:return fe++,[3,23];case 26:Ee=0,gr=u.positiveZIndex,_e.label=27;case 27:return Ee<gr.length?[4,this.renderStack(gr[Ee])]:[3,30];case 28:_e.sent(),_e.label=29;case 29:return Ee++,[3,27];case 30:return[2]}})})},ri.prototype.mask=function(u){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(u.slice(0).reverse()),this.ctx.closePath()},ri.prototype.path=function(u){this.ctx.beginPath(),this.formatPath(u),this.ctx.closePath()},ri.prototype.formatPath=function(u){var d=this;u.forEach(function(y,E){var R=rs(y)?y.start:y;0===E?d.ctx.moveTo(R.x,R.y):d.ctx.lineTo(R.x,R.y),rs(y)&&d.ctx.bezierCurveTo(y.startControl.x,y.startControl.y,y.endControl.x,y.endControl.y,y.end.x,y.end.y)})},ri.prototype.renderRepeat=function(u,d,y,E){this.path(u),this.ctx.fillStyle=d,this.ctx.translate(y,E),this.ctx.fill(),this.ctx.translate(-y,-E)},ri.prototype.resizeImage=function(u,d,y){if(u.width===d&&u.height===y)return u;var E=(null!==(E=this.canvas.ownerDocument)&&void 0!==E?E:document).createElement("canvas");return E.width=Math.max(1,d),E.height=Math.max(1,y),E.getContext("2d").drawImage(u,0,0,u.width,u.height,0,0,d,y),E},ri.prototype.renderBackgroundImage=function(u){return Zr(this,void 0,void 0,function(){var d,y,E,R,X;return jr(this,function(St){switch(St.label){case 0:d=u.styles.backgroundImage.length-1,y=function(vt){var $t,Zt,fe,pe,Ee,gr,Ye,_e,Ur,br,Er,Qn,wr,Sn,Ti,EA,iA;return jr(this,function(qs){switch(qs.label){case 0:if(0!==vt.type)return[3,5];$t=void 0,Zt=vt.url,qs.label=1;case 1:return qs.trys.push([1,3,,4]),[4,E.context.cache.match(Zt)];case 2:return $t=qs.sent(),[3,4];case 3:return qs.sent(),E.context.logger.error("Error loading background-image "+Zt),[3,4];case 4:return $t&&(fe=Da(u,d,[$t.width,$t.height,$t.width/$t.height]),gr=fe[0],Er=fe[1],Qn=fe[2],Ee=E.ctx.createPattern(E.resizeImage($t,Ur=fe[3],br=fe[4]),"repeat"),E.renderRepeat(gr,Ee,Er,Qn)),[3,6];case 5:1===vt.type?(iA=Da(u,d,[null,null,null]),gr=iA[0],Er=iA[1],Qn=iA[2],Ti=function Jt(u,vt,St){var E="number"==typeof u?u:(et=vt/2,E=(X=St)/2,et=V((R=u)[0],vt)-et,X=E-V(R[1],X),(Math.atan2(X,et)+2*Math.PI)%(2*Math.PI)),R=Math.abs(vt*Math.sin(E))+Math.abs(St*Math.cos(E)),X=vt/2,et=St/2;return vt=R/2,St=Math.sin(E-Math.PI/2)*vt,[R,X-(vt=Math.cos(E-Math.PI/2)*vt),X+vt,et-St,et+St]}(vt.angle,Ur=iA[3],br=iA[4]),Sn=Ti[0],fe=Ti[1],Ye=Ti[2],EA=Ti[3],_e=Ti[4],(iA=document.createElement("canvas")).width=Ur,iA.height=br,Ti=iA.getContext("2d"),pe=Ti.createLinearGradient(fe,EA,Ye,_e),we(vt.stops,Sn).forEach(function(CA){return pe.addColorStop(CA.stop,mt(CA.color))}),Ti.fillStyle=pe,Ti.fillRect(0,0,Ur,br),0<Ur&&0<br&&(Ee=E.ctx.createPattern(iA,"repeat"),E.renderRepeat(gr,Ee,Er,Qn))):2===vt.type&&(EA=Da(u,d,[null,null,null]),gr=EA[0],Ye=EA[1],_e=EA[2],br=EA[4],Er=V((Sn=0===vt.position.length?[ot]:vt.position)[0],Ur=EA[3]),Qn=V(Sn[Sn.length-1],br),Ti=function(CA,Qi,Ii,VA,is){var Ws,Na,As=0,Ls=0;switch(CA.size){case 0:0===CA.shape?As=Ls=Math.min(Math.abs(Qi),Math.abs(Qi-VA),Math.abs(Ii),Math.abs(Ii-is)):1===CA.shape&&(As=Math.min(Math.abs(Qi),Math.abs(Qi-VA)),Ls=Math.min(Math.abs(Ii),Math.abs(Ii-is)));break;case 2:0===CA.shape?As=Ls=Math.min(de(Qi,Ii),de(Qi,Ii-is),de(Qi-VA,Ii),de(Qi-VA,Ii-is)):1===CA.shape&&(Ls=(Ws=Math.min(Math.abs(Ii),Math.abs(Ii-is))/Math.min(Math.abs(Qi),Math.abs(Qi-VA)))*(As=de((Na=Ae(VA,is,Qi,Ii,!0))[0]-Qi,(Na[1]-Ii)/Ws)));break;case 1:0===CA.shape?As=Ls=Math.max(Math.abs(Qi),Math.abs(Qi-VA),Math.abs(Ii),Math.abs(Ii-is)):1===CA.shape&&(As=Math.max(Math.abs(Qi),Math.abs(Qi-VA)),Ls=Math.max(Math.abs(Ii),Math.abs(Ii-is)));break;case 3:0===CA.shape?As=Ls=Math.max(de(Qi,Ii),de(Qi,Ii-is),de(Qi-VA,Ii),de(Qi-VA,Ii-is)):1===CA.shape&&(Ls=(Ws=Math.max(Math.abs(Ii),Math.abs(Ii-is))/Math.max(Math.abs(Qi),Math.abs(Qi-VA)))*(As=de((Na=Ae(VA,is,Qi,Ii,!1))[0]-Qi,(Na[1]-Ii)/Ws)))}return Array.isArray(CA.size)&&(As=V(CA.size[0],VA),Ls=2===CA.size.length?V(CA.size[1],is):As),[As,Ls]}(vt,Er,Qn,Ur,br),EA=Ti[1],0<(iA=Ti[0])&&0<EA&&(wr=E.ctx.createRadialGradient(Ye+Er,_e+Qn,0,Ye+Er,_e+Qn,iA),we(vt.stops,2*iA).forEach(function(CA){return wr.addColorStop(CA.stop,mt(CA.color))}),E.path(gr),E.ctx.fillStyle=wr,iA!==EA?(Sn=u.bounds.left+.5*u.bounds.width,Ti=u.bounds.top+.5*u.bounds.height,iA=1/(EA/=iA),E.ctx.save(),E.ctx.translate(Sn,Ti),E.ctx.transform(1,0,0,EA,0,0),E.ctx.translate(-Sn,-Ti),E.ctx.fillRect(Ye,iA*(_e-Ti)+Ti,Ur,br*iA),E.ctx.restore()):E.ctx.fill())),qs.label=6;case 6:return d--,[2]}})},E=this,R=0,X=u.styles.backgroundImage.slice(0).reverse(),St.label=1;case 1:return R<X.length?[5,y(X[R])]:[3,4];case 2:St.sent(),St.label=3;case 3:return R++,[3,1];case 4:return[2]}})})},ri.prototype.renderSolidBorder=function(u,d,y){return Zr(this,void 0,void 0,function(){return jr(this,function(E){return this.path(_o(y,d)),this.ctx.fillStyle=mt(u),this.ctx.fill(),[2]})})},ri.prototype.renderDoubleBorder=function(u,d,y,E){return Zr(this,void 0,void 0,function(){var R;return jr(this,function(X){switch(X.label){case 0:return d<3?[4,this.renderSolidBorder(u,y,E)]:[3,2];case 1:return X.sent(),[2];case 2:return R=function(et,St){switch(St){case 0:return ls(et.topLeftBorderBox,et.topLeftBorderDoubleOuterBox,et.topRightBorderBox,et.topRightBorderDoubleOuterBox);case 1:return ls(et.topRightBorderBox,et.topRightBorderDoubleOuterBox,et.bottomRightBorderBox,et.bottomRightBorderDoubleOuterBox);case 2:return ls(et.bottomRightBorderBox,et.bottomRightBorderDoubleOuterBox,et.bottomLeftBorderBox,et.bottomLeftBorderDoubleOuterBox);default:return ls(et.bottomLeftBorderBox,et.bottomLeftBorderDoubleOuterBox,et.topLeftBorderBox,et.topLeftBorderDoubleOuterBox)}}(E,y),this.path(R),this.ctx.fillStyle=mt(u),this.ctx.fill(),R=function(et,St){switch(St){case 0:return ls(et.topLeftBorderDoubleInnerBox,et.topLeftPaddingBox,et.topRightBorderDoubleInnerBox,et.topRightPaddingBox);case 1:return ls(et.topRightBorderDoubleInnerBox,et.topRightPaddingBox,et.bottomRightBorderDoubleInnerBox,et.bottomRightPaddingBox);case 2:return ls(et.bottomRightBorderDoubleInnerBox,et.bottomRightPaddingBox,et.bottomLeftBorderDoubleInnerBox,et.bottomLeftPaddingBox);default:return ls(et.bottomLeftBorderDoubleInnerBox,et.bottomLeftPaddingBox,et.topLeftBorderDoubleInnerBox,et.topLeftPaddingBox)}}(E,y),this.path(R),this.ctx.fill(),[2]}})})},ri.prototype.renderNodeBackgroundAndBorders=function(u){return Zr(this,void 0,void 0,function(){var d,y,E,R,X,et,St,vt,$t=this;return jr(this,function(Zt){switch(Zt.label){case 0:return this.applyEffects(u.getEffects(2)),y=!Ut((d=u.container.styles).backgroundColor)||d.backgroundImage.length,E=[{style:d.borderTopStyle,color:d.borderTopColor,width:d.borderTopWidth},{style:d.borderRightStyle,color:d.borderRightColor,width:d.borderRightWidth},{style:d.borderBottomStyle,color:d.borderBottomColor,width:d.borderBottomWidth},{style:d.borderLeftStyle,color:d.borderLeftColor,width:d.borderLeftWidth}],R=nl(js(d.backgroundClip,0),u.curves),y||d.boxShadow.length?(this.ctx.save(),this.path(R),this.ctx.clip(),Ut(d.backgroundColor)||(this.ctx.fillStyle=mt(d.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(u.container)]):[3,2];case 1:Zt.sent(),this.ctx.restore(),d.boxShadow.slice(0).reverse().forEach(function(fe){$t.ctx.save();var pe,Ee,gr,Ye,_e=Gs(u.curves),Ur=fe.inset?0:1e4,br=(pe=(fe.inset?1:-1)*fe.spread.number-Ur,Ee=(fe.inset?1:-1)*fe.spread.number,gr=fe.spread.number*(fe.inset?-2:2),Ye=fe.spread.number*(fe.inset?-2:2),_e.map(function(Er,Qn){switch(Qn){case 0:return Er.add(pe,Ee);case 1:return Er.add(pe+gr,Ee);case 2:return Er.add(pe+gr,Ee+Ye);case 3:return Er.add(pe,Ee+Ye)}return Er}));fe.inset?($t.path(_e),$t.ctx.clip(),$t.mask(br)):($t.mask(_e),$t.ctx.clip(),$t.path(br)),$t.ctx.shadowOffsetX=fe.offsetX.number+Ur,$t.ctx.shadowOffsetY=fe.offsetY.number,$t.ctx.shadowColor=mt(fe.color),$t.ctx.shadowBlur=fe.blur.number,$t.ctx.fillStyle=fe.inset?mt(fe.color):"rgba(0,0,0,1)",$t.ctx.fill(),$t.ctx.restore()}),Zt.label=2;case 2:et=X=0,St=E,Zt.label=3;case 3:return et<St.length?0!==(vt=St[et]).style&&!Ut(vt.color)&&0<vt.width?2!==vt.style?[3,5]:[4,this.renderDashedDottedBorder(vt.color,vt.width,X,u.curves,2)]:[3,11]:[3,13];case 4:return Zt.sent(),[3,11];case 5:return 3!==vt.style?[3,7]:[4,this.renderDashedDottedBorder(vt.color,vt.width,X,u.curves,3)];case 6:return Zt.sent(),[3,11];case 7:return 4!==vt.style?[3,9]:[4,this.renderDoubleBorder(vt.color,vt.width,X,u.curves)];case 8:return Zt.sent(),[3,11];case 9:return[4,this.renderSolidBorder(vt.color,X,u.curves)];case 10:Zt.sent(),Zt.label=11;case 11:X++,Zt.label=12;case 12:return et++,[3,3];case 13:return[2]}})})},ri.prototype.renderDashedDottedBorder=function(u,d,y,E,R){return Zr(this,void 0,void 0,function(){var X,et,St,vt,$t,Zt,fe,pe,Ee,gr,Ye;return jr(this,function(_e){return this.ctx.save(),Ee=function(Ur,br){switch(br){case 0:return Ra(Ur.topLeftBorderStroke,Ur.topRightBorderStroke);case 1:return Ra(Ur.topRightBorderStroke,Ur.bottomRightBorderStroke);case 2:return Ra(Ur.bottomRightBorderStroke,Ur.bottomLeftBorderStroke);default:return Ra(Ur.bottomLeftBorderStroke,Ur.topLeftBorderStroke)}}(E,y),X=_o(E,y),2===R&&(this.path(X),this.ctx.clip()),Zt=rs(X[0])?(et=X[0].start.x,X[0].start.y):(et=X[0].x,X[0].y),fe=rs(X[1])?(St=X[1].end.x,X[1].end.y):(St=X[1].x,X[1].y),vt=Math.abs(0===y||2===y?et-St:Zt-fe),this.ctx.beginPath(),this.formatPath(3===R?Ee:X.slice(0,2)),$t=d<3?3*d:2*d,Zt=d<3?2*d:d,3===R&&(Zt=$t=d),fe=!0,vt<=2*$t?fe=!1:vt<=2*$t+Zt?($t*=pe=vt/(2*$t+Zt),Zt*=pe):(Ee=Math.floor((vt+Zt)/($t+Zt)),pe=(vt-Ee*$t)/(Ee-1),Zt=(Ee=(vt-(Ee+1)*$t)/Ee)<=0||Math.abs(Zt-pe)<Math.abs(Zt-Ee)?pe:Ee),fe&&this.ctx.setLineDash(3===R?[0,$t+Zt]:[$t,Zt]),3===R?(this.ctx.lineCap="round",this.ctx.lineWidth=d):this.ctx.lineWidth=2*d+1.1,this.ctx.strokeStyle=mt(u),this.ctx.stroke(),this.ctx.setLineDash([]),2===R&&(rs(X[0])&&(gr=X[3],Ye=X[0],this.ctx.beginPath(),this.formatPath([new lr(gr.end.x,gr.end.y),new lr(Ye.start.x,Ye.start.y)]),this.ctx.stroke()),rs(X[1])&&(gr=X[1],Ye=X[2],this.ctx.beginPath(),this.formatPath([new lr(gr.end.x,gr.end.y),new lr(Ye.start.x,Ye.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},ri.prototype.render=function(u){return Zr(this,void 0,void 0,function(){return jr(this,function(d){switch(d.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=mt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),E=new ro(u,null),R=new fa(E),no(E,R,R,y=[]),io(E.container,y),[4,this.renderStack(R)];case 1:return d.sent(),this.applyEffects([]),[2,this.canvas]}var y,E,R})})},ri);function ri(u,d){return(u=ns.call(this,u,d)||this)._activeEffects=[],u.canvas=d.canvas||document.createElement("canvas"),u.ctx=u.canvas.getContext("2d"),d.canvas||(u.canvas.width=Math.floor(d.width*d.scale),u.canvas.height=Math.floor(d.height*d.scale),u.canvas.style.width=d.width+"px",u.canvas.style.height=d.height+"px"),u.fontMetrics=new us(document),u.ctx.scale(u.options.scale,u.options.scale),u.ctx.translate(-d.x,-d.y),u.ctx.textBaseline="bottom",u._activeEffects=[],u.context.logger.debug("Canvas renderer initialized ("+d.width+"x"+d.height+") with scale "+d.scale),u}var pa,rl=function(u){return u instanceof Ga||u instanceof mo||u instanceof sa&&u.type!==zs&&u.type!==wa},nl=function(u,d){switch(u){case 0:return Gs(d);case 2:return[d.topLeftContentBox,d.topRightContentBox,d.bottomRightContentBox,d.bottomLeftContentBox];default:return Ua(d)}},Ao=function(u){switch(u){case 1:return"center";case 2:return"right";default:return"left"}},Qo=["-apple-system","system-ui"],so=function(u){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?u.filter(function(d){return-1===Qo.indexOf(d)}):u},na=(Hr(ao,pa=Tr),ao.prototype.render=function(u){return Zr(this,void 0,void 0,function(){var d;return jr(this,function(y){switch(y.label){case 0:return d=Kt(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,u),[4,il(d)];case 1:return d=y.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=mt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(d,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},ao);function ao(u,d){return(u=pa.call(this,u,d)||this).canvas=d.canvas||document.createElement("canvas"),u.ctx=u.canvas.getContext("2d"),u.options=d,u.canvas.width=Math.floor(d.width*d.scale),u.canvas.height=Math.floor(d.height*d.scale),u.canvas.style.width=d.width+"px",u.canvas.style.height=d.height+"px",u.ctx.scale(u.options.scale,u.options.scale),u.ctx.translate(-d.x,-d.y),u.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+d.width+"x"+d.height+" at "+d.x+","+d.y+") with scale "+d.scale),u}var il=function(u){return new Promise(function(d,y){var E=new Image;E.onload=function(){d(E)},E.onerror=y,E.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(u))})},_s=(Vs.prototype.debug=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,Xr([this.id,this.getTime()+"ms"],u)):this.info.apply(this,u))},Vs.prototype.getTime=function(){return Date.now()-this.start},Vs.prototype.info=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,Xr([this.id,this.getTime()+"ms"],u))},Vs.prototype.warn=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,Xr([this.id,this.getTime()+"ms"],u)):this.info.apply(this,u))},Vs.prototype.error=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,Xr([this.id,this.getTime()+"ms"],u)):this.info.apply(this,u))},Vs.instances={},Vs);function Vs(y){var d=y.id;y=y.enabled,this.id=d,this.enabled=y,this.start=Date.now()}var Ro=(oo.instanceCount=1,oo);function oo(u,d){this.windowBounds=d,this.instanceName="#"+oo.instanceCount++,this.logger=new _s({id:this.instanceName,enabled:u.logging}),this.cache=null!==(d=u.cache)&&void 0!==d?d:new To(this,u)}typeof window<"u"&&Fo.setContext(window);return function(u,d){return function(u,d){return Zr(void 0,void 0,void 0,function(){var y,E,R,X,et,St,vt,$t,Zt,fe,pe,Ee,gr,Ye,_e,Ur;return jr(this,function(br){switch(br.label){case 0:if(!u||"object"!=typeof u)return[2,Promise.reject("Invalid element provided as first argument")];if(!(y=u.ownerDocument))throw new Error("Element is not attached to a Document");if(!(E=y.defaultView))throw new Error("Document is not attached to a Window");return gr={allowTaint:null!==(Ye=d.allowTaint)&&void 0!==Ye&&Ye,imageTimeout:null!==(fe=d.imageTimeout)&&void 0!==fe?fe:15e3,proxy:d.proxy,useCORS:null!==(pe=d.useCORS)&&void 0!==pe&&pe},Ye=mn({logging:null===(Ee=d.logging)||void 0===Ee||Ee,cache:d.cache},gr),fe={windowWidth:null!==(fe=d.windowWidth)&&void 0!==fe?fe:E.innerWidth,windowHeight:null!==(pe=d.windowHeight)&&void 0!==pe?pe:E.innerHeight,scrollX:null!==(Ee=d.scrollX)&&void 0!==Ee?Ee:E.pageXOffset,scrollY:null!==(gr=d.scrollY)&&void 0!==gr?gr:E.pageYOffset},pe=new Ai(fe.scrollX,fe.scrollY,fe.windowWidth,fe.windowHeight),Ee=new Ro(Ye,pe),fe=null!==(gr=d.foreignObjectRendering)&&void 0!==gr&&gr,gr={allowTaint:null!==(Ye=d.allowTaint)&&void 0!==Ye&&Ye,onclone:d.onclone,ignoreElements:d.ignoreElements,inlineImages:fe,copyStyles:fe},Ee.logger.debug("Starting document clone with size "+pe.width+"x"+pe.height+" scrolled to "+-pe.left+","+-pe.top),Ye=new Eo(Ee,u,gr),(gr=Ye.clonedReferenceElement)?[4,Ye.toIFrame(y,pe)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return R=br.sent(),_e=Sa(gr)||"HTML"===gr.tagName?function(Er){var Qn=Er.body,wr=Er.documentElement;if(!Qn||!wr)throw new Error("Unable to get document size");return Er=Math.max(Math.max(Qn.scrollWidth,wr.scrollWidth),Math.max(Qn.offsetWidth,wr.offsetWidth),Math.max(Qn.clientWidth,wr.clientWidth)),wr=Math.max(Math.max(Qn.scrollHeight,wr.scrollHeight),Math.max(Qn.offsetHeight,wr.offsetHeight),Math.max(Qn.clientHeight,wr.clientHeight)),new Ai(0,0,Er,wr)}(gr.ownerDocument):Zn(Ee,gr),X=_e.width,et=_e.height,St=_e.left,vt=_e.top,$t=function(u,d,et){var E=d.ownerDocument,R=E.documentElement?Yt(u,getComputedStyle(E.documentElement).backgroundColor):nt.TRANSPARENT,X=E.body?Yt(u,getComputedStyle(E.body).backgroundColor):nt.TRANSPARENT;return et="string"==typeof et?Yt(u,et):null===et?nt.TRANSPARENT:4294967295,d===E.documentElement?Ut(R)?Ut(X)?et:X:R:et}(Ee,gr,d.backgroundColor),_e={canvas:d.canvas,backgroundColor:$t,scale:null!==(_e=null!==(_e=d.scale)&&void 0!==_e?_e:E.devicePixelRatio)&&void 0!==_e?_e:1,x:(null!==(_e=d.x)&&void 0!==_e?_e:0)+St,y:(null!==(_e=d.y)&&void 0!==_e?_e:0)+vt,width:null!==(_e=d.width)&&void 0!==_e?_e:Math.ceil(X),height:null!==(_e=d.height)&&void 0!==_e?_e:Math.ceil(et)},fe?(Ee.logger.debug("Document cloned, using foreign object rendering"),[4,new na(Ee,_e).render(gr)]):[3,3];case 2:return Zt=br.sent(),[3,5];case 3:return Ee.logger.debug("Document cloned, element located at "+St+","+vt+" with size "+X+"x"+et+" using computed rendering"),Ee.logger.debug("Starting DOM parsing"),Ur=yo(Ee,gr),$t===Ur.styles.backgroundColor&&(Ur.styles.backgroundColor=nt.TRANSPARENT),Ee.logger.debug("Starting renderer for element at "+_e.x+","+_e.y+" with size "+_e.width+"x"+_e.height),[4,new ga(Ee,_e).render(Ur)];case 4:Zt=br.sent(),br.label=5;case 5:return null!==(Ur=d.removeContainer)&&void 0!==Ur&&!Ur||Eo.destroy(R)||Ee.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore"),Ee.logger.debug("Finished rendering"),[2,Zt]}})})}(u,d=void 0===d?{}:d)}}),function(Me){"function"==typeof define&&define.amd?define(Me):Me()}(function(){"use strict";function Me(p){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(p)}!function(p){if("object"!==Me(p.console)){p.console={};for(var C,k,N=p.console,U=function(){},x=["memory"],M="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");C=x.pop();)N[C]||(N[C]={});for(;k=M.pop();)N[k]||(N[k]=U)}var q,P,dt,pt,Tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===p.btoa&&(p.btoa=function(T){var G,W,Z,at,ft,It=0,Mt=0,Nt="",oe=[];if(!T)return T;for(;G=(ft=T.charCodeAt(It++)<<16|T.charCodeAt(It++)<<8|T.charCodeAt(It++))>>18&63,W=ft>>12&63,Z=ft>>6&63,at=63&ft,oe[Mt++]=Tt.charAt(G)+Tt.charAt(W)+Tt.charAt(Z)+Tt.charAt(at),It<T.length;);Nt=oe.join("");var ne=T.length%3;return(ne?Nt.slice(0,ne-3):Nt)+"===".slice(ne||3)}),void 0===p.atob&&(p.atob=function(T){var G,W,Z,at,ft,It,Mt=0,Nt=0,oe=[];if(!T)return T;for(T+="";G=(It=Tt.indexOf(T.charAt(Mt++))<<18|Tt.indexOf(T.charAt(Mt++))<<12|(at=Tt.indexOf(T.charAt(Mt++)))<<6|(ft=Tt.indexOf(T.charAt(Mt++))))>>16&255,W=It>>8&255,Z=255&It,oe[Nt++]=64==at?String.fromCharCode(G):64==ft?String.fromCharCode(G,W):String.fromCharCode(G,W,Z),Mt<T.length;);return oe.join("")}),Array.prototype.map||(Array.prototype.map=function(T){if(null==this||"function"!=typeof T)throw new TypeError;for(var G=Object(this),W=G.length>>>0,Z=new Array(W),at=1<arguments.length?arguments[1]:void 0,ft=0;ft<W;ft++)ft in G&&(Z[ft]=T.call(at,G[ft],ft,G));return Z}),Array.isArray||(Array.isArray=function(T){return"[object Array]"===Object.prototype.toString.call(T)}),Array.prototype.forEach||(Array.prototype.forEach=function(T,G){if(null==this||"function"!=typeof T)throw new TypeError;for(var W=Object(this),Z=W.length>>>0,at=0;at<Z;at++)at in W&&T.call(G,W[at],at,W)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(T){if(null==this)throw new TypeError('"this" is null or not defined');var G=Object(this),W=G.length>>>0;if("function"!=typeof T)throw new TypeError("predicate must be a function");for(var Z=arguments[1],at=0;at<W;){var ft=G[at];if(T.call(Z,ft,at,G))return ft;at++}},configurable:!0,writable:!0}),Object.keys||(Object.keys=(q=Object.prototype.hasOwnProperty,P=!{toString:null}.propertyIsEnumerable("toString"),pt=(dt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(T){if("object"!==Me(T)&&("function"!=typeof T||null===T))throw new TypeError;var G,W,Z=[];for(G in T)q.call(T,G)&&Z.push(G);if(P)for(W=0;W<pt;W++)q.call(T,dt[W])&&Z.push(dt[W]);return Z})),"function"!=typeof Object.assign&&(Object.assign=function(T){if(null==T)throw new TypeError("Cannot convert undefined or null to object");T=Object(T);for(var G=1;G<arguments.length;G++){var W=arguments[G];if(null!=W)for(var Z in W)Object.prototype.hasOwnProperty.call(W,Z)&&(T[Z]=W[Z])}return T}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),Number.isInteger=Number.isInteger||function(T){return"number"==typeof T&&isFinite(T)&&Math.floor(T)===T}}(typeof self<"u"&&self||typeof window<"u"&&window||typeof global<"u"&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var Hr,mn,Zr,jr,Xr,Ai,Lr,Zn,Kr,$r,Ki,tn,mr,Dr,Rn,kr,Ni,xi,Pn,HA,zi,L,pA,ke,_i,ki,Ve,Ht,D,gi,Yn,Fn,pi,Sr,$n,Di,Ue,KA,mi,Ei,Xn,Ji,Tn,bn,ur,Yr,Gi,YA,zn,ti,En,Kn,Nn,ji,Oi,Vr,ir,oi,GA,RA,Vi,en=function(p){function C(N){if("object"!==Me(N))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var U={};this.subscribe=function(x,M,q){if(q=q||!1,"string"!=typeof x||"function"!=typeof M||"boolean"!=typeof q)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");U.hasOwnProperty(x)||(U[x]={});var P=Math.random().toString(35);return U[x][P]=[M,!!q],P},this.unsubscribe=function(x){for(var M in U)if(U[M][x])return delete U[M][x],0===Object.keys(U[M]).length&&delete U[M],!0;return!1},this.publish=function(x){if(U.hasOwnProperty(x)){var M=Array.prototype.slice.call(arguments,1),q=[];for(var P in U[x]){var dt=U[x][P];try{dt[0].apply(N,M)}catch(pt){p.console&&console.error("jsPDF PubSub Error",pt.message,pt)}dt[1]&&q.push(P)}q.length&&q.forEach(this.unsubscribe)}},this.getTopics=function(){return U}}function k(N,U,x,M){var q={},P=[],dt=1;"object"===Me(N)&&(N=(q=N).orientation,U=q.unit||U,x=q.format||x,M=q.compress||q.compressPdf||M,P=q.filters||(!0===M?["FlateEncode"]:P),dt="number"==typeof q.userUnit?Math.abs(q.userUnit):1),U=U||"mm",N=(""+(N||"P")).toLowerCase();var pt=q.putOnlyUsedFonts||!0,Tt={},T={internal:{},__private__:{}};T.__private__.PubSub=C;var G="1.3",W=T.__private__.getPdfVersion=function(){return G},Z=(T.__private__.setPdfVersion=function(O){G=O},{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]}),at=(T.__private__.getPageFormats=function(){return Z},T.__private__.getPageFormat=function(O){return Z[O]});"string"==typeof x&&(x=at(x)),x=x||at("a4");var ft,It=T.f2=T.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return O.toFixed(2)},Mt=T.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return O.toFixed(3)},Nt="00000000000000000000000000000000",oe=T.__private__.getFileId=function(){return Nt},ne=T.__private__.setFileId=function(O){return O=O||"12345678901234567890123456789012".split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Nt=O};T.setFileId=function(O){return ne(O),this},T.getFileId=function(){return oe()};var bt=T.__private__.convertDateToPDFDate=function(O){var Ct=O.getTimezoneOffset(),Rt=Ct<0?"+":"-",ie=Math.floor(Math.abs(Ct/60)),ve=Math.abs(Ct%60),Pe=[Rt,S(ie),"'",S(ve),"'"].join("");return["D:",O.getFullYear(),S(O.getMonth()+1),S(O.getDate()),S(O.getHours()),S(O.getMinutes()),S(O.getSeconds()),Pe].join("")},J=T.__private__.convertPDFDateToDate=function(O){var Ct=parseInt(O.substr(2,4),10),Rt=parseInt(O.substr(6,2),10)-1,ie=parseInt(O.substr(8,2),10),ve=parseInt(O.substr(10,2),10),Pe=parseInt(O.substr(12,2),10),dr=parseInt(O.substr(14,2),10);return parseInt(O.substr(16,2),10),parseInt(O.substr(20,2),10),new Date(Ct,Rt,ie,ve,Pe,dr,0)},qt=T.__private__.setCreationDate=function(O){var Ct;if(void 0===O&&(O=new Date),"object"===Me(O)&&"[object Date]"===Object.prototype.toString.call(O))Ct=bt(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|\-0[0-9]|\-1[0-1])\'(0[0-9]|[1-5][0-9])\'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Ct=O}return ft=Ct},ht=T.__private__.getCreationDate=function(O){var Ct=ft;return"jsDate"===O&&(Ct=J(ft)),Ct};T.setCreationDate=function(O){return qt(O),this},T.getCreationDate=function(O){return ht(O)};var st,wt,Ut,mt,lt,H,$,ot,S=T.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},V=!1,rt=[],it=[],gt=0,tt=(T.__private__.setCustomOutputDestination=function(O){wt=O},T.__private__.resetCustomOutputDestination=function(O){wt=void 0},T.__private__.out=function(O){var Ct;return O="string"==typeof O?O:O.toString(),(Ct=void 0===wt?V?rt[st]:it:wt).push(O),V||(gt+=O.length+1),Ct}),kt=T.__private__.write=function(O){return tt(1===arguments.length?O.toString():Array.prototype.join.call(arguments," "))},Yt=T.__private__.getArrayBuffer=function(O){for(var Ct=O.length,Rt=new ArrayBuffer(Ct),ie=new Uint8Array(Rt);Ct--;)ie[Ct]=O.charCodeAt(Ct);return Rt},le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]],we=(T.__private__.getStandardFonts=function(O){return le},q.fontSize||16),Jt=(T.__private__.setFontSize=T.setFontSize=function(O){return we=O,this},T.__private__.getFontSize=T.getFontSize=function(){return we}),de=q.R2L||!1,Ae=(T.__private__.setR2L=T.setR2L=function(O){return de=O,this},T.__private__.getR2L=T.getR2L=function(O){return de},T.__private__.setZoomMode=function(O){if(/^\d*\.?\d*\%$/.test(O))Ut=O;else if(isNaN(O)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(O))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');Ut=O}else Ut=parseInt(O,10)}),De=(T.__private__.getZoomMode=function(){return Ut},T.__private__.setPageMode=function(O){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');mt=O}),nt=(T.__private__.getPageMode=function(){return mt},T.__private__.setLayoutMode=function(O){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');lt=O}),Bt=(T.__private__.getLayoutMode=function(){return lt},T.__private__.setDisplayMode=T.setDisplayMode=function(O,Ct,Rt){return Ae(O),nt(Ct),De(Rt),this},{title:"",subject:"",author:"",keywords:"",creator:""}),ct=(T.__private__.getDocumentProperty=function(O){if(-1===Object.keys(Bt).indexOf(O))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Bt[O]},T.__private__.getDocumentProperties=function(O){return Bt},T.__private__.setDocumentProperties=T.setProperties=T.setDocumentProperties=function(O){for(var Ct in Bt)Bt.hasOwnProperty(Ct)&&O[Ct]&&(Bt[Ct]=O[Ct]);return this},T.__private__.setDocumentProperty=function(O,Ct){if(-1===Object.keys(Bt).indexOf(O))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Bt[O]=Ct},0),Et=[],Xt={},ee={},Fe=0,be=[],Ir=[],$e=new C(T),Pr=q.hotfixes||[],Ar=T.__private__.newObject=function(){var O=fr();return pr(O,!0),O},fr=T.__private__.newObjectDeferred=function(){return Et[++ct]=function(){return gt},ct},pr=function(O,Ct){return Ct="boolean"==typeof Ct&&Ct,Et[O]=gt,Ct&&tt(O+" 0 obj"),O},ln=T.__private__.newAdditionalObject=function(){var O={objId:fr(),content:""};return Ir.push(O),O},un=fr(),Qr=fr(),Te=T.__private__.decodeColorString=function(O){var Ct=O.split(" ");if(2===Ct.length&&("g"===Ct[1]||"G"===Ct[1])){var Rt=parseFloat(Ct[0]);Ct=[Rt,Rt,Rt,"r"]}for(var ie="#",ve=0;ve<3;ve++)ie+=("0"+Math.floor(255*parseFloat(Ct[ve])).toString(16)).slice(-2);return ie},yr=T.__private__.encodeColorString=function(O){var Ct;"string"==typeof O&&(O={ch1:O});var Rt=O.ch1,ie=O.ch2,ve=O.ch3,Pe=O.ch4,dr="draw"===O.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof Rt&&"#"!==Rt.charAt(0)){var Gr=new RGBColor(Rt);if(Gr.ok)Rt=Gr.toHex();else if(!/^\d*\.?\d*$/.test(Rt))throw new Error('Invalid color "'+Rt+'" passed to jsPDF.encodeColorString.')}if("string"==typeof Rt&&/^#[0-9A-Fa-f]{3}$/.test(Rt)&&(Rt="#"+Rt[1]+Rt[1]+Rt[2]+Rt[2]+Rt[3]+Rt[3]),"string"==typeof Rt&&/^#[0-9A-Fa-f]{6}$/.test(Rt)){var nn=parseInt(Rt.substr(1),16);Rt=nn>>16&255,ie=nn>>8&255,ve=255&nn}if(void 0===ie||void 0===Pe&&Rt===ie&&ie===ve)Ct="string"==typeof Rt?Rt+" "+dr[0]:2===O.precision?It(Rt/255)+" "+dr[0]:Mt(Rt/255)+" "+dr[0];else if(void 0===Pe||"object"===Me(Pe)){if(Pe&&!isNaN(Pe.a)&&0===Pe.a)return["1.000","1.000","1.000",dr[1]].join(" ");Ct="string"==typeof Rt?[Rt,ie,ve,dr[1]].join(" "):2===O.precision?[It(Rt/255),It(ie/255),It(ve/255),dr[1]].join(" "):[Mt(Rt/255),Mt(ie/255),Mt(ve/255),dr[1]].join(" ")}else Ct="string"==typeof Rt?[Rt,ie,ve,Pe,dr[2]].join(" "):2===O.precision?[It(Rt/255),It(ie/255),It(ve/255),It(Pe/255),dr[2]].join(" "):[Mt(Rt/255),Mt(ie/255),Mt(ve/255),Mt(Pe/255),dr[2]].join(" ");return Ct},li=T.__private__.getFilters=function(){return P},ui=T.__private__.putStream=function(O){var dr,Ct=(O=O||{}).data||"",Rt=O.filters||li(),ie=O.alreadyAppliedFilters||[],ve=O.addLength1||!1,Pe=Ct.length;!0===Rt&&(Rt=["FlateEncode"]);var Gr=O.additionalKeyValues||[],nn=(dr=void 0!==k.API.processDataByFilters?k.API.processDataByFilters(Ct,Rt):{data:Ct,reverseChain:[]}).reverseChain+(Array.isArray(ie)?ie.join(" "):ie.toString());0!==dr.data.length&&(Gr.push({key:"Length",value:dr.data.length}),!0===ve&&Gr.push({key:"Length1",value:Pe})),0!=nn.length&&(nn.split("/").length-1==1?Gr.push({key:"Filter",value:nn}):Gr.push({key:"Filter",value:"["+nn+"]"})),tt("<<");for(var wn=0;wn<Gr.length;wn++)tt("/"+Gr[wn].key+" "+Gr[wn].value);tt(">>"),0!==dr.data.length&&(tt("stream"),tt(dr.data),tt("endstream"))},$i=T.__private__.putPage=function(O){var Ct=O.number,Rt=O.data,ie=O.objId,ve=O.contentsObjId;pr(ie,!0),tt("<</Type /Page"),tt("/Parent "+O.rootDictionaryObjId+" 0 R"),tt("/Resources "+O.resourceDictionaryObjId+" 0 R"),tt("/MediaBox ["+parseFloat(It(O.mediaBox.bottomLeftX))+" "+parseFloat(It(O.mediaBox.bottomLeftY))+" "+It(O.mediaBox.topRightX)+" "+It(O.mediaBox.topRightY)+"]"),null!==O.cropBox&&tt("/CropBox ["+It(O.cropBox.bottomLeftX)+" "+It(O.cropBox.bottomLeftY)+" "+It(O.cropBox.topRightX)+" "+It(O.cropBox.topRightY)+"]"),null!==O.bleedBox&&tt("/BleedBox ["+It(O.bleedBox.bottomLeftX)+" "+It(O.bleedBox.bottomLeftY)+" "+It(O.bleedBox.topRightX)+" "+It(O.bleedBox.topRightY)+"]"),null!==O.trimBox&&tt("/TrimBox ["+It(O.trimBox.bottomLeftX)+" "+It(O.trimBox.bottomLeftY)+" "+It(O.trimBox.topRightX)+" "+It(O.trimBox.topRightY)+"]"),null!==O.artBox&&tt("/ArtBox ["+It(O.artBox.bottomLeftX)+" "+It(O.artBox.bottomLeftY)+" "+It(O.artBox.topRightX)+" "+It(O.artBox.topRightY)+"]"),"number"==typeof O.userUnit&&1!==O.userUnit&&tt("/UserUnit "+O.userUnit),$e.publish("putPage",{objId:ie,pageContext:be[Ct],pageNumber:Ct,page:Rt}),tt("/Contents "+ve+" 0 R"),tt(">>"),tt("endobj");var Pe=Rt.join("\n");return pr(ve,!0),ui({data:Pe,filters:li()}),tt("endobj"),ie},xn=T.__private__.putPages=function(){var O,Ct,Rt=[];for(O=1;O<=Fe;O++)be[O].objId=fr(),be[O].contentsObjId=fr();for(O=1;O<=Fe;O++)Rt.push($i({number:O,data:rt[O],objId:be[O].objId,contentsObjId:be[O].contentsObjId,mediaBox:be[O].mediaBox,cropBox:be[O].cropBox,bleedBox:be[O].bleedBox,trimBox:be[O].trimBox,artBox:be[O].artBox,userUnit:be[O].userUnit,rootDictionaryObjId:un,resourceDictionaryObjId:Qr}));pr(un,!0),tt("<</Type /Pages");var ie="/Kids [";for(Ct=0;Ct<Fe;Ct++)ie+=Rt[Ct]+" 0 R ";tt(ie+"]"),tt("/Count "+Fe),tt(">>"),tt("endobj"),$e.publish("postPutPages")},Mi=function(O,Ct,Rt){ee.hasOwnProperty(Ct)||(ee[Ct]={}),ee[Ct][Rt]=O},yi=function(O,Ct,Rt,ie,ve){ve=ve||!1;var Pe="F"+(Object.keys(Xt).length+1).toString(10),dr={id:Pe,postScriptName:O,fontName:Ct,fontStyle:Rt,encoding:ie,isStandardFont:ve,metadata:{}};return $e.publish("addFont",{font:dr,instance:this}),void 0!==Pe&&(Xt[Pe]=dr,Mi(Pe,Ct,Rt)),Pe},xe=T.__private__.pdfEscape=T.pdfEscape=function(O,Ct){return function(Rt,ie){var ve,Pe,dr,Gr,nn,wn,hi,pn,NA;if(dr=(ie=ie||{}).sourceEncoding||"Unicode",nn=ie.outputEncoding,(ie.autoencode||nn)&&Xt[H].metadata&&Xt[H].metadata[dr]&&Xt[H].metadata[dr].encoding&&(Gr=Xt[H].metadata[dr].encoding,!nn&&Xt[H].encoding&&(nn=Xt[H].encoding),!nn&&Gr.codePages&&(nn=Gr.codePages[0]),"string"==typeof nn&&(nn=Gr[nn]),nn)){for(hi=!1,wn=[],ve=0,Pe=Rt.length;ve<Pe;ve++)(pn=nn[Rt.charCodeAt(ve)])?wn.push(String.fromCharCode(pn)):wn.push(Rt[ve]),wn[ve].charCodeAt(0)>>8&&(hi=!0);Rt=wn.join("")}for(ve=Rt.length;void 0===hi&&0!==ve;)Rt.charCodeAt(ve-1)>>8&&(hi=!0),ve--;if(!hi)return Rt;for(wn=ie.noBOM?[]:[254,255],ve=0,Pe=Rt.length;ve<Pe;ve++){if((NA=(pn=Rt.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+Rt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");wn.push(NA),wn.push(pn-(NA<<8))}return String.fromCharCode.apply(void 0,wn)}(O,Ct).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ne=T.__private__.beginPage=function(O,Ct){var Rt,ie="string"==typeof Ct&&Ct.toLowerCase();if("string"==typeof O&&(Rt=at(O.toLowerCase()))&&(O=Rt[0],Ct=Rt[1]),Array.isArray(O)&&(Ct=O[1],O=O[0]),(isNaN(O)||isNaN(Ct))&&(O=x[0],Ct=x[1]),ie){switch(ie.substr(0,1)){case"l":O<Ct&&(ie="s");break;case"p":Ct<O&&(ie="s")}"s"===ie&&(Rt=O,O=Ct,Ct=Rt)}(14400<O||14400<Ct)&&(console.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),O=Math.min(14400,O),Ct=Math.min(14400,Ct)),x=[O,Ct],V=!0,rt[++Fe]=[],be[Fe]={objId:0,contentsObjId:0,userUnit:Number(dt),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O),topRightY:Number(Ct)}},We(Fe)},qe=function(){Ne.apply(this,arguments),ci(Mn),tt(SA),0!==lA&&tt(lA+" J"),0!==_n&&tt(_n+" j"),$e.publish("addPage",{pageNumber:Fe})},We=function(O){0<O&&O<=Fe&&(st=O)},h=T.__private__.getNumberOfPages=T.getNumberOfPages=function(){return rt.length-1},g=function(O,Ct,Rt){var ie,ve=void 0;return Rt=Rt||{},Ct=void 0!==Ct?Ct:Xt[H].fontStyle,ie=(O=void 0!==O?O:Xt[H].fontName).toLowerCase(),void 0!==ee[ie]&&void 0!==ee[ie][Ct]?ve=ee[ie][Ct]:void 0!==ee[O]&&void 0!==ee[O][Ct]?ve=ee[O][Ct]:!1===Rt.disableWarning&&console.warn("Unable to look up font label for font '"+O+"', '"+Ct+"'. Refer to getFontList() for available fonts."),ve||Rt.noFallback||null==(ve=ee.times[Ct])&&(ve=ee.times.normal),ve},w=T.__private__.putInfo=function(){for(var O in Ar(),tt("<<"),tt("/Producer (jsPDF "+k.version+")"),Bt)Bt.hasOwnProperty(O)&&Bt[O]&&tt("/"+O.substr(0,1).toUpperCase()+O.substr(1)+" ("+xe(Bt[O])+")");tt("/CreationDate ("+ft+")"),tt(">>"),tt("endobj")},F=T.__private__.putCatalog=function(O){var Ct=(O=O||{}).rootDictionaryObjId||un;switch(Ar(),tt("<<"),tt("/Type /Catalog"),tt("/Pages "+Ct+" 0 R"),Ut||(Ut="fullwidth"),Ut){case"fullwidth":tt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":tt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":tt("/OpenAction [3 0 R /Fit]");break;case"original":tt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Rt=""+Ut;"%"===Rt.substr(Rt.length-1)&&(Ut=parseInt(Ut)/100),"number"==typeof Ut&&tt("/OpenAction [3 0 R /XYZ null null "+It(Ut)+"]")}switch(lt||(lt="continuous"),lt){case"continuous":tt("/PageLayout /OneColumn");break;case"single":tt("/PageLayout /SinglePage");break;case"two":case"twoleft":tt("/PageLayout /TwoColumnLeft");break;case"tworight":tt("/PageLayout /TwoColumnRight")}mt&&tt("/PageMode /"+mt),$e.publish("putCatalog"),tt(">>"),tt("endobj")},K=T.__private__.putTrailer=function(){tt("trailer"),tt("<<"),tt("/Size "+(ct+1)),tt("/Root "+ct+" 0 R"),tt("/Info "+(ct-1)+" 0 R"),tt("/ID [ <"+Nt+"> <"+Nt+"> ]"),tt(">>")},Y=T.__private__.putHeader=function(){tt("%PDF-"+G),tt("%\xba\xdf\xac\xe0")},ut=T.__private__.putXRef=function(){var O=1,Ct="0000000000";for(tt("xref"),tt("0 "+(ct+1)),tt("0000000000 65535 f "),O=1;O<=ct;O++)tt("function"==typeof Et[O]?(Ct+Et[O]()).slice(-10)+" 00000 n ":void 0!==Et[O]?(Ct+Et[O]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Dt=T.__private__.buildDocument=function(){V=!1,gt=ct=0,it=[],Et=[],Ir=[],un=fr(),Qr=fr(),$e.publish("buildDocument"),Y(),xn(),function(){$e.publish("putAdditionalObjects");for(var Ct=0;Ct<Ir.length;Ct++){var Rt=Ir[Ct];pr(Rt.objId,!0),tt(Rt.content),tt("endobj")}$e.publish("postPutAdditionalObjects")}(),function(){for(var O in Xt)Xt.hasOwnProperty(O)&&(!1===pt||!0===pt&&Tt.hasOwnProperty(O))&&($e.publish("putFont",{font:Ct=Xt[O],out:tt,newObject:Ar,putStream:ui}),!0!==Ct.isAlreadyPutted&&(Ct.objectNumber=Ar(),tt("<<"),tt("/Type /Font"),tt("/BaseFont /"+Ct.postScriptName),tt("/Subtype /Type1"),"string"==typeof Ct.encoding&&tt("/Encoding /"+Ct.encoding),tt("/FirstChar 32"),tt("/LastChar 255"),tt(">>"),tt("endobj")));var Ct}(),$e.publish("putResources"),pr(Qr,!0),tt("<<"),function(){for(var O in tt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),tt("/Font <<"),Xt)Xt.hasOwnProperty(O)&&(!1===pt||!0===pt&&Tt.hasOwnProperty(O))&&tt("/"+O+" "+Xt[O].objectNumber+" 0 R");tt(">>"),tt("/XObject <<"),$e.publish("putXobjectDict"),tt(">>")}(),tt(">>"),tt("endobj"),$e.publish("postPutResources"),w(),F();var O=gt;return ut(),K(),tt("startxref"),tt(""+O),tt("%%EOF"),V=!0,it.join("\n")},_t=T.__private__.getBlob=function(O){return new Blob([Yt(O)],{type:"application/pdf"})},te=T.output=T.__private__.output=((ot=function(O,Ct){Ct=Ct||{};var Rt=Dt();switch("string"==typeof Ct?Ct={filename:Ct}:Ct.filename=Ct.filename||"generated.pdf",O){case void 0:return Rt;case"save":T.save(Ct.filename);break;case"arraybuffer":return Yt(Rt);case"blob":return _t(Rt);case"bloburi":case"bloburl":if(void 0!==p.URL&&"function"==typeof p.URL.createObjectURL)return p.URL&&p.URL.createObjectURL(_t(Rt))||void 0;console.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":return"data:application/pdf;filename="+Ct.filename+";base64,"+btoa(Rt);case"dataurlnewwindow":var ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring")+'"></iframe></body></html>',ve=p.open();if(null!==ve&&ve.document.write(ie),ve||typeof safari>"u")return ve;case"datauri":case"dataurl":return p.document.location.href="data:application/pdf;filename="+Ct.filename+";base64,"+btoa(Rt);default:return null}}).foo=function(){try{return ot.apply(this,arguments)}catch(Rt){var O=Rt.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var Ct="Error in function "+O.split("\n")[0].split("<")[0]+": "+Rt.message;if(!p.console)throw new Error(Ct);p.console.error(Ct,Rt),p.alert&&alert(Ct)}},(ot.foo.bar=ot).foo),se=function(O){return!0===Array.isArray(Pr)&&-1<Pr.indexOf(O)};switch(U){case"pt":$=1;break;case"mm":$=72/25.4;break;case"cm":$=72/2.54;break;case"in":$=72;break;case"px":$=1==se("px_scaling")?.75:96/72;break;case"pc":case"em":$=12;break;case"ex":$=6;break;default:throw new Error("Invalid unit: "+U)}qt(),ne();var Ce=T.__private__.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:be[O].objId,pageNumber:O,pageContext:be[O]}},ue=T.__private__.getPageInfoByObjId=function(O){for(var Ct in be)if(be[Ct].objId===O)break;if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");return Ce(Ct)},Se=T.__private__.getCurrentPageInfo=function(){return{objId:be[st].objId,pageNumber:st,pageContext:be[st]}};T.addPage=function(){return qe.apply(this,arguments),this},T.setPage=function(){return We.apply(this,arguments),this},T.insertPage=function(O){return this.addPage(),this.movePage(st,O),this},T.movePage=function(O,Ct){if(Ct<O){for(var Rt=rt[O],ie=be[O],ve=O;Ct<ve;ve--)rt[ve]=rt[ve-1],be[ve]=be[ve-1];rt[Ct]=Rt,be[Ct]=ie,this.setPage(Ct)}else if(O<Ct){for(Rt=rt[O],ie=be[O],ve=O;ve<Ct;ve++)rt[ve]=rt[ve+1],be[ve]=be[ve+1];rt[Ct]=Rt,be[Ct]=ie,this.setPage(Ct)}return this},T.deletePage=function(){return function(O){0<O&&O<=Fe&&(rt.splice(O,1),--Fe<st&&(st=Fe),this.setPage(st))}.apply(this,arguments),this},T.__private__.text=T.text=function(O,Ct,Rt,ie){var ve;"number"!=typeof O||"number"!=typeof Ct||"string"!=typeof Rt&&!Array.isArray(Rt)||(ve=Rt,Rt=Ct,Ct=O,O=ve);var Pe=arguments[3],dr=arguments[4],Gr=arguments[5];if("object"===Me(Pe)&&null!==Pe||("string"==typeof dr&&(Gr=dr,dr=null),"string"==typeof Pe&&(Gr=Pe,Pe=null),"number"==typeof Pe&&(dr=Pe,Pe=null),ie={flags:Pe,angle:dr,align:Gr}),(Pe=Pe||{}).noBOM=Pe.noBOM||!0,Pe.autoencode=Pe.autoencode||!0,isNaN(Ct)||isNaN(Rt)||null==O)throw new Error("Invalid arguments passed to jsPDF.text");if(0===O.length)return pn;var nn,wn="",hi="number"==typeof ie.lineHeightFactor?ie.lineHeightFactor:Br,pn=ie.scope||this;function NA(IA){for(var cA,bA=IA.concat(),Qt=[],B=bA.length;B--;)"string"==typeof(cA=bA.shift())?Qt.push(cA):Array.isArray(IA)&&1===cA.length?Qt.push(cA[0]):Qt.push([cA[0],cA[1],cA[2]]);return Qt}function OA(IA,cA){var bA;if("string"==typeof IA)bA=cA(IA)[0];else if(Array.isArray(IA)){for(var Qt,B,z=IA.concat(),Kt=[],Ie=z.length;Ie--;)"string"==typeof(Qt=z.shift())?Kt.push(cA(Qt)[0]):Array.isArray(Qt)&&"string"===Qt[0]&&(B=cA(Qt[0],Qt[1],Qt[2]),Kt.push([B[0],B[1],B[2]]));bA=Kt}return bA}var dA=!1,wi=!0;if("string"==typeof O)dA=!0;else if(Array.isArray(O)){for(var tA,qA=O.concat(),di=[],uA=qA.length;uA--;)("string"!=typeof(tA=qA.shift())||Array.isArray(tA)&&"string"!=typeof tA[0])&&(wi=!1);dA=wi}if(!1===dA)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');var fs=Xt[H].encoding;"WinAnsiEncoding"!==fs&&"StandardEncoding"!==fs||(O=OA(O,function(IA,cA,bA){return[(Qt=IA,Qt=Qt.split("\t").join(Array(ie.TabLen||9).join(" ")),xe(Qt,Pe)),cA,bA];var Qt})),"string"==typeof O&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var as=we/pn.internal.scaleFactor,Lt=as*(Br-1);switch(ie.baseline){case"bottom":Rt-=Lt;break;case"top":Rt+=as-Lt;break;case"hanging":Rt+=as-2*Lt;break;case"middle":Rt+=as/2-Lt}0<(jn=ie.maxWidth||0)&&("string"==typeof O?O=pn.splitTextToSize(O,jn):"[object Array]"===Object.prototype.toString.call(O)&&(O=pn.splitTextToSize(O.join(" "),jn)));var zt={text:O,x:Ct,y:Rt,options:ie,mutex:{pdfEscape:xe,activeFontKey:H,fonts:Xt,activeFontSize:we}};$e.publish("preProcessText",zt),O=zt.text,dr=(ie=zt.options).angle;var ce=pn.internal.scaleFactor,ge=[];if(dr){dr*=Math.PI/180;var Le=Math.cos(dr),or=Math.sin(dr);ge=[It(Le),It(or),It(-1*or),It(Le)]}void 0!==(_r=ie.charSpace)&&(wn+=Mt(_r*ce)+" Tc\n");var Je=-1,Be=void 0!==ie.renderingMode?ie.renderingMode:ie.stroke,rr=pn.internal.getCurrentPageInfo().pageContext;switch(Be){case 0:case!1:case"fill":Je=0;break;case 1:case!0:case"stroke":Je=1;break;case 2:case"fillThenStroke":Je=2;break;case 3:case"invisible":Je=3;break;case 4:case"fillAndAddForClipping":Je=4;break;case 5:case"strokeAndAddPathForClipping":Je=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Je=6;break;case 7:case"addToPathForClipping":Je=7}-1!==Je?wn+=Je+" Tr\n":-1!==(void 0!==rr.usedRenderingMode?rr.usedRenderingMode:-1)&&(wn+="0 Tr\n"),-1!==Je&&(rr.usedRenderingMode=Je),Gr=ie.align||"left";var ae=we*hi,Nr=pn.internal.pageSize.getWidth(),sn=(ce=pn.internal.scaleFactor,Xt[H]),_r=ie.charSpace||oA,jn=ie.maxWidth||0,kn=(Pe={},[]);if("[object Array]"===Object.prototype.toString.call(O)){var hn,Dn;di=NA(O),"left"!==Gr&&(Dn=di.map(function(IA){return pn.getStringUnitWidth(IA,{font:sn,charSpace:_r,fontSize:we})*we/ce})),Math.max.apply(Math,Dn);var Jn,Ln=0;if("right"===Gr){Ct-=Dn[0],O=[];var Rr=0;for(uA=di.length;Rr<uA;Rr++)hn=0===Rr?(Jn=cn(Ct),hr(Rt)):(Jn=(Ln-Dn[Rr])*ce,-ae),O.push([di[Rr],Jn,hn]),Ln=Dn[Rr]}else if("center"===Gr)for(Ct-=Dn[0]/2,O=[],Rr=0,uA=di.length;Rr<uA;Rr++)hn=0===Rr?(Jn=cn(Ct),hr(Rt)):(Jn=(Ln-Dn[Rr])/2*ce,-ae),O.push([di[Rr],Jn,hn]),Ln=Dn[Rr];else if("left"===Gr)for(O=[],Rr=0,uA=di.length;Rr<uA;Rr++)hn=0===Rr?hr(Rt):-ae,Jn=0===Rr?cn(Ct):0,O.push(di[Rr]);else{if("justify"!==Gr)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],jn=0!==jn?jn:Nr,Rr=0,uA=di.length;Rr<uA;Rr++)hn=0===Rr?hr(Rt):-ae,Jn=0===Rr?cn(Ct):0,Rr<uA-1&&kn.push(((jn-Dn[Rr])/(di[Rr].split(" ").length-1)*ce).toFixed(2)),O.push([di[Rr],Jn,hn])}}!0===("boolean"==typeof ie.R2L?ie.R2L:de)&&(O=OA(O,function(IA,cA,bA){return[IA.split("").reverse().join(""),cA,bA]})),$e.publish("postProcessText",zt={text:O,x:Ct,y:Rt,options:ie,mutex:{pdfEscape:xe,activeFontKey:H,fonts:Xt,activeFontSize:we}}),nn=zt.mutex.isHex,di=NA(O=zt.text),O=[];var eA,MA,Wi,rA=0,BA=(uA=di.length,"");for(Rr=0;Rr<uA;Rr++)BA="",Array.isArray(di[Rr])?(eA=parseFloat(di[Rr][1]),MA=parseFloat(di[Rr][2]),Wi=(nn?"<":"(")+di[Rr][0]+(nn?">":")"),rA=1):(eA=cn(Ct),MA=hr(Rt),Wi=(nn?"<":"(")+di[Rr]+(nn?">":")")),void 0!==kn&&void 0!==kn[Rr]&&(BA=kn[Rr]+" Tw\n"),O.push(0!==ge.length&&0===Rr?BA+ge.join(" ")+" "+eA.toFixed(2)+" "+MA.toFixed(2)+" Tm\n"+Wi:1===rA||0===rA&&0===Rr?BA+eA.toFixed(2)+" "+MA.toFixed(2)+" Td\n"+Wi:BA+Wi);O=O.join(0===rA?" Tj\nT* ":" Tj\n"),O+=" Tj\n";var $A="BT\n/"+H+" "+we+" Tf\n"+(we*hi).toFixed(2)+" TL\n"+FA+"\n";return $A+=wn,$A+=O,tt($A+="ET"),Tt[H]=!0,pn},T.__private__.lstext=T.lstext=function(O,Ct,Rt,ie){return console.warn("jsPDF.lstext is deprecated"),this.text(O,Ct,Rt,{charSpace:ie})},T.__private__.clip=T.clip=function(O){tt("evenodd"===O?"W*":"W"),tt("n")},T.__private__.clip_fixed=T.clip_fixed=function(O){console.log("clip_fixed is deprecated"),T.clip(O)};var ar=T.__private__.isValidStyle=function(O){var Ct=!1;return-1!==[void 0,null,"S","F","DF","FD","f","f*","B","B*"].indexOf(O)&&(Ct=!0),Ct},xr=T.__private__.getStyle=function(O){var Ct="S";return"F"===O?Ct="f":"FD"===O||"DF"===O?Ct="B":"f"!==O&&"f*"!==O&&"B"!==O&&"B*"!==O||(Ct=O),Ct};T.__private__.line=T.line=function(O,Ct,Rt,ie){if(isNaN(O)||isNaN(Ct)||isNaN(Rt)||isNaN(ie))throw new Error("Invalid arguments passed to jsPDF.line");return this.lines([[Rt-O,ie-Ct]],O,Ct)},T.__private__.lines=T.lines=function(O,Ct,Rt,ie,ve,Pe){var dr,Gr,nn,wn,hi,pn,NA,OA,dA,wi,tA,qA;if("number"==typeof O&&(qA=Rt,Rt=Ct,Ct=O,O=qA),ie=ie||[1,1],Pe=Pe||!1,isNaN(Ct)||isNaN(Rt)||!Array.isArray(O)||!Array.isArray(ie)||!ar(ve)||"boolean"!=typeof Pe)throw new Error("Invalid arguments passed to jsPDF.lines");for(tt(Mt(cn(Ct))+" "+Mt(hr(Rt))+" m "),dr=ie[0],Gr=ie[1],wn=O.length,wi=Ct,tA=Rt,nn=0;nn<wn;nn++)2===(hi=O[nn]).length?(tA=hi[1]*Gr+tA,tt(Mt(cn(wi=hi[0]*dr+wi))+" "+Mt(hr(tA))+" l")):(pn=hi[0]*dr+wi,NA=hi[1]*Gr+tA,OA=hi[2]*dr+wi,dA=hi[3]*Gr+tA,wi=hi[4]*dr+wi,tA=hi[5]*Gr+tA,tt(Mt(cn(pn))+" "+Mt(hr(NA))+" "+Mt(cn(OA))+" "+Mt(hr(dA))+" "+Mt(cn(wi))+" "+Mt(hr(tA))+" c"));return Pe&&tt(" h"),null!==ve&&tt(xr(ve)),this},T.__private__.rect=T.rect=function(O,Ct,Rt,ie,ve){if(isNaN(O)||isNaN(Ct)||isNaN(Rt)||isNaN(ie)||!ar(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return tt([It(cn(O)),It(hr(Ct)),It(Rt*$),It(-ie*$),"re"].join(" ")),null!==ve&&tt(xr(ve)),this},T.__private__.triangle=T.triangle=function(O,Ct,Rt,ie,ve,Pe,dr){if(isNaN(O)||isNaN(Ct)||isNaN(Rt)||isNaN(ie)||isNaN(ve)||isNaN(Pe)||!ar(dr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Rt-O,ie-Ct],[ve-Rt,Pe-ie],[O-ve,Ct-Pe]],O,Ct,[1,1],dr,!0),this},T.__private__.roundedRect=T.roundedRect=function(O,Ct,Rt,ie,ve,Pe,dr){if(isNaN(O)||isNaN(Ct)||isNaN(Rt)||isNaN(ie)||isNaN(ve)||isNaN(Pe)||!ar(dr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Gr=4/3*(Math.SQRT2-1);return this.lines([[Rt-2*ve,0],[ve*Gr,0,ve,Pe-Pe*Gr,ve,Pe],[0,ie-2*Pe],[0,Pe*Gr,-ve*Gr,Pe,-ve,Pe],[2*ve-Rt,0],[-ve*Gr,0,-ve,-Pe*Gr,-ve,-Pe],[0,2*Pe-ie],[0,-Pe*Gr,ve*Gr,-Pe,ve,-Pe]],O+ve,Ct,[1,1],dr),this},T.__private__.ellipse=T.ellipse=function(O,Ct,Rt,ie,ve){if(isNaN(O)||isNaN(Ct)||isNaN(Rt)||isNaN(ie)||!ar(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*Rt,dr=4/3*(Math.SQRT2-1)*ie;return tt([It(cn(O+Rt)),It(hr(Ct)),"m",It(cn(O+Rt)),It(hr(Ct-dr)),It(cn(O+Pe)),It(hr(Ct-ie)),It(cn(O)),It(hr(Ct-ie)),"c"].join(" ")),tt([It(cn(O-Pe)),It(hr(Ct-ie)),It(cn(O-Rt)),It(hr(Ct-dr)),It(cn(O-Rt)),It(hr(Ct)),"c"].join(" ")),tt([It(cn(O-Rt)),It(hr(Ct+dr)),It(cn(O-Pe)),It(hr(Ct+ie)),It(cn(O)),It(hr(Ct+ie)),"c"].join(" ")),tt([It(cn(O+Pe)),It(hr(Ct+ie)),It(cn(O+Rt)),It(hr(Ct+dr)),It(cn(O+Rt)),It(hr(Ct)),"c"].join(" ")),null!==ve&&tt(xr(ve)),this},T.__private__.circle=T.circle=function(O,Ct,Rt,ie){if(isNaN(O)||isNaN(Ct)||isNaN(Rt)||!ar(ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,Ct,Rt,Rt,ie)},T.setFont=function(O,Ct){return H=g(O,Ct,{disableWarning:!1}),this},T.setFontStyle=T.setFontType=function(O){return H=g(void 0,O),this},T.__private__.getFontList=T.getFontList=function(){var O,Ct,Rt,ie={};for(O in ee)if(ee.hasOwnProperty(O))for(Ct in ie[O]=Rt=[],ee[O])ee[O].hasOwnProperty(Ct)&&Rt.push(Ct);return ie},T.addFont=function(O,Ct,Rt,ie){yi.call(this,O,Ct,Rt,ie=ie||"Identity-H")};var Br,Mn=q.lineWidth||.200025,ci=T.__private__.setLineWidth=T.setLineWidth=function(O){return tt((O*$).toFixed(2)+" w"),this},Ci=(T.__private__.setLineDash=k.API.setLineDash=function(O,Ct){if(O=O||[],Ct=Ct||0,isNaN(Ct)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(Rt){return(Rt*$).toFixed(3)}).join(" "),Ct=parseFloat((Ct*$).toFixed(3)),tt("["+O+"] "+Ct+" d"),this},T.__private__.getLineHeight=T.getLineHeight=function(){return we*Br}),fn=(Ci=T.__private__.getLineHeight=T.getLineHeight=function(){return we*Br},T.__private__.setLineHeightFactor=T.setLineHeightFactor=function(O){return"number"==typeof(O=O||1.15)&&(Br=O),this}),rn=T.__private__.getLineHeightFactor=T.getLineHeightFactor=function(){return Br};fn(q.lineHeight);var cn=T.__private__.getHorizontalCoordinate=function(O){return O*$},hr=T.__private__.getVerticalCoordinate=function(O){return be[st].mediaBox.topRightY-be[st].mediaBox.bottomLeftY-O*$},yn=T.__private__.getHorizontalCoordinateString=function(O){return It(O*$)},PA=T.__private__.getVerticalCoordinateString=function(O){return It(be[st].mediaBox.topRightY-be[st].mediaBox.bottomLeftY-O*$)},SA=q.strokeColor||"0 G",qi=(T.__private__.getStrokeColor=T.getDrawColor=function(){return Te(SA)},T.__private__.setStrokeColor=T.setDrawColor=function(O,Ct,Rt,ie){return SA=yr({ch1:O,ch2:Ct,ch3:Rt,ch4:ie,pdfColorType:"draw",precision:2}),tt(SA),this},q.fillColor||"0 g"),FA=(T.__private__.getFillColor=T.getFillColor=function(){return Te(qi)},T.__private__.setFillColor=T.setFillColor=function(O,Ct,Rt,ie){return qi=yr({ch1:O,ch2:Ct,ch3:Rt,ch4:ie,pdfColorType:"fill",precision:2}),tt(qi),this},q.textColor||"0 g"),TA=T.__private__.getTextColor=T.getTextColor=function(){return Te(FA)},oA=(T.__private__.setTextColor=T.setTextColor=function(O,Ct,Rt,ie){return FA=yr({ch1:O,ch2:Ct,ch3:Rt,ch4:ie,pdfColorType:"text",precision:3}),this},q.charSpace||0),ZA=T.__private__.getCharSpace=T.getCharSpace=function(){return oA},lA=(T.__private__.setCharSpace=T.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return oA=O,this},0);T.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},T.__private__.setLineCap=T.setLineCap=function(O){var Ct=T.CapJoinStyles[O];if(void 0===Ct)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tt((lA=Ct)+" J"),this};var Li,_n=0;for(var Si in T.__private__.setLineJoin=T.setLineJoin=function(O){var Ct=T.CapJoinStyles[O];if(void 0===Ct)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tt((_n=Ct)+" j"),this},T.__private__.setMiterLimit=T.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setMiterLimit");return Li=parseFloat(It(O*$)),tt(Li+" M"),this},T.save=function(O,Ct){if(O=O||"generated.pdf",(Ct=Ct||{}).returnPromise=Ct.returnPromise||!1,!1!==Ct.returnPromise)return new Promise(function(Rt,ie){try{var ve=me(_t(Dt()),O);"function"==typeof me.unload&&p.setTimeout&&setTimeout(me.unload,911),Rt(ve)}catch(Pe){ie(Pe.message)}});me(_t(Dt()),O),"function"==typeof me.unload&&p.setTimeout&&setTimeout(me.unload,911)},k.API)k.API.hasOwnProperty(Si)&&("events"===Si&&k.API.events.length?function(O,Ct){var ie,ve;for(ve=Ct.length-1;-1!==ve;ve--)O.subscribe.apply(O,[Ct[ve][0]].concat("function"==typeof(ie=Ct[ve][1])?[ie]:ie))}($e,k.API.events):T[Si]=k.API[Si]);return T.internal={pdfEscape:xe,getStyle:xr,getFont:function(){return Xt[g.apply(T,arguments)]},getFontSize:Jt,getCharSpace:ZA,getTextColor:TA,getLineHeight:Ci,getLineHeightFactor:rn,write:kt,getHorizontalCoordinate:cn,getVerticalCoordinate:hr,getCoordinateString:yn,getVerticalCoordinateString:PA,collections:{},newObject:Ar,newAdditionalObject:ln,newObjectDeferred:fr,newObjectDeferredBegin:pr,getFilters:li,putStream:ui,events:$e,scaleFactor:$,pageSize:{getWidth:function(){return(be[st].mediaBox.topRightX-be[st].mediaBox.bottomLeftX)/$},setWidth:function(O){be[st].mediaBox.topRightX=O*$+be[st].mediaBox.bottomLeftX},getHeight:function(){return(be[st].mediaBox.topRightY-be[st].mediaBox.bottomLeftY)/$},setHeight:function(O){be[st].mediaBox.topRightY=O*$+be[st].mediaBox.bottomLeftY}},output:te,getNumberOfPages:h,pages:rt,out:tt,f2:It,f3:Mt,getPageInfo:Ce,getPageInfoByObjId:ue,getCurrentPageInfo:Se,getPDFVersion:W,hasHotfix:se},Object.defineProperty(T.internal.pageSize,"width",{get:function(){return(be[st].mediaBox.topRightX-be[st].mediaBox.bottomLeftX)/$},set:function(O){be[st].mediaBox.topRightX=O*$+be[st].mediaBox.bottomLeftX},enumerable:!0,configurable:!0}),Object.defineProperty(T.internal.pageSize,"height",{get:function(){return(be[st].mediaBox.topRightY-be[st].mediaBox.bottomLeftY)/$},set:function(O){be[st].mediaBox.topRightY=O*$+be[st].mediaBox.bottomLeftY},enumerable:!0,configurable:!0}),function(O){for(var Ct=0,Rt=le.length;Ct<Rt;Ct++){var ie=yi(O[Ct][0],O[Ct][1],O[Ct][2],le[Ct][3],!0);Tt[ie]=!0;var ve=O[Ct][0].split("-");Mi(ie,ve[0],ve[1]||"")}$e.publish("addFonts",{fonts:Xt,dictionary:ee})}(le),H="F1",qe(x,N),$e.publish("initialized"),T}return k.API={events:[]},k.version="1.5.3","function"==typeof define&&define.amd?define("jsPDF",function(){return k}):typeof module<"u"&&module.exports?(module.exports=k,module.exports.jsPDF=k):p.jsPDF=k,k}(typeof self<"u"&&self||typeof window<"u"&&window||typeof global<"u"&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());(function(p,C){var k,N=1,U=function(nt){return nt.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},x=function(nt){return nt.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},M=function(nt){if(isNaN(nt))throw new Error("Invalid argument passed to jsPDF.f2");return nt.toFixed(2)},q=function(nt){if(isNaN(nt))throw new Error("Invalid argument passed to jsPDF.f2");return nt.toFixed(5)};p.__acroform__={};var P=function(nt,Bt){nt.prototype=Object.create(Bt.prototype),nt.prototype.constructor=nt},dt=function(nt){return nt*N},pt=function(nt){return nt/N},Tt=function(nt){var Bt=new $,ct=Ae.internal.getHeight(nt)||0,Et=Ae.internal.getWidth(nt)||0;return Bt.BBox=[0,0,Number(M(Et)),Number(M(ct))],Bt},T=p.__acroform__.setBit=function(nt,Bt){if(nt=nt||0,Bt=Bt||0,isNaN(nt)||isNaN(Bt))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return nt|1<<Bt},G=p.__acroform__.clearBit=function(nt,Bt){if(nt=nt||0,Bt=Bt||0,isNaN(nt)||isNaN(Bt))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return nt&~(1<<Bt)},W=p.__acroform__.getBit=function(nt,Bt){if(isNaN(nt)||isNaN(Bt))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return nt&1<<Bt?1:0},Z=p.__acroform__.getBitForPdf=function(nt,Bt){if(isNaN(nt)||isNaN(Bt))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return W(nt,Bt-1)},at=p.__acroform__.setBitForPdf=function(nt,Bt){if(isNaN(nt)||isNaN(Bt))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return T(nt,Bt-1)},ft=p.__acroform__.clearBitForPdf=function(nt,Bt,ct){if(isNaN(nt)||isNaN(Bt))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return G(nt,Bt-1)},It=p.__acroform__.calculateCoordinates=function(nt){var Bt=this.internal.getHorizontalCoordinate,ct=this.internal.getVerticalCoordinate,Et=nt[0],Xt=nt[1],ee=nt[2],Fe=nt[3],be={};return be.lowerLeft_X=Bt(Et)||0,be.lowerLeft_Y=ct(Xt+Fe)||0,be.upperRight_X=Bt(Et+ee)||0,be.upperRight_Y=ct(Xt)||0,[Number(M(be.lowerLeft_X)),Number(M(be.lowerLeft_Y)),Number(M(be.upperRight_X)),Number(M(be.upperRight_Y))]},Mt=function(nt){if(nt.appearanceStreamContent)return nt.appearanceStreamContent;if(nt.V||nt.DV){var Bt=[],Et=Nt(nt,nt.V||nt.DV),Xt=k.internal.getFont(nt.fontName,nt.fontStyle).id;Bt.push("/Tx BMC"),Bt.push("q"),Bt.push("BT"),Bt.push(k.__private__.encodeColorString(nt.color)),Bt.push("/"+Xt+" "+M(Et.fontSize)+" Tf"),Bt.push("1 0 0 1 0 0 Tm"),Bt.push(Et.text),Bt.push("ET"),Bt.push("Q"),Bt.push("EMC");var ee=new Tt(nt);return ee.stream=Bt.join("\n"),ee}},Nt=function(nt,Bt){var ct=nt.maxFontSize||12,Et={text:"",fontSize:""},Xt=(Bt=")"==(Bt="("==Bt.substr(0,1)?Bt.substr(1):Bt).substr(Bt.length-1)?Bt.substr(0,Bt.length-1):Bt).split(" "),ee=(k.__private__.encodeColorString(nt.color),ct),Fe=Ae.internal.getHeight(nt)||0;Fe=Fe<0?-Fe:Fe;var Mi,be=Ae.internal.getWidth(nt)||0;be=be<0?-be:be,ee++;t:for(;;){Bt="";var $e=oe("3",nt,--ee).height,Pr=nt.multiline?Fe-ee:(Fe-$e)/2,Ar=-2,fr=Pr+=2,pr=0,ln=0,un=0;if(ee<=0){Bt="(...) Tj\n",Bt+="% Width of Text: "+oe(Bt,nt,ee=12).width+", FieldWidth:"+be+"\n";break}un=oe(Xt[0]+" ",nt,ee).width;var Qr="",Te=0;for(var yr in Xt)if(Xt.hasOwnProperty(yr)){Qr=" "==(Qr+=Xt[yr]+" ").substr(Qr.length-1)?Qr.substr(0,Qr.length-1):Qr;var li=parseInt(yr);un=oe(Qr+" ",nt,ee).width;var ui=(Mi=li)+1<Xt.length&&oe(Qr+" "+Xt[Mi+1],nt,ee).width<=be-4,$i=yr>=Xt.length-1;if(ui&&!$i){Qr+=" ";continue}if(ui||$i){if($i)ln=li;else if(nt.multiline&&Fe<($e+2)*(Te+2)+2)continue t}else{if(!nt.multiline||Fe<($e+2)*(Te+2)+2)continue t;ln=li}for(var xn="",vi=pr;vi<=ln;vi++)xn+=Xt[vi]+" ";switch(xn=" "==xn.substr(xn.length-1)?xn.substr(0,xn.length-1):xn,un=oe(xn,nt,ee).width,nt.textAlign){case"right":Ar=be-un-2;break;case"center":Ar=(be-un)/2;break;default:Ar=2}Bt+=M(Ar)+" "+M(fr)+" Td\n",Bt+="("+U(xn)+") Tj\n",Bt+=-M(Ar)+" 0 Td\n",fr=-(ee+2),un=0,pr=ln+1,Te++,Qr=""}break}return Et.text=Bt,Et.fontSize=ee,Et},oe=function(nt,Bt,ct){var Et=k.internal.getFont(Bt.fontName,Bt.fontStyle),Xt=k.getStringUnitWidth(nt,{font:Et,fontSize:parseFloat(ct),charSpace:0})*parseFloat(ct);return{height:k.getStringUnitWidth("3",{font:Et,fontSize:parseFloat(ct),charSpace:0})*parseFloat(ct)*1.5,width:Xt}},ne={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},bt=function(){k.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var nt=k.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Bt in nt)if(nt.hasOwnProperty(Bt)){var ct=nt[Bt];ct.objId=void 0,ct.hasAnnotation&&J.call(k,ct)}},J=function(nt){var Bt={type:"reference",object:nt};void 0===k.internal.getPageInfo(nt.page).pageContext.annotations.find(function(ct){return ct.type===Bt.type&&ct.object===Bt.object})&&k.internal.getPageInfo(nt.page).pageContext.annotations.push(Bt)},qt=function(){if(void 0===k.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");k.internal.write("/AcroForm "+k.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")},ht=function(){k.internal.events.unsubscribe(k.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete k.internal.acroformPlugin.acroFormDictionaryRoot._eventID,k.internal.acroformPlugin.printedOut=!0},st=function(nt){var Bt=!nt;for(var ct in nt||(k.internal.newObjectDeferredBegin(k.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),k.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),nt=nt||k.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(nt.hasOwnProperty(ct)){var Et=nt[ct],Xt=[],ee=Et.Rect;if(Et.Rect&&(Et.Rect=It.call(this,Et.Rect)),k.internal.newObjectDeferredBegin(Et.objId,!0),Et.DA=Ae.createDefaultAppearanceStream(Et),"object"===Me(Et)&&"function"==typeof Et.getKeyValueListForStream&&(Xt=Et.getKeyValueListForStream()),Et.Rect=ee,Et.hasAppearanceStream&&!Et.appearanceStreamContent){var Fe=Mt.call(this,Et);Xt.push({key:"AP",value:"<</N "+Fe+">>"}),k.internal.acroformPlugin.xForms.push(Fe)}if(Et.appearanceStreamContent){var be="";for(var Ir in Et.appearanceStreamContent)if(Et.appearanceStreamContent.hasOwnProperty(Ir)){var $e=Et.appearanceStreamContent[Ir];if(be+="/"+Ir+" ",be+="<<",1<=Object.keys($e).length||Array.isArray($e))for(var ct in $e){var Pr;$e.hasOwnProperty(ct)&&("function"==typeof(Pr=$e[ct])&&(Pr=Pr.call(this,Et)),be+="/"+ct+" "+Pr+" ",0<=k.internal.acroformPlugin.xForms.indexOf(Pr)||k.internal.acroformPlugin.xForms.push(Pr))}else"function"==typeof(Pr=$e)&&(Pr=Pr.call(this,Et)),be+="/"+ct+" "+Pr,0<=k.internal.acroformPlugin.xForms.indexOf(Pr)||k.internal.acroformPlugin.xForms.push(Pr);be+=">>"}Xt.push({key:"AP",value:"<<\n"+be+">>"})}k.internal.putStream({additionalKeyValues:Xt}),k.internal.out("endobj")}Bt&&wt.call(this,k.internal.acroformPlugin.xForms)},wt=function(nt){for(var Bt in nt)if(nt.hasOwnProperty(Bt)){var ct=Bt,Et=nt[Bt];k.internal.newObjectDeferredBegin(Et&&Et.objId,!0),"object"===Me(Et)&&"function"==typeof Et.putStream&&Et.putStream(),delete nt[ct]}},Ut=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||!1===this.internal.acroformPlugin.isInitialized)){if(k=this,S.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(ne)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");N=k.internal.scaleFactor,k.internal.acroformPlugin.acroFormDictionaryRoot=new ot,k.internal.acroformPlugin.acroFormDictionaryRoot._eventID=k.internal.events.subscribe("postPutResources",ht),k.internal.events.subscribe("buildDocument",bt),k.internal.events.subscribe("putCatalog",qt),k.internal.events.subscribe("postPutPages",st),k.internal.acroformPlugin.isInitialized=!0}},mt=p.__acroform__.arrayToPdfArray=function(nt){if(Array.isArray(nt)){for(var Bt="[",ct=0;ct<nt.length;ct++)switch(0!==ct&&(Bt+=" "),Me(nt[ct])){case"boolean":case"number":case"object":Bt+=nt[ct].toString();break;case"string":"/"!==nt[ct].substr(0,1)?Bt+="("+U(nt[ct].toString())+")":Bt+=nt[ct].toString()}return Bt+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},lt=function(nt){return(nt=nt||"").toString(),"("+U(nt)+")"},H=function(){var nt;Object.defineProperty(this,"objId",{configurable:!0,get:function(){if(nt||(nt=k.internal.newObjectDeferred()),!nt)throw new Error("AcroFormPDFObject: Couldn't create Object ID");return nt},set:function(Bt){nt=Bt}})};H.prototype.toString=function(){return this.objId+" 0 R"},H.prototype.putStream=function(){var nt=this.getKeyValueListForStream();k.internal.putStream({data:this.stream,additionalKeyValues:nt}),k.internal.out("endobj")},H.prototype.getKeyValueListForStream=function(){return function(nt){var Bt=[],ct=Object.getOwnPropertyNames(nt).filter(function(Fe){return"content"!=Fe&&"appearanceStreamContent"!=Fe&&"_"!=Fe.substring(0,1)});for(var Et in ct)if(!1===Object.getOwnPropertyDescriptor(nt,ct[Et]).configurable){var Xt=ct[Et],ee=nt[Xt];ee&&(Array.isArray(ee)?Bt.push({key:Xt,value:mt(ee)}):ee instanceof H?Bt.push({key:Xt,value:ee.objId+" 0 R"}):"function"!=typeof ee&&Bt.push({key:Xt,value:ee}))}return Bt}(this)};var $=function(){H.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writeable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writeable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writeable:!0});var nt,Bt=[];Object.defineProperty(this,"BBox",{configurable:!1,writeable:!0,get:function(){return Bt},set:function(ct){Bt=ct}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writeable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(ct){nt=ct.trim()},get:function(){return nt||null}})};P($,H);var ot=function(){H.call(this);var nt,Bt=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return 0<Bt.length?Bt:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return Bt}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(nt)return"("+nt+")"},set:function(ct){nt=ct}})};P(ot,H);var S=function nt(){H.call(this);var Bt=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return Bt},set:function(Te){if(isNaN(Te))throw new Error('Invalid value "'+Te+'" for attribute F supplied.');Bt=Te}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(Bt,3))},set:function(Te){this.F=!0===Boolean(Te)?at(Bt,3):ft(Bt,3)}});var ct=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return ct},set:function(Te){if(isNaN(Te))throw new Error('Invalid value "'+Te+'" for attribute Ff supplied.');ct=Te}});var Et=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==Et.length)return Et},set:function(Te){Et=void 0!==Te?Te:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!Et||isNaN(Et[0])?0:pt(Et[0])},set:function(Te){Et[0]=dt(Te)}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!Et||isNaN(Et[1])?0:pt(Et[1])},set:function(Te){Et[1]=dt(Te)}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!Et||isNaN(Et[2])?0:pt(Et[2])},set:function(Te){Et[2]=dt(Te)}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!Et||isNaN(Et[3])?0:pt(Et[3])},set:function(Te){Et[3]=dt(Te)}});var Xt="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Xt},set:function(Te){switch(Te){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Xt=Te;break;default:throw new Error('Invalid value "'+Te+'" for attribute FT supplied.')}}});var ee=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!ee||ee.length<1){if(this instanceof le)return;ee="FieldObject"+nt.FieldNum++}return"("+U(ee)+")"},set:function(Te){ee=Te.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return ee},set:function(Te){ee=Te}});var Fe="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Fe},set:function(Te){Fe=Te}});var be="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return be},set:function(Te){be=Te}});var Ir=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return pt(Ir)},set:function(Te){Ir=dt(Te)}});var $e=50;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return pt($e)},set:function(Te){$e=dt(Te)}});var Pr="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Pr},set:function(Te){Pr=Te}});var Ar="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Ar||this instanceof le||this instanceof Jt))return lt(Ar)},set:function(Te){Te=Te.toString(),Ar=Te}});var fr=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(fr)return this instanceof tt?fr:lt(fr)},set:function(Te){Te=Te.toString(),fr=this instanceof tt?Te:"("===Te.substr(0,1)?x(Te.substr(1,Te.length-2)):x(Te)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof tt?x(fr.substr(1,fr.length-1)):fr},set:function(Te){Te=Te.toString(),fr=this instanceof tt?"/"+Te:Te}});var pr=null;Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(pr)return this instanceof tt?pr:lt(pr)},set:function(Te){Te=Te.toString(),pr=this instanceof tt?Te:"("===Te.substr(0,1)?x(Te.substr(1,Te.length-2)):x(Te)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof tt?x(pr.substr(1,pr.length-1)):pr},set:function(Te){Te=Te.toString(),pr=this instanceof tt?"/"+Te:Te}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ln,un=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return un},set:function(Te){Te=Boolean(Te),un=Te}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writeable:!0,get:function(){if(ln)return ln},set:function(Te){ln=Te}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,1))},set:function(Te){this.Ff=!0===Boolean(Te)?at(this.Ff,1):ft(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,2))},set:function(Te){this.Ff=!0===Boolean(Te)?at(this.Ff,2):ft(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,3))},set:function(Te){this.Ff=!0===Boolean(Te)?at(this.Ff,3):ft(this.Ff,3)}});var Qr=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==Qr)return Qr},set:function(Te){if(-1===[0,1,2].indexOf(Te))throw new Error('Invalid value "'+Te+'" for attribute Q supplied.');Qr=Te}}),Object.defineProperty(this,"textAlign",{get:function(){var Te="left";switch(Qr){case 0:default:Te="left";break;case 1:Te="center";break;case 2:Te="right"}return Te},configurable:!0,enumerable:!0,set:function(Te){switch(Te){case"right":case 2:Qr=2;break;case"center":case 1:Qr=1;break;default:Qr=0}}})};P(S,H);var V=function(){S.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var nt=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return nt},set:function(ct){nt=ct}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return nt},set:function(ct){nt=ct}});var Bt=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mt(Bt)},set:function(ct){var Et,Xt;Xt=[],"string"==typeof(Et=ct)&&(Xt=function(ee,Fe,be){be||(be=1);for(var Ir,$e=[];Ir=Fe.exec(ee);)$e.push(Ir[be]);return $e}(Et,/\((.*?)\)/g)),Bt=Xt}}),this.getOptions=function(){return Bt},this.setOptions=function(ct){Bt=ct,this.sort&&Bt.sort()},this.addOption=function(ct){ct=(ct=ct||"").toString(),Bt.push(ct),this.sort&&Bt.sort()},this.removeOption=function(ct,Et){for(Et=Et||!1,ct=(ct=ct||"").toString();-1!==Bt.indexOf(ct)&&(Bt.splice(Bt.indexOf(ct),1),!1!==Et););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,18))},set:function(ct){this.Ff=!0===Boolean(ct)?at(this.Ff,18):ft(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,19))},set:function(ct){!0===this.combo&&(this.Ff=!0===Boolean(ct)?at(this.Ff,19):ft(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,20))},set:function(ct){!0===Boolean(ct)?(this.Ff=at(this.Ff,20),Bt.sort()):this.Ff=ft(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,22))},set:function(ct){this.Ff=!0===Boolean(ct)?at(this.Ff,22):ft(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,23))},set:function(ct){this.Ff=!0===Boolean(ct)?at(this.Ff,23):ft(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,27))},set:function(ct){this.Ff=!0===Boolean(ct)?at(this.Ff,27):ft(this.Ff,27)}}),this.hasAppearanceStream=!1};P(V,S);var rt=function(){V.call(this),this.fontName="helvetica",this.combo=!1};P(rt,V);var it=function(){rt.call(this),this.combo=!0};P(it,rt);var gt=function(){it.call(this),this.edit=!0};P(gt,it);var tt=function(){S.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,15))},set:function(ct){this.Ff=!0===Boolean(ct)?at(this.Ff,15):ft(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,16))},set:function(ct){this.Ff=!0===Boolean(ct)?at(this.Ff,16):ft(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,17))},set:function(ct){this.Ff=!0===Boolean(ct)?at(this.Ff,17):ft(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,26))},set:function(ct){this.Ff=!0===Boolean(ct)?at(this.Ff,26):ft(this.Ff,26)}});var nt,Bt={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){if(0!==Object.keys(Bt).length){var ct,Et=[];for(ct in Et.push("<<"),Bt)Et.push("/"+ct+" ("+Bt[ct]+")");return Et.push(">>"),Et.join("\n")}},set:function(ct){"object"===Me(ct)&&(Bt=ct)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Bt.CA||""},set:function(ct){"string"==typeof ct&&(Bt.CA=ct)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return nt},set:function(ct){nt=ct}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return nt.substr(1,nt.length-1)},set:function(ct){nt="/"+ct}})};P(tt,S);var kt=function(){tt.call(this),this.pushButton=!0};P(kt,tt);var Yt=function(){tt.call(this),this.radio=!0,this.pushButton=!1;var nt=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return nt},set:function(Bt){nt=void 0!==Bt?Bt:[]}})};P(Yt,tt);var le=function(){var nt,Bt;S.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return nt},set:function(Xt){nt=Xt}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return Bt},set:function(Xt){Bt=Xt}});var ct,Et={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Xt,ee=[];for(Xt in ee.push("<<"),Et)ee.push("/"+Xt+" ("+Et[Xt]+")");return ee.push(">>"),ee.join("\n")},set:function(Xt){"object"===Me(Xt)&&(Et=Xt)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Et.CA||""},set:function(Xt){"string"==typeof Xt&&(Et.CA=Xt)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return ct},set:function(Xt){ct=Xt}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return ct.substr(1,ct.length-1)},set:function(Xt){ct="/"+Xt}}),this.optionName=name,this.caption="l",this.appearanceState="Off",this._AppearanceType=Ae.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(name)};P(le,S),Yt.prototype.setAppearance=function(nt){if(!("createAppearanceStream"in nt)||!("getCA"in nt))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var Bt in this.Kids)if(this.Kids.hasOwnProperty(Bt)){var ct=this.Kids[Bt];ct.appearanceStreamContent=nt.createAppearanceStream(ct.optionName),ct.caption=nt.getCA()}},Yt.prototype.createOption=function(nt){var Bt=new le;return Bt.Parent=this,Bt.optionName=nt,this.Kids.push(Bt),De.call(this,Bt),Bt};var we=function(){tt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ae.CheckBox.createAppearanceStream()};P(we,tt);var Jt=function(){S.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,13))},set:function(Bt){this.Ff=!0===Boolean(Bt)?at(this.Ff,13):ft(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,21))},set:function(Bt){this.Ff=!0===Boolean(Bt)?at(this.Ff,21):ft(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,23))},set:function(Bt){this.Ff=!0===Boolean(Bt)?at(this.Ff,23):ft(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,24))},set:function(Bt){this.Ff=!0===Boolean(Bt)?at(this.Ff,24):ft(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,25))},set:function(Bt){this.Ff=!0===Boolean(Bt)?at(this.Ff,25):ft(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,26))},set:function(Bt){this.Ff=!0===Boolean(Bt)?at(this.Ff,26):ft(this.Ff,26)}});var nt=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return nt},set:function(Bt){nt=Bt}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return nt},set:function(Bt){Number.isInteger(Bt)&&(nt=Bt)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};P(Jt,S);var de=function(){Jt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Z(this.Ff,14))},set:function(nt){this.Ff=!0===Boolean(nt)?at(this.Ff,14):ft(this.Ff,14)}}),this.password=!0};P(de,Jt);var Ae={CheckBox:{createAppearanceStream:function(){return{N:{On:Ae.CheckBox.YesNormal},D:{On:Ae.CheckBox.YesPushDown,Off:Ae.CheckBox.OffPushDown}}},YesPushDown:function(nt){var Bt=Tt(nt),ct=[],Et=k.internal.getFont(nt.fontName,nt.fontStyle).id,Xt=k.__private__.encodeColorString(nt.color),ee=Nt(nt,nt.caption);return ct.push("0.749023 g"),ct.push("0 0 "+M(Ae.internal.getWidth(nt))+" "+M(Ae.internal.getHeight(nt))+" re"),ct.push("f"),ct.push("BMC"),ct.push("q"),ct.push("0 0 1 rg"),ct.push("/"+Et+" "+M(ee.fontSize)+" Tf "+Xt),ct.push("BT"),ct.push(ee.text),ct.push("ET"),ct.push("Q"),ct.push("EMC"),Bt.stream=ct.join("\n"),Bt},YesNormal:function(nt){var Bt=Tt(nt),ct=k.internal.getFont(nt.fontName,nt.fontStyle).id,Et=k.__private__.encodeColorString(nt.color),Xt=[],ee=Ae.internal.getHeight(nt),Fe=Ae.internal.getWidth(nt),be=Nt(nt,nt.caption);return Xt.push("1 g"),Xt.push("0 0 "+M(Fe)+" "+M(ee)+" re"),Xt.push("f"),Xt.push("q"),Xt.push("0 0 1 rg"),Xt.push("0 0 "+M(Fe-1)+" "+M(ee-1)+" re"),Xt.push("W"),Xt.push("n"),Xt.push("0 g"),Xt.push("BT"),Xt.push("/"+ct+" "+M(be.fontSize)+" Tf "+Et),Xt.push(be.text),Xt.push("ET"),Xt.push("Q"),Bt.stream=Xt.join("\n"),Bt},OffPushDown:function(nt){var Bt=Tt(nt),ct=[];return ct.push("0.749023 g"),ct.push("0 0 "+M(Ae.internal.getWidth(nt))+" "+M(Ae.internal.getHeight(nt))+" re"),ct.push("f"),Bt.stream=ct.join("\n"),Bt}},RadioButton:{Circle:{createAppearanceStream:function(nt){var Bt={D:{Off:Ae.RadioButton.Circle.OffPushDown},N:{}};return Bt.N[nt]=Ae.RadioButton.Circle.YesNormal,Bt.D[nt]=Ae.RadioButton.Circle.YesPushDown,Bt},getCA:function(){return"l"},YesNormal:function(nt){var Bt=Tt(nt),ct=[],Et=Ae.internal.getWidth(nt)<=Ae.internal.getHeight(nt)?Ae.internal.getWidth(nt)/4:Ae.internal.getHeight(nt)/4;Et=Number((.9*Et).toFixed(5));var ee=Number((Et*Ae.internal.Bezier_C).toFixed(5));return ct.push("q"),ct.push("1 0 0 1 "+q(Ae.internal.getWidth(nt)/2)+" "+q(Ae.internal.getHeight(nt)/2)+" cm"),ct.push(Et+" 0 m"),ct.push(Et+" "+ee+" "+ee+" "+Et+" 0 "+Et+" c"),ct.push("-"+ee+" "+Et+" -"+Et+" "+ee+" -"+Et+" 0 c"),ct.push("-"+Et+" -"+ee+" -"+ee+" -"+Et+" 0 -"+Et+" c"),ct.push(ee+" -"+Et+" "+Et+" -"+ee+" "+Et+" 0 c"),ct.push("f"),ct.push("Q"),Bt.stream=ct.join("\n"),Bt},YesPushDown:function(nt){var Bt=Tt(nt),ct=[],Et=Ae.internal.getWidth(nt)<=Ae.internal.getHeight(nt)?Ae.internal.getWidth(nt)/4:Ae.internal.getHeight(nt)/4,Xt=(Et=Number((.9*Et).toFixed(5)),Number((2*Et).toFixed(5))),ee=Number((Xt*Ae.internal.Bezier_C).toFixed(5)),Fe=Number((Et*Ae.internal.Bezier_C).toFixed(5));return ct.push("0.749023 g"),ct.push("q"),ct.push("1 0 0 1 "+q(Ae.internal.getWidth(nt)/2)+" "+q(Ae.internal.getHeight(nt)/2)+" cm"),ct.push(Xt+" 0 m"),ct.push(Xt+" "+ee+" "+ee+" "+Xt+" 0 "+Xt+" c"),ct.push("-"+ee+" "+Xt+" -"+Xt+" "+ee+" -"+Xt+" 0 c"),ct.push("-"+Xt+" -"+ee+" -"+ee+" -"+Xt+" 0 -"+Xt+" c"),ct.push(ee+" -"+Xt+" "+Xt+" -"+ee+" "+Xt+" 0 c"),ct.push("f"),ct.push("Q"),ct.push("0 g"),ct.push("q"),ct.push("1 0 0 1 "+q(Ae.internal.getWidth(nt)/2)+" "+q(Ae.internal.getHeight(nt)/2)+" cm"),ct.push(Et+" 0 m"),ct.push(Et+" "+Fe+" "+Fe+" "+Et+" 0 "+Et+" c"),ct.push("-"+Fe+" "+Et+" -"+Et+" "+Fe+" -"+Et+" 0 c"),ct.push("-"+Et+" -"+Fe+" -"+Fe+" -"+Et+" 0 -"+Et+" c"),ct.push(Fe+" -"+Et+" "+Et+" -"+Fe+" "+Et+" 0 c"),ct.push("f"),ct.push("Q"),Bt.stream=ct.join("\n"),Bt},OffPushDown:function(nt){var Bt=Tt(nt),ct=[],Et=Ae.internal.getWidth(nt)<=Ae.internal.getHeight(nt)?Ae.internal.getWidth(nt)/4:Ae.internal.getHeight(nt)/4,Xt=(Et=Number((.9*Et).toFixed(5)),Number((2*Et).toFixed(5))),ee=Number((Xt*Ae.internal.Bezier_C).toFixed(5));return ct.push("0.749023 g"),ct.push("q"),ct.push("1 0 0 1 "+q(Ae.internal.getWidth(nt)/2)+" "+q(Ae.internal.getHeight(nt)/2)+" cm"),ct.push(Xt+" 0 m"),ct.push(Xt+" "+ee+" "+ee+" "+Xt+" 0 "+Xt+" c"),ct.push("-"+ee+" "+Xt+" -"+Xt+" "+ee+" -"+Xt+" 0 c"),ct.push("-"+Xt+" -"+ee+" -"+ee+" -"+Xt+" 0 -"+Xt+" c"),ct.push(ee+" -"+Xt+" "+Xt+" -"+ee+" "+Xt+" 0 c"),ct.push("f"),ct.push("Q"),Bt.stream=ct.join("\n"),Bt}},Cross:{createAppearanceStream:function(nt){var Bt={D:{Off:Ae.RadioButton.Cross.OffPushDown},N:{}};return Bt.N[nt]=Ae.RadioButton.Cross.YesNormal,Bt.D[nt]=Ae.RadioButton.Cross.YesPushDown,Bt},getCA:function(){return"8"},YesNormal:function(nt){var Bt=Tt(nt),ct=[],Et=Ae.internal.calculateCross(nt);return ct.push("q"),ct.push("1 1 "+M(Ae.internal.getWidth(nt)-2)+" "+M(Ae.internal.getHeight(nt)-2)+" re"),ct.push("W"),ct.push("n"),ct.push(M(Et.x1.x)+" "+M(Et.x1.y)+" m"),ct.push(M(Et.x2.x)+" "+M(Et.x2.y)+" l"),ct.push(M(Et.x4.x)+" "+M(Et.x4.y)+" m"),ct.push(M(Et.x3.x)+" "+M(Et.x3.y)+" l"),ct.push("s"),ct.push("Q"),Bt.stream=ct.join("\n"),Bt},YesPushDown:function(nt){var Bt=Tt(nt),ct=Ae.internal.calculateCross(nt),Et=[];return Et.push("0.749023 g"),Et.push("0 0 "+M(Ae.internal.getWidth(nt))+" "+M(Ae.internal.getHeight(nt))+" re"),Et.push("f"),Et.push("q"),Et.push("1 1 "+M(Ae.internal.getWidth(nt)-2)+" "+M(Ae.internal.getHeight(nt)-2)+" re"),Et.push("W"),Et.push("n"),Et.push(M(ct.x1.x)+" "+M(ct.x1.y)+" m"),Et.push(M(ct.x2.x)+" "+M(ct.x2.y)+" l"),Et.push(M(ct.x4.x)+" "+M(ct.x4.y)+" m"),Et.push(M(ct.x3.x)+" "+M(ct.x3.y)+" l"),Et.push("s"),Et.push("Q"),Bt.stream=Et.join("\n"),Bt},OffPushDown:function(nt){var Bt=Tt(nt),ct=[];return ct.push("0.749023 g"),ct.push("0 0 "+M(Ae.internal.getWidth(nt))+" "+M(Ae.internal.getHeight(nt))+" re"),ct.push("f"),Bt.stream=ct.join("\n"),Bt}}},createDefaultAppearanceStream:function(nt){var Bt=k.internal.getFont(nt.fontName,nt.fontStyle).id,ct=k.__private__.encodeColorString(nt.color);return"/"+Bt+" "+nt.fontSize+" Tf "+ct}};Ae.internal={Bezier_C:.551915024494,calculateCross:function(nt){var Bt=Ae.internal.getWidth(nt),ct=Ae.internal.getHeight(nt),Et=Math.min(Bt,ct);return{x1:{x:(Bt-Et)/2,y:(ct-Et)/2+Et},x2:{x:(Bt-Et)/2+Et,y:(ct-Et)/2},x3:{x:(Bt-Et)/2,y:(ct-Et)/2},x4:{x:(Bt-Et)/2+Et,y:(ct-Et)/2+Et}}}},Ae.internal.getWidth=function(nt){var Bt=0;return"object"===Me(nt)&&(Bt=dt(nt.Rect[2])),Bt},Ae.internal.getHeight=function(nt){var Bt=0;return"object"===Me(nt)&&(Bt=dt(nt.Rect[3])),Bt};var De=p.addField=function(nt){if(Ut.call(this),!(nt instanceof S))throw new Error("Invalid argument passed to jsPDF.addField.");return function(Bt){k.internal.acroformPlugin.printedOut&&(k.internal.acroformPlugin.printedOut=!1,k.internal.acroformPlugin.acroFormDictionaryRoot=null),k.internal.acroformPlugin.acroFormDictionaryRoot||Ut.call(k),k.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(Bt)}.call(this,nt),nt.page=k.internal.getCurrentPageInfo().pageNumber,this};p.addButton=function(nt){if(!(nt instanceof tt))throw new Error("Invalid argument passed to jsPDF.addButton.");return De.call(this,nt)},p.addTextField=function(nt){if(!(nt instanceof Jt))throw new Error("Invalid argument passed to jsPDF.addTextField.");return De.call(this,nt)},p.addChoiceField=function(nt){if(!(nt instanceof V))throw new Error("Invalid argument passed to jsPDF.addChoiceField.");return De.call(this,nt)},"object"==Me(C)&&void 0===C.ChoiceField&&void 0===C.ListBox&&void 0===C.ComboBox&&void 0===C.EditBox&&void 0===C.Button&&void 0===C.PushButton&&void 0===C.RadioButton&&void 0===C.CheckBox&&void 0===C.TextField&&void 0===C.PasswordField?(C.ChoiceField=V,C.ListBox=rt,C.ComboBox=it,C.EditBox=gt,C.Button=tt,C.PushButton=kt,C.RadioButton=Yt,C.CheckBox=we,C.TextField=Jt,C.PasswordField=de,C.AcroForm={Appearance:Ae}):console.warn("AcroForm-Classes are not populated into global-namespace, because the class-Names exist already."),p.AcroFormChoiceField=V,p.AcroFormListBox=rt,p.AcroFormComboBox=it,p.AcroFormEditBox=gt,p.AcroFormButton=tt,p.AcroFormPushButton=kt,p.AcroFormRadioButton=Yt,p.AcroFormCheckBox=we,p.AcroFormTextField=Jt,p.AcroFormPasswordField=de,p.AcroFormAppearance=Ae,p.AcroForm={ChoiceField:V,ListBox:rt,ComboBox:it,EditBox:gt,Button:tt,PushButton:kt,RadioButton:Yt,CheckBox:we,TextField:Jt,PasswordField:de,Appearance:Ae}})((window.tmp=en).API,typeof window<"u"&&window||typeof global<"u"&&global),
/** @license
     * jsPDF addImage plugin
     * Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/
     *               2013 Chris Dowling, https://github.com/gingerchris
     *               2013 Trinh Ho, https://github.com/ineedfat
     *               2013 Edwin Alejandro Perez, https://github.com/eaparango
     *               2013 Norah Smith, https://github.com/burnburnrocket
     *               2014 Diego Casorran, https://github.com/diegocr
     *               2014 James Robb, https://github.com/jamesbrobb
     *
     * 
     */
function(p){var C="addImage_",k={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},N=p.getImageFileTypeByImageData=function(T,G){var W,Z;G=G||"UNKNOWN";var at,ft,It,Mt="UNKNOWN";for(It in p.isArrayBufferView(T)&&(T=p.arrayBufferToBinaryString(T)),k)for(at=k[It],W=0;W<at.length;W+=1){for(ft=!0,Z=0;Z<at[W].length;Z+=1)if(void 0!==at[W][Z]&&at[W][Z]!==T.charCodeAt(Z)){ft=!1;break}if(!0===ft){Mt=It;break}}return"UNKNOWN"===Mt&&"UNKNOWN"!==G&&(console.warn('FileType of Image not recognized. Processing image as "'+G+'".'),Mt=G),Mt},U=function T(G){for(var W=this.internal.newObject(),Z=this.internal.write,at=this.internal.putStream,ft=(0,this.internal.getFilters)();-1!==ft.indexOf("FlateEncode");)ft.splice(ft.indexOf("FlateEncode"),1);G.n=W;var It=[];if(It.push({key:"Type",value:"/XObject"}),It.push({key:"Subtype",value:"/Image"}),It.push({key:"Width",value:G.w}),It.push({key:"Height",value:G.h}),G.cs===this.color_spaces.INDEXED?It.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.pal.length/3-1)+" "+("smask"in G?W+2:W+1)+" 0 R]"}):(It.push({key:"ColorSpace",value:"/"+G.cs}),G.cs===this.color_spaces.DEVICE_CMYK&&It.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),It.push({key:"BitsPerComponent",value:G.bpc}),"dp"in G&&It.push({key:"DecodeParms",value:"<<"+G.dp+">>"}),"trns"in G&&G.trns.constructor==Array){for(var Mt="",Nt=0,oe=G.trns.length;Nt<oe;Nt++)Mt+=G.trns[Nt]+" "+G.trns[Nt]+" ";It.push({key:"Mask",value:"["+Mt+"]"})}if("smask"in G&&It.push({key:"SMask",value:W+1+" 0 R"}),at({data:G.data,additionalKeyValues:It,alreadyAppliedFilters:void 0!==G.f?["/"+G.f]:void 0}),Z("endobj"),"smask"in G){var J={w:G.w,h:G.h,cs:"DeviceGray",bpc:G.bpc,dp:"/Predictor "+G.p+" /Colors 1 /BitsPerComponent "+G.bpc+" /Columns "+G.w,data:G.smask};"f"in G&&(J.f=G.f),T.call(this,J)}G.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),at({data:this.arrayBufferToBinaryString(new Uint8Array(G.pal))}),Z("endobj"))},x=function(){var T=this.internal.collections[C+"images"];for(var G in T)U.call(this,T[G])},M=function(){var T,G=this.internal.collections[C+"images"],W=this.internal.write;for(var Z in G)W("/I"+(T=G[Z]).i,T.n,"0","R")},q=function(T){return"function"==typeof p["process"+T.toUpperCase()]},P=function(T){return"object"===Me(T)&&1===T.nodeType},dt=function(T,G){if("IMG"===T.nodeName&&T.hasAttribute("src")){var W=""+T.getAttribute("src");if(0===W.indexOf("data:image/"))return unescape(W);var Z=p.loadFile(W);if(void 0!==Z)return btoa(Z)}if("CANVAS"===T.nodeName){var at=T;return T.toDataURL("image/jpeg",1)}(at=document.createElement("canvas")).width=T.clientWidth||T.width,at.height=T.clientHeight||T.height;var ft=at.getContext("2d");if(!ft)throw"addImage requires canvas to be supported by browser.";return ft.drawImage(T,0,0,at.width,at.height),at.toDataURL("png"==(""+G).toLowerCase()?"image/png":"image/jpeg")},pt=function(T,G){var W;if(G)for(var Z in G)if(T===G[Z].alias){W=G[Z];break}return W};p.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},p.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},p.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},p.sHashCode=function(T){var G,W=0;if(0===(T=T||"").length)return W;for(G=0;G<T.length;G++)W=(W<<5)-W+T.charCodeAt(G),W|=0;return W},p.isString=function(T){return"string"==typeof T},p.validateStringAsBase64=function(T){(T=T||"").toString().trim();var G=!0;return 0===T.length&&(G=!1),T.length%4!=0&&(G=!1),!1===/^[A-Za-z0-9+\/]+$/.test(T.substr(0,T.length-2))&&(G=!1),!1===/^[A-Za-z0-9\/][A-Za-z0-9+\/]|[A-Za-z0-9+\/]=|==$/.test(T.substr(-2))&&(G=!1),G},p.extractInfoFromBase64DataURI=function(T){return/^data:([\w]+?\/([\w]+?));\S*;*base64,(.+)$/g.exec(T)},p.extractImageFromDataUrl=function(T){var G=(T=T||"").split("base64,"),W=null;if(2===G.length){var Z=/^data:(\w*\/\w*);*(charset=[\w=-]*)*;*$/.exec(G[0]);Array.isArray(Z)&&(W={mimeType:Z[1],charset:Z[2],data:G[1]})}return W},p.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"},p.isArrayBuffer=function(T){return!!this.supportsArrayBuffer()&&T instanceof ArrayBuffer},p.isArrayBufferView=function(T){return!!this.supportsArrayBuffer()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},p.binaryStringToUint8Array=function(T){for(var G=T.length,W=new Uint8Array(G),Z=0;Z<G;Z++)W[Z]=T.charCodeAt(Z);return W},p.arrayBufferToBinaryString=function(T){if("function"==typeof atob)return atob(this.arrayBufferToBase64(T))},p.arrayBufferToBase64=function(T){for(var G,W="",Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",at=new Uint8Array(T),ft=at.byteLength,It=ft%3,Mt=ft-It,Nt=0;Nt<Mt;Nt+=3)W+=Z[(16515072&(G=at[Nt]<<16|at[Nt+1]<<8|at[Nt+2]))>>18]+Z[(258048&G)>>12]+Z[(4032&G)>>6]+Z[63&G];return 1==It?W+=Z[(252&(G=at[Mt]))>>2]+Z[(3&G)<<4]+"==":2==It&&(W+=Z[(64512&(G=at[Mt]<<8|at[Mt+1]))>>10]+Z[(1008&G)>>4]+Z[(15&G)<<2]+"="),W},p.createImageInfo=function(T,G,W,Z,at,ft,It,Mt,Nt,oe,ne,bt,J){var qt={alias:Mt,w:G,h:W,cs:Z,bpc:at,i:It,data:T};return ft&&(qt.f=ft),Nt&&(qt.dp=Nt),oe&&(qt.trns=oe),ne&&(qt.pal=ne),bt&&(qt.smask=bt),J&&(qt.p=J),qt},p.addImage=function(T,G,W,Z,at,ft,It,Mt,Nt){var oe="";if("string"!=typeof G){var ne=ft;ft=at,at=Z,Z=W,W=G,G=ne}if("object"===Me(T)&&!P(T)&&"imageData"in T){var bt=T;T=bt.imageData,G=bt.format||G||"UNKNOWN",W=bt.x||W||0,Z=bt.y||Z||0,at=bt.w||at,ft=bt.h||ft,It=bt.alias||It,Mt=bt.compression||Mt,Nt=bt.rotation||bt.angle||Nt}var J=this.internal.getFilters();if(void 0===Mt&&-1!==J.indexOf("FlateEncode")&&(Mt="SLOW"),"string"==typeof T&&(T=unescape(T)),isNaN(W)||isNaN(Z))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var qt,ht,st,wt,Ut,mt,lt,H=function(){var $=this.internal.collections[C+"images"];return $||(this.internal.collections[C+"images"]=$={},this.internal.events.subscribe("putResources",x),this.internal.events.subscribe("putXobjectDict",M)),$}.call(this);if(!((qt=pt(T,H))||(P(T)&&(T=dt(T,G)),(null==(lt=It)||0===lt.length)&&(It="string"==typeof(mt=T)?p.sHashCode(mt):p.isArrayBufferView(mt)?p.sHashCode(p.arrayBufferToBinaryString(mt)):null),qt=pt(It,H)))){if(this.isString(T)&&(""!==(oe=this.convertStringToImageData(T))||void 0!==(oe=p.loadFile(T)))&&(T=oe),G=this.getImageFileTypeByImageData(T,G),!q(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(this.supportsArrayBuffer()&&(T instanceof Uint8Array||(ht=T,T=this.binaryStringToUint8Array(T))),!(qt=this["process"+G.toUpperCase()](T,(Ut=0,(wt=H)&&(Ut=Object.keys?Object.keys(wt).length:function($){var ot=0;for(var S in $)$.hasOwnProperty(S)&&ot++;return ot}(wt)),Ut),It,((st=Mt)&&"string"==typeof st&&(st=st.toUpperCase()),st in p.image_compression?st:p.image_compression.NONE),ht)))throw new Error("An unknown error occurred whilst processing the image")}return function($,ot,S,V,rt,it,gt,tt){var kt=function(De,nt,Bt){return De||nt||(nt=De=-96),De<0&&(De=-1*Bt.w*72/De/this.internal.scaleFactor),nt<0&&(nt=-1*Bt.h*72/nt/this.internal.scaleFactor),0===De&&(De=nt*Bt.w/Bt.h),0===nt&&(nt=De*Bt.h/Bt.w),[De,nt]}.call(this,S,V,rt),Yt=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString;if(S=kt[0],V=kt[1],gt[it]=rt,tt){tt*=Math.PI/180;var we=Math.cos(tt),Jt=Math.sin(tt),de=function(De){return De.toFixed(4)},Ae=[de(we),de(Jt),de(-1*Jt),de(we),0,0,"cm"]}this.internal.write("q"),tt?(this.internal.write([1,"0","0",1,Yt($),le(ot+V),"cm"].join(" ")),this.internal.write(Ae.join(" ")),this.internal.write([Yt(S),"0","0",Yt(V),"0","0","cm"].join(" "))):this.internal.write([Yt(S),"0","0",Yt(V),Yt($),le(ot+V),"cm"].join(" ")),this.internal.write("/I"+rt.i+" Do"),this.internal.write("Q")}.call(this,W,Z,at,ft,qt,qt.i,H,Nt),this},p.convertStringToImageData=function(T){var G,W="";if(this.isString(T)){var Z;G=null!==(Z=this.extractImageFromDataUrl(T))?Z.data:T;try{W=atob(G)}catch(at){throw p.validateStringAsBase64(G)?new Error("atob-Error in jsPDF.convertStringToImageData "+at.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertStringToImageData ")}}return W};var Tt=function(T,G){return T.subarray(G,G+5)};p.processJPEG=function(T,G,W,Z,at,ft){var It,Mt=this.decode.DCT_DECODE;if(!this.isString(T)&&!this.isArrayBuffer(T)&&!this.isArrayBufferView(T))return null;if(this.isString(T)&&(It=function(Nt){var oe;if("JPEG"!==N(Nt))throw new Error("getJpegSize requires a binary string jpeg file");for(var ne=256*Nt.charCodeAt(4)+Nt.charCodeAt(5),bt=4,J=Nt.length;bt<J;){if(255!==Nt.charCodeAt(bt+=ne))throw new Error("getJpegSize could not find the size of the image");if(192===Nt.charCodeAt(bt+1)||193===Nt.charCodeAt(bt+1)||194===Nt.charCodeAt(bt+1)||195===Nt.charCodeAt(bt+1)||196===Nt.charCodeAt(bt+1)||197===Nt.charCodeAt(bt+1)||198===Nt.charCodeAt(bt+1)||199===Nt.charCodeAt(bt+1))return oe=256*Nt.charCodeAt(bt+5)+Nt.charCodeAt(bt+6),[256*Nt.charCodeAt(bt+7)+Nt.charCodeAt(bt+8),oe,Nt.charCodeAt(bt+9)];ne=256*Nt.charCodeAt(bt+=2)+Nt.charCodeAt(bt+1)}}(T)),this.isArrayBuffer(T)&&(T=new Uint8Array(T)),this.isArrayBufferView(T)&&(It=function(Nt){if(65496!=(Nt[0]<<8|Nt[1]))throw new Error("Supplied data is not a JPEG");for(var oe,ne=Nt.length,bt=(Nt[4]<<8)+Nt[5],J=4;J<ne;){if(bt=((oe=Tt(Nt,J+=bt))[2]<<8)+oe[3],(192===oe[1]||194===oe[1])&&255===oe[0]&&7<bt)return{width:((oe=Tt(Nt,J+5))[2]<<8)+oe[3],height:(oe[0]<<8)+oe[1],numcomponents:oe[4]};J+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(T),T=at||this.arrayBufferToBinaryString(T)),void 0===ft)switch(It.numcomponents){case 1:ft=this.color_spaces.DEVICE_GRAY;break;case 4:ft=this.color_spaces.DEVICE_CMYK;break;default:ft=this.color_spaces.DEVICE_RGB}return this.createImageInfo(T,It.width,It.height,ft,8,Mt,G,W)},p.processJPG=function(){return this.processJPEG.apply(this,arguments)},p.getImageProperties=function(T){var G,W,Z="";if(P(T)&&(T=dt(T)),this.isString(T)&&(""!==(Z=this.convertStringToImageData(T))||void 0!==(Z=p.loadFile(T)))&&(T=Z),W=this.getImageFileTypeByImageData(T),!q(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(this.supportsArrayBuffer()&&(T instanceof Uint8Array||(T=this.binaryStringToUint8Array(T))),!(G=this["process"+W.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return{fileType:W,width:G.w,height:G.h,colorSpace:G.cs,compressionMode:G.f,bitsPerComponent:G.bpc}}}(en.API),
/**
     * @license
     * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
     *
     * Licensed under the MIT License.
     * http://opensource.org/licenses/mit-license
     */
Hr=en.API,en.API.events.push(["addPage",function(p){this.internal.getPageInfo(p.pageNumber).pageContext.annotations=[]}]),Hr.events.push(["putPage",function(p){for(var C=this.internal.getPageInfoByObjId(p.objId),k=p.pageContext.annotations,N=function(It){if(void 0!==It&&""!=It)return!0},U=!1,x=0;x<k.length&&!U;x++)switch((P=k[x]).type){case"link":if(N(P.options.url)||N(P.options.pageNumber)){U=!0;break}case"reference":case"text":case"freetext":U=!0}if(0!=U){this.internal.write("/Annots [");var M=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString;for(x=0;x<k.length;x++){var P;switch((P=k[x]).type){case"reference":this.internal.write(" "+P.object.objId+" 0 R ");break;case"text":var dt=this.internal.newAdditionalObject(),pt=this.internal.newAdditionalObject(),Tt=P.title||"Note";at="<</Type /Annot /Subtype /Text "+(G="/Rect ["+M(P.bounds.x)+" "+q(P.bounds.y+P.bounds.h)+" "+M(P.bounds.x+P.bounds.w)+" "+q(P.bounds.y)+"] ")+"/Contents ("+P.contents+")",at+=" /Popup "+pt.objId+" 0 R",at+=" /P "+C.objId+" 0 R",dt.content=at+=" /T ("+Tt+") >>";var T=dt.objId+" 0 R";at="<</Type /Annot /Subtype /Popup "+(G="/Rect ["+M(P.bounds.x+30)+" "+q(P.bounds.y+P.bounds.h)+" "+M(P.bounds.x+P.bounds.w+30)+" "+q(P.bounds.y)+"] ")+" /Parent "+T,P.open&&(at+=" /Open true"),pt.content=at+=" >>",this.internal.write(dt.objId,"0 R",pt.objId,"0 R");break;case"freetext":var G="/Rect ["+M(P.bounds.x)+" "+q(P.bounds.y)+" "+M(P.bounds.x+P.bounds.w)+" "+q(P.bounds.y+P.bounds.h)+"] ";at="<</Type /Annot /Subtype /FreeText "+G+"/Contents ("+P.contents+")",at+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+(P.color||"#000000")+")",at+=" /Border [0 0 0]",this.internal.write(at+=" >>");break;case"link":if(P.options.name){var Z=this.annotations._nameMap[P.options.name];P.options.pageNumber=Z.page,P.options.top=Z.y}else P.options.top||(P.options.top=0);G="/Rect ["+M(P.x)+" "+q(P.y)+" "+M(P.x+P.w)+" "+q(P.y+P.h)+"] ";var at="";if(P.options.url)at="<</Type /Annot /Subtype /Link "+G+"/Border [0 0 0] /A <</S /URI /URI ("+P.options.url+") >>";else if(P.options.pageNumber)switch(at="<</Type /Annot /Subtype /Link "+G+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(P.options.pageNumber).objId+" 0 R",P.options.magFactor=P.options.magFactor||"XYZ",P.options.magFactor){case"Fit":at+=" /Fit]";break;case"FitH":at+=" /FitH "+P.options.top+"]";break;case"FitV":P.options.left=P.options.left||0,at+=" /FitV "+P.options.left+"]";break;default:var ft=q(P.options.top);P.options.left=P.options.left||0,void 0===P.options.zoom&&(P.options.zoom=0),at+=" /XYZ "+P.options.left+" "+ft+" "+P.options.zoom+"]"}""!=at&&this.internal.write(at+=" >>")}}this.internal.write("]")}}]),Hr.createAnnotation=function(p){var C=this.internal.getCurrentPageInfo();switch(p.type){case"link":this.link(p.bounds.x,p.bounds.y,p.bounds.w,p.bounds.h,p);break;case"text":case"freetext":C.pageContext.annotations.push(p)}},Hr.link=function(p,C,k,N,U){this.internal.getCurrentPageInfo().pageContext.annotations.push({x:p,y:C,w:k,h:N,options:U,type:"link"})},Hr.textWithLink=function(p,C,k,N){var U=this.getTextWidth(p),x=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(p,C,k),this.link(C,(k+=.2*x)-x,U,x,N),U},Hr.getTextWidth=function(p){var C=this.internal.getFontSize();return this.getStringUnitWidth(p)*C/this.internal.scaleFactor},
/**
     * @license
     * Copyright (c) 2017 Aras Abbasi 
     *
     * Licensed under the MIT License.
     * http://opensource.org/licenses/mit-license
     */
function(p){var C={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},k={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},N={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},U=[1570,1571,1573,1575];p.__arabicParser__={};var x=p.__arabicParser__.isInArabicSubstitutionA=function(W){return void 0!==C[W.charCodeAt(0)]},M=p.__arabicParser__.isArabicLetter=function(W){return"string"==typeof W&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(W)},q=p.__arabicParser__.isArabicEndLetter=function(W){return M(W)&&x(W)&&C[W.charCodeAt(0)].length<=2},P=p.__arabicParser__.isArabicAlfLetter=function(W){return M(W)&&0<=U.indexOf(W.charCodeAt(0))},dt=(p.__arabicParser__.arabicLetterHasIsolatedForm=function(W){return M(W)&&x(W)&&1<=C[W.charCodeAt(0)].length},p.__arabicParser__.arabicLetterHasFinalForm=function(W){return M(W)&&x(W)&&2<=C[W.charCodeAt(0)].length}),pt=(p.__arabicParser__.arabicLetterHasInitialForm=function(W){return M(W)&&x(W)&&3<=C[W.charCodeAt(0)].length},p.__arabicParser__.arabicLetterHasMedialForm=function(W){return M(W)&&x(W)&&4==C[W.charCodeAt(0)].length}),Tt=p.__arabicParser__.resolveLigatures=function(W){var Z=0,at=k,ft=0,It="",Mt=0;for(Z=0;Z<W.length;Z+=1)void 0!==at[W.charCodeAt(Z)]?(Mt++,"number"==typeof(at=at[W.charCodeAt(Z)])&&(ft=-1!==(ft=T(W.charAt(Z),W.charAt(Z-Mt),W.charAt(Z+1)))?ft:0,It+=String.fromCharCode(at),at=k,Mt=0),Z===W.length-1&&(at=k,It+=W.charAt(Z-(Mt-1)),Z-=Mt-1,Mt=0)):(at=k,It+=W.charAt(Z-Mt),Z-=Mt,Mt=0);return It},T=(p.__arabicParser__.isArabicDiacritic=function(W){return void 0!==W&&void 0!==N[W.charCodeAt(0)]},p.__arabicParser__.getCorrectForm=function(W,Z,at){return M(W)?!1===x(W)?-1:!dt(W)||!M(Z)&&!M(at)||!M(at)&&q(Z)||q(W)&&!M(Z)||q(W)&&P(Z)||q(W)&&q(Z)?0:pt(W)&&M(Z)&&!q(Z)&&M(at)&&dt(at)?3:q(W)||!M(at)?1:2:-1}),G=p.__arabicParser__.processArabic=p.processArabic=function(W){var Z=0,at=0,ft=0,It="",Mt="",Nt="",oe=(W=W||"").split("\\s+"),ne=[];for(Z=0;Z<oe.length;Z+=1){for(ne.push(""),at=0;at<oe[Z].length;at+=1)Mt=oe[Z][at-1],Nt=oe[Z][at+1],M(It=oe[Z][at])?(ft=T(It,Mt,Nt),ne[Z]+=-1!==ft?String.fromCharCode(C[It.charCodeAt(0)][ft]):It):ne[Z]+=It;ne[Z]=Tt(ne[Z])}return ne.join(" ")};p.events.push(["preProcessText",function(W){var Z=W.text,ft=[];if("[object Array]"===Object.prototype.toString.call(Z)){var It=0;for(ft=[],It=0;It<Z.length;It+=1)"[object Array]"===Object.prototype.toString.call(Z[It])?ft.push([G(Z[It][0]),Z[It][1],Z[It][2]]):ft.push([G(Z[It])]);W.text=ft}else W.text=G(Z)}])}(en.API),en.API.autoPrint=function(p){var C;return"javascript"===((p=p||{}).variant=p.variant||"non-conform",p.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){C=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+C+" 0 R")})),this},
/**
     * @license
     * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
     *
     * Licensed under the MIT License.
     * http://opensource.org/licenses/mit-license
     */
mn=en.API,(Zr=function(){var p=void 0;Object.defineProperty(this,"pdf",{get:function(){return p},set:function(x){p=x}});var C=150;Object.defineProperty(this,"width",{get:function(){return C},set:function(x){C=isNaN(x)||!1===Number.isInteger(x)||x<0?150:x,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=C+1)}});var k=300;Object.defineProperty(this,"height",{get:function(){return k},set:function(x){k=isNaN(x)||!1===Number.isInteger(x)||x<0?300:x,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=k+1)}});var N=[];Object.defineProperty(this,"childNodes",{get:function(){return N},set:function(x){N=x}});var U={};Object.defineProperty(this,"style",{get:function(){return U},set:function(x){U=x}}),Object.defineProperty(this,"parentNode",{get:function(){return!1}})}).prototype.getContext=function(p,C){var k;if("2d"!==(p=p||"2d"))return null;for(k in C)this.pdf.context2d.hasOwnProperty(k)&&(this.pdf.context2d[k]=C[k]);return(this.pdf.context2d._canvas=this).pdf.context2d},Zr.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},mn.events.push(["initialized",function(){this.canvas=new Zr,this.canvas.pdf=this}]),Ai={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},Lr=1,Zn=function(p,C,k,N,U){Ai={x:p,y:C,w:k,h:N,ln:U}},Kr=function(){return Ai},$r={left:0,top:0,bottom:0},(
/** 
     * @license
     * ====================================================================
     * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
     *               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
     *               2013 Lee Driscoll, https://github.com/lsdriscoll
     *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
     *               2014 James Hall, james@parall.ax
     *               2014 Diego Casorran, https://github.com/diegocr
     *
     * 
     * ====================================================================
     */
jr=en.API).setHeaderFunction=function(p){Xr=p},jr.getTextDimensions=function(p,C){var k=this.table_font_size||this.internal.getFontSize(),N=(this.internal.getFont(),(C=C||{}).scaleFactor||this.internal.scaleFactor),U=0,x=0,M=0;if("string"==typeof p)0!=(U=this.getStringUnitWidth(p)*k)&&(x=1);else{if("[object Array]"!==Object.prototype.toString.call(p))throw new Error("getTextDimensions expects text-parameter to be of type String or an Array of Strings.");for(var q=0;q<p.length;q++)U<(M=this.getStringUnitWidth(p[q])*k)&&(U=M);0!==U&&(x=p.length)}return{w:U/=N,h:Math.max((x*k*this.getLineHeightFactor()-k*(this.getLineHeightFactor()-1))/N,0)}},jr.cellAddPage=function(){var p=this.margins||$r;this.addPage(),Zn(p.left,p.top,void 0,void 0),Lr+=1},jr.cellInitialize=function(){Ai={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},Lr=1},jr.cell=function(p,C,k,N,U,x,M){var q=Kr(),P=!1;if(void 0!==q.ln)if(q.ln===x)p=q.x+q.w,C=q.y;else{var dt=this.margins||$r;q.y+q.h+N+13>=this.internal.pageSize.getHeight()-dt.bottom&&(this.cellAddPage(),P=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(x,!0)),C=Kr().y+Kr().h,P&&(C=23)}if(void 0!==U[0])if(this.printingHeaderRow?this.rect(p,C,k,N,"FD"):this.rect(p,C,k,N),"right"===M){U instanceof Array||(U=[U]);for(var pt=0;pt<U.length;pt++){var Tt=U[pt],T=this.getStringUnitWidth(Tt)*this.internal.getFontSize()/this.internal.scaleFactor;this.text(Tt,p+k-T-3,C+this.internal.getLineHeight()*(pt+1))}}else this.text(U,p+3,C+this.internal.getLineHeight());return Zn(p,C,k,N,x),this},jr.arrayMax=function(p,C){var k,N,U,x=p[0];for(k=0,N=p.length;k<N;k+=1)U=p[k],C?-1===C(x,U)&&(x=U):x<U&&(x=U);return x},jr.table=function(p,C,k,N,U){if(!k)throw"No data for PDF table";var x,M,q,P,pt,Tt,T,G,W,Z=[],at=[],ft={},It={},Mt=[],Nt=[],oe=!1,ne=!0,bt=12,J=$r;if(J.width=this.internal.pageSize.getWidth(),U&&(!0===U.autoSize&&(oe=!0),!1===U.printHeaders&&(ne=!1),U.fontSize&&(bt=U.fontSize),U.css&&void 0!==U.css["font-size"]&&(bt=16*U.css["font-size"]),U.margins&&(J=U.margins)),this.lnMod=0,Ai={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},Lr=1,this.printHeaders=ne,this.margins=J,this.setFontSize(bt),this.table_font_size=bt,null==N)Z=Object.keys(k[0]);else if(N[0]&&"string"!=typeof N[0])for(M=0,q=N.length;M<q;M+=1)Z.push((x=N[M]).name),at.push(x.prompt),It[x.name]=x.width*(19.049976/25.4);else Z=N;if(oe)for(W=function(ht){return ht[x]},M=0,q=Z.length;M<q;M+=1){for(ft[x=Z[M]]=k.map(W),Mt.push(this.getTextDimensions(at[M]||x,{scaleFactor:1}).w),Tt=0,P=(pt=ft[x]).length;Tt<P;Tt+=1)Mt.push(this.getTextDimensions(pt[Tt],{scaleFactor:1}).w);It[x]=jr.arrayMax(Mt),Mt=[]}if(ne){var qt=this.calculateLineHeight(Z,It,at.length?at:Z);for(M=0,q=Z.length;M<q;M+=1)Nt.push([p,C,It[x=Z[M]],qt,String(at.length?at[M]:x)]);this.setTableHeaderRow(Nt),this.printHeaderRow(1,!1)}for(M=0,q=k.length;M<q;M+=1)for(qt=this.calculateLineHeight(Z,It,T=k[M]),Tt=0,G=Z.length;Tt<G;Tt+=1)this.cell(p,C,It[x=Z[Tt]],qt,T[x],M+2,x.align);return this.lastCellPos=Ai,this.table_x=p,this.table_y=C,this},jr.calculateLineHeight=function(p,C,k){for(var N,U=0,x=0;x<p.length;x++){k[N=p[x]]=this.splitTextToSize(String(k[N]),C[N]-3);var M=this.internal.getLineHeight()*k[N].length+3;U<M&&(U=M)}return U},jr.setTableHeaderRow=function(p){this.tableHeaderRow=p},jr.printHeaderRow=function(p,C){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var k,N,U,x;if(this.printingHeaderRow=!0,void 0!==Xr){var M=Xr(this,Lr);Zn(M[0],M[1],M[2],M[3],-1)}this.setFontStyle("bold");var q=[];for(U=0,x=this.tableHeaderRow.length;U<x;U+=1)this.setFillColor(200,200,200),k=this.tableHeaderRow[U],C&&(this.margins.top=13,k[1]=this.margins&&this.margins.top||0,q.push(k)),N=[].concat(k),this.cell.apply(this,N.concat(p));0<q.length&&this.setTableHeaderRow(q),this.setFontStyle("normal"),this.printingHeaderRow=!1},function(p,C){var k,N,U,x,M,q=function(S){return this.isStrokeTransparent=(S=S||{}).isStrokeTransparent||!1,this.strokeOpacity=S.strokeOpacity||1,this.strokeStyle=S.strokeStyle||"#000000",this.fillStyle=S.fillStyle||"#000000",this.isFillTransparent=S.isFillTransparent||!1,this.fillOpacity=S.fillOpacity||1,this.font=S.font||"10px sans-serif",this.textBaseline=S.textBaseline||"alphabetic",this.textAlign=S.textAlign||"left",this.lineWidth=S.lineWidth||1,this.lineJoin=S.lineJoin||"miter",this.lineCap=S.lineCap||"butt",this.path=S.path||[],this.transform=void 0!==S.transform?S.transform.clone():new ot,this.globalCompositeOperation=S.globalCompositeOperation||"normal",this.globalAlpha=S.globalAlpha||1,this.clip_path=S.clip_path||[],this.currentPoint=S.currentPoint||new H,this.miterLimit=S.miterLimit||10,this.lastPoint=S.lastPoint||new H,this.ignoreClearRect="boolean"!=typeof S.ignoreClearRect||S.ignoreClearRect,this};p.events.push(["initialized",function(){this.context2d=new P(this),k=this.internal.f2,N=this.internal.getCoordinateString,U=this.internal.getVerticalCoordinateString,x=this.internal.getHorizontalCoordinate,M=this.internal.getVerticalCoordinate}]);var P=function(S){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,"pdf",{get:function(){return S}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(Jt){V=Boolean(Jt)}});var rt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return rt},set:function(Jt){rt=Boolean(Jt)}});var it=0;Object.defineProperty(this,"posX",{get:function(){return it},set:function(Jt){isNaN(Jt)||(it=Jt)}});var gt=0;Object.defineProperty(this,"posY",{get:function(){return gt},set:function(Jt){isNaN(Jt)||(gt=Jt)}});var tt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return tt},set:function(Jt){tt=Boolean(Jt)}});var kt=0;Object.defineProperty(this,"lastBreak",{get:function(){return kt},set:function(Jt){kt=Jt}});var Yt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Yt},set:function(Jt){Yt=Jt}});var le=new q;Object.defineProperty(this,"ctx",{get:function(){return le},set:function(Jt){Jt instanceof q&&(le=Jt)}}),Object.defineProperty(this,"path",{get:function(){return le.path},set:function(Jt){le.path=Jt}});var we=[];Object.defineProperty(this,"ctxStack",{get:function(){return we},set:function(Jt){we=Jt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Jt){var de;de=dt(Jt),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=0===de.a,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Jt){var de=dt(Jt);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=0===de.a,this.ctx.strokeOpacity=de.a,0===de.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(de.r,de.g,de.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Jt){-1!==["butt","round","square"].indexOf(Jt)&&(this.ctx.lineCap=Jt,this.pdf.setLineCap(Jt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Jt){isNaN(Jt)||(this.ctx.lineWidth=Jt,this.pdf.setLineWidth(Jt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Jt){-1!==["bevel","round","miter"].indexOf(Jt)&&(this.ctx.lineJoin=Jt,this.pdf.setLineJoin(Jt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Jt){isNaN(Jt)||(this.ctx.miterLimit=Jt,this.pdf.setMiterLimit(Jt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Jt){this.ctx.textBaseline=Jt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Jt){-1!==["right","end","center","left","start"].indexOf(Jt)&&(this.ctx.textAlign=Jt)}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Jt){var de;if(this.ctx.font=Jt,null!==(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Jt))){var Ae=de[1],De=de[3],nt=de[4],Bt=de[5],ct=de[6];nt=Math.floor("px"===Bt?parseFloat(nt):"em"===Bt?parseFloat(nt)*this.pdf.getFontSize():parseFloat(nt)),this.pdf.setFontSize(nt);var Et="";("bold"===De||700<=parseInt(De,10)||"bold"===Ae)&&(Et="bold"),"italic"===Ae&&(Et+="italic"),0===Et.length&&(Et="normal");for(var Xt="",ee=ct.toLowerCase().replace(/"|'/g,"").split(/\s*,\s*/),Fe={arial:"Helvetica",verdana:"Helvetica",helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",courier:"Courier",times:"Times",cursive:"Times",fantasy:"Times",serif:"Times"},be=0;be<ee.length;be++){if(void 0!==this.pdf.internal.getFont(ee[be],Et,{noFallback:!0,disableWarning:!0})){Xt=ee[be];break}if("bolditalic"===Et&&void 0!==this.pdf.internal.getFont(ee[be],"bold",{noFallback:!0,disableWarning:!0}))Xt=ee[be],Et="bold";else if(void 0!==this.pdf.internal.getFont(ee[be],"normal",{noFallback:!0,disableWarning:!0})){Xt=ee[be],Et="normal";break}}if(""===Xt)for(be=0;be<ee.length;be++)if(Fe[ee[be]]){Xt=Fe[ee[be]];break}this.pdf.setFont(Xt=""===Xt?"Times":Xt,Et)}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Jt){this.ctx.globalCompositeOperation=Jt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Jt){this.ctx.globalAlpha=Jt}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Jt){this.ctx.ignoreClearRect=Boolean(Jt)}})};P.prototype.fill=function(){Z.call(this,"fill",!1)},P.prototype.stroke=function(){Z.call(this,"stroke",!1)},P.prototype.beginPath=function(){this.path=[{type:"begin"}]},P.prototype.moveTo=function(S,V){if(isNaN(S)||isNaN(V))throw console.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var rt=this.ctx.transform.applyToPoint(new H(S,V));this.path.push({type:"mt",x:rt.x,y:rt.y}),this.ctx.lastPoint=new H(S,V)},P.prototype.closePath=function(){var S=new H(0,0),V=0;for(V=this.path.length-1;-1!==V;V--)if("begin"===this.path[V].type&&"object"===Me(this.path[V+1])&&"number"==typeof this.path[V+1].x){S=new H(this.path[V+1].x,this.path[V+1].y),this.path.push({type:"lt",x:S.x,y:S.y});break}"object"===Me(this.path[V+2])&&"number"==typeof this.path[V+2].x&&this.path.push(JSON.parse(JSON.stringify(this.path[V+2]))),this.path.push({type:"close"}),this.ctx.lastPoint=new H(S.x,S.y)},P.prototype.lineTo=function(S,V){if(isNaN(S)||isNaN(V))throw console.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var rt=this.ctx.transform.applyToPoint(new H(S,V));this.path.push({type:"lt",x:rt.x,y:rt.y}),this.ctx.lastPoint=new H(rt.x,rt.y)},P.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Z.call(this,null,!0)},P.prototype.quadraticCurveTo=function(S,V,rt,it){if(isNaN(rt)||isNaN(it)||isNaN(S)||isNaN(V))throw console.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var gt=this.ctx.transform.applyToPoint(new H(rt,it)),tt=this.ctx.transform.applyToPoint(new H(S,V));this.path.push({type:"qct",x1:tt.x,y1:tt.y,x:gt.x,y:gt.y}),this.ctx.lastPoint=new H(gt.x,gt.y)},P.prototype.bezierCurveTo=function(S,V,rt,it,gt,tt){if(isNaN(gt)||isNaN(tt)||isNaN(S)||isNaN(V)||isNaN(rt)||isNaN(it))throw console.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var kt=this.ctx.transform.applyToPoint(new H(gt,tt)),Yt=this.ctx.transform.applyToPoint(new H(S,V)),le=this.ctx.transform.applyToPoint(new H(rt,it));this.path.push({type:"bct",x1:Yt.x,y1:Yt.y,x2:le.x,y2:le.y,x:kt.x,y:kt.y}),this.ctx.lastPoint=new H(kt.x,kt.y)},P.prototype.arc=function(S,V,rt,it,gt,tt){if(isNaN(S)||isNaN(V)||isNaN(rt)||isNaN(it)||isNaN(gt))throw console.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(tt=Boolean(tt),!this.ctx.transform.isIdentity){var kt=this.ctx.transform.applyToPoint(new H(S,V));S=kt.x,V=kt.y;var Yt=this.ctx.transform.applyToPoint(new H(0,rt)),le=this.ctx.transform.applyToPoint(new H(0,0));rt=Math.sqrt(Math.pow(Yt.x-le.x,2)+Math.pow(Yt.y-le.y,2))}Math.abs(gt-it)>=2*Math.PI&&(it=0,gt=2*Math.PI),this.path.push({type:"arc",x:S,y:V,radius:rt,startAngle:it,endAngle:gt,counterclockwise:tt})},P.prototype.arcTo=function(S,V,rt,it,gt){throw new Error("arcTo not implemented.")},P.prototype.rect=function(S,V,rt,it){if(isNaN(S)||isNaN(V)||isNaN(rt)||isNaN(it))throw console.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(S,V),this.lineTo(S+rt,V),this.lineTo(S+rt,V+it),this.lineTo(S,V+it),this.lineTo(S,V),this.lineTo(S+rt,V),this.lineTo(S,V)},P.prototype.fillRect=function(S,V,rt,it){if(isNaN(S)||isNaN(V)||isNaN(rt)||isNaN(it))throw console.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!pt.call(this)){var gt={};"butt"!==this.lineCap&&(gt.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(gt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(S,V,rt,it),this.fill(),gt.hasOwnProperty("lineCap")&&(this.lineCap=gt.lineCap),gt.hasOwnProperty("lineJoin")&&(this.lineJoin=gt.lineJoin)}},P.prototype.strokeRect=function(S,V,rt,it){if(isNaN(S)||isNaN(V)||isNaN(rt)||isNaN(it))throw console.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Tt.call(this)||(this.beginPath(),this.rect(S,V,rt,it),this.stroke())},P.prototype.clearRect=function(S,V,rt,it){if(isNaN(S)||isNaN(V)||isNaN(rt)||isNaN(it))throw console.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(S,V,rt,it))},P.prototype.save=function(S){S="boolean"!=typeof S||S;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,rt=0;rt<this.pdf.internal.getNumberOfPages();rt++)this.pdf.setPage(rt+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),S){this.ctx.fontSize=this.pdf.internal.getFontSize();var it=new q(this.ctx);this.ctxStack.push(this.ctx),this.ctx=it}},P.prototype.restore=function(S){S="boolean"!=typeof S||S;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,rt=0;rt<this.pdf.internal.getNumberOfPages();rt++)this.pdf.setPage(rt+1),this.pdf.internal.out("Q");this.pdf.setPage(V),S&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},P.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var dt=function(S){var V,rt,it,gt;if(!0===S.isCanvasGradient&&(S=S.getColor()),!S)return{r:0,g:0,b:0,a:0,style:S};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(S))gt=it=rt=V=0;else{var tt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(S);if(null!==tt)V=parseInt(tt[1]),rt=parseInt(tt[2]),it=parseInt(tt[3]),gt=1;else if(null!==(tt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/.exec(S)))V=parseInt(tt[1]),rt=parseInt(tt[2]),it=parseInt(tt[3]),gt=parseFloat(tt[4]);else{if(gt=1,"string"==typeof S&&"#"!==S.charAt(0)){var kt=new RGBColor(S);S=kt.ok?kt.toHex():"#000000"}4===S.length?(V=S.substring(1,2),V+=V,rt=S.substring(2,3),rt+=rt,it=S.substring(3,4),it+=it):(V=S.substring(1,3),rt=S.substring(3,5),it=S.substring(5,7)),V=parseInt(V,16),rt=parseInt(rt,16),it=parseInt(it,16)}}return{r:V,g:rt,b:it,a:gt,style:S}},pt=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},Tt=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};P.prototype.fillText=function(S,V,rt,it){if(isNaN(V)||isNaN(rt)||"string"!=typeof S)throw console.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(it=isNaN(it)?void 0:it,!pt.call(this)){rt=ft.call(this,rt);var gt=wt(this.ctx.transform.rotation);ne.call(this,{text:S,x:V,y:rt,scale:this.ctx.transform.scaleX,angle:gt,align:this.textAlign,maxWidth:it})}},P.prototype.strokeText=function(S,V,rt,it){if(isNaN(V)||isNaN(rt)||"string"!=typeof S)throw console.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Tt.call(this)){it=isNaN(it)?void 0:it,rt=ft.call(this,rt);var gt=wt(this.ctx.transform.rotation);ne.call(this,{text:S,x:V,y:rt,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:gt,align:this.textAlign,maxWidth:it})}},P.prototype.measureText=function(S){if("string"!=typeof S)throw console.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,rt=this.pdf.internal.scaleFactor,it=V.internal.getFontSize(),gt=V.getStringUnitWidth(S)*it/V.internal.scaleFactor;return new function(tt){var kt=(tt=tt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return kt}}),this}({width:gt*=Math.round(96*rt/72*1e4)/1e4})},P.prototype.scale=function(S,V){if(isNaN(S)||isNaN(V))throw console.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var rt=new ot(S,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(rt)},P.prototype.rotate=function(S){if(isNaN(S))throw console.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new ot(Math.cos(S),Math.sin(S),-Math.sin(S),Math.cos(S),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},P.prototype.translate=function(S,V){if(isNaN(S)||isNaN(V))throw console.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var rt=new ot(1,0,0,1,S,V);this.ctx.transform=this.ctx.transform.multiply(rt)},P.prototype.transform=function(S,V,rt,it,gt,tt){if(isNaN(S)||isNaN(V)||isNaN(rt)||isNaN(it)||isNaN(gt)||isNaN(tt))throw console.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var kt=new ot(S,V,rt,it,gt,tt);this.ctx.transform=this.ctx.transform.multiply(kt)},P.prototype.setTransform=function(S,V,rt,it,gt,tt){S=isNaN(S)?1:S,V=isNaN(V)?0:V,rt=isNaN(rt)?0:rt,it=isNaN(it)?1:it,gt=isNaN(gt)?0:gt,tt=isNaN(tt)?0:tt,this.ctx.transform=new ot(S,V,rt,it,gt,tt)},P.prototype.drawImage=function(S,V,rt,it,gt,tt,kt,Yt,le){var we=this.pdf.getImageProperties(S),Jt=1,de=1,Ae=1,De=1;void 0!==it&&void 0!==Yt&&(Ae=Yt/it,De=le/gt,Jt=we.width/it*Yt/it,de=we.height/gt*le/gt),void 0===tt&&(tt=V,kt=rt,rt=V=0),void 0!==it&&void 0===Yt&&(Yt=it,le=gt),void 0===it&&void 0===Yt&&(Yt=we.width,le=we.height);for(var ct,nt=this.ctx.transform.decompose(),Bt=wt(nt.rotate.shx),Et=new ot,Xt=((Et=(Et=(Et=Et.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToPoint(new H(Yt,le)),Et.applyToRectangle(new $(tt-V*Ae,kt-rt*De,it*Jt,gt*de))),ee=T.call(this,Xt),Fe=[],be=0;be<ee.length;be+=1)-1===Fe.indexOf(ee[be])&&Fe.push(ee[be]);if(Fe.sort(),this.autoPaging)for(var $e=Fe[Fe.length-1],Pr=Fe[0];Pr<$e+1;Pr++){if(this.pdf.setPage(Pr),0!==this.ctx.clip_path.length){var Ar=this.path;ct=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(ct,this.posX,-1*this.pdf.internal.pageSize.height*(Pr-1)+this.posY),at.call(this,"fill",!0),this.path=Ar}var fr=JSON.parse(JSON.stringify(Xt));fr=W([fr],this.posX,-1*this.pdf.internal.pageSize.height*(Pr-1)+this.posY)[0],this.pdf.addImage(S,"jpg",fr.x,fr.y,fr.w,fr.h,null,null,Bt)}else this.pdf.addImage(S,"jpg",Xt.x,Xt.y,Xt.w,Xt.h,null,null,Bt)};var T=function(S,V,rt){var it=[];switch(V=V||this.pdf.internal.pageSize.width,rt=rt||this.pdf.internal.pageSize.height,S.type){default:case"mt":case"lt":it.push(Math.floor((S.y+this.posY)/rt)+1);break;case"arc":it.push(Math.floor((S.y+this.posY-S.radius)/rt)+1),it.push(Math.floor((S.y+this.posY+S.radius)/rt)+1);break;case"qct":var gt=mt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x,S.y);it.push(Math.floor(gt.y/rt)+1),it.push(Math.floor((gt.y+gt.h)/rt)+1);break;case"bct":var tt=lt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x2,S.y2,S.x,S.y);it.push(Math.floor(tt.y/rt)+1),it.push(Math.floor((tt.y+tt.h)/rt)+1);break;case"rect":it.push(Math.floor((S.y+this.posY)/rt)+1),it.push(Math.floor((S.y+S.h+this.posY)/rt)+1)}for(var kt=0;kt<it.length;kt+=1)for(;this.pdf.internal.getNumberOfPages()<it[kt];)G.call(this);return it},G=function(){var S=this.fillStyle,V=this.strokeStyle,rt=this.font,it=this.lineCap,gt=this.lineWidth,tt=this.lineJoin;this.pdf.addPage(),this.fillStyle=S,this.strokeStyle=V,this.font=rt,this.lineCap=it,this.lineWidth=gt,this.lineJoin=tt},W=function(S,V,rt){for(var it=0;it<S.length;it++)switch(S[it].type){case"bct":S[it].x2+=V,S[it].y2+=rt;case"qct":S[it].x1+=V,S[it].y1+=rt;default:S[it].x+=V,S[it].y+=rt}return S},Z=function(S,V){for(var rt,it,gt=this.fillStyle,tt=this.strokeStyle,kt=this.lineCap,Yt=this.lineWidth,le=this.lineJoin,we=JSON.parse(JSON.stringify(this.path)),Jt=JSON.parse(JSON.stringify(this.path)),de=[],Ae=0;Ae<Jt.length;Ae++)if(void 0!==Jt[Ae].x)for(var De=T.call(this,Jt[Ae]),nt=0;nt<De.length;nt+=1)-1===de.indexOf(De[nt])&&de.push(De[nt]);for(Ae=0;Ae<de.length;Ae++)for(;this.pdf.internal.getNumberOfPages()<de[Ae];)G.call(this);if(de.sort(),this.autoPaging){var ct=de[de.length-1];for(Ae=de[0];Ae<ct+1;Ae++){if(this.pdf.setPage(Ae),this.fillStyle=gt,this.strokeStyle=tt,this.lineCap=kt,this.lineWidth=Yt,this.lineJoin=le,0!==this.ctx.clip_path.length){var Et=this.path;rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(rt,this.posX,-1*this.pdf.internal.pageSize.height*(Ae-1)+this.posY),at.call(this,S,!0),this.path=Et}it=JSON.parse(JSON.stringify(we)),this.path=W(it,this.posX,-1*this.pdf.internal.pageSize.height*(Ae-1)+this.posY),!1!==V&&0!==Ae||at.call(this,S,V)}}else at.call(this,S,V);this.path=we},at=function(S,V){if(("stroke"!==S||V||!Tt.call(this))&&("stroke"===S||V||!pt.call(this))){for(var it,rt=[],gt=this.path,tt=0;tt<gt.length;tt++){var kt=gt[tt];switch(kt.type){case"begin":rt.push({begin:!0});break;case"close":rt.push({close:!0});break;case"mt":rt.push({start:kt,deltas:[],abs:[]});break;case"lt":var Yt=rt.length;if(!isNaN(gt[tt-1].x)){var le=[kt.x-gt[tt-1].x,kt.y-gt[tt-1].y];if(0<Yt)for(;0<=Yt;Yt--)if(!0!==rt[Yt-1].close&&!0!==rt[Yt-1].begin){rt[Yt-1].deltas.push(le),rt[Yt-1].abs.push(kt);break}}break;case"bct":rt[rt.length-1].deltas.push(le=[kt.x1-gt[tt-1].x,kt.y1-gt[tt-1].y,kt.x2-gt[tt-1].x,kt.y2-gt[tt-1].y,kt.x-gt[tt-1].x,kt.y-gt[tt-1].y]);break;case"qct":rt[rt.length-1].deltas.push(le=[gt[tt-1].x+2/3*(kt.x1-gt[tt-1].x)-gt[tt-1].x,gt[tt-1].y+2/3*(kt.y1-gt[tt-1].y)-gt[tt-1].y,kt.x+2/3*(kt.x1-kt.x)-gt[tt-1].x,kt.y+2/3*(kt.y1-kt.y)-gt[tt-1].y,kt.x-gt[tt-1].x,kt.y-gt[tt-1].y]);break;case"arc":rt.push({deltas:[],abs:[],arc:!0}),Array.isArray(rt[rt.length-1].abs)&&rt[rt.length-1].abs.push(kt)}}for(it=V?null:"stroke"===S?"stroke":"fill",tt=0;tt<rt.length;tt++){if(rt[tt].arc)for(var Bt=rt[tt].abs,ct=0;ct<Bt.length;ct++){var Et=Bt[ct];if(void 0!==Et.startAngle){var Xt=wt(Et.startAngle),ee=wt(Et.endAngle),Fe=Et.x,be=Et.y;It.call(this,Fe,be,Et.radius,Xt,ee,Et.counterclockwise,it,V)}else bt.call(this,Et.x,Et.y)}!rt[tt].arc&&!0!==rt[tt].close&&!0!==rt[tt].begin&&J.call(this,rt[tt].deltas,Fe=rt[tt].start.x,be=rt[tt].start.y,null,null)}it&&Mt.call(this,it),V&&Nt.call(this)}},ft=function(S){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,rt=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return S-rt;case"top":return S+V-rt;case"hanging":return S+V-2*rt;case"middle":return S+V/2-rt;default:return S}};P.prototype.createLinearGradient=function(){var S=function(){};return S.colorStops=[],S.addColorStop=function(V,rt){this.colorStops.push([V,rt])},S.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},S.isCanvasGradient=!0,S},P.prototype.createPattern=function(){return this.createLinearGradient()},P.prototype.createRadialGradient=function(){return this.createLinearGradient()};var It=function(S,V,rt,it,gt,tt,kt,Yt){for(var le=Ut(it),we=Ut(gt),Jt=ht.call(this,rt,le,we,tt),de=0;de<Jt.length;de++){var Ae=Jt[de];0===de&&oe.call(this,Ae.x1+S,Ae.y1+V),qt.call(this,S,V,Ae.x2,Ae.y2,Ae.x3,Ae.y3,Ae.x4,Ae.y4)}Yt?Nt.call(this):Mt.call(this,kt)},Mt=function(S){switch(S){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Nt=function(){this.pdf.clip()},oe=function(S,V){this.pdf.internal.out(N(S)+" "+U(V)+" m")},ne=function(S){var V;switch(S.align){case"right":case"end":V="right";break;case"center":V="center";break;default:V="left"}var rt=this.ctx.transform.applyToPoint(new H(S.x,S.y)),it=this.ctx.transform.decompose(),gt=new ot;gt=(gt=(gt=gt.multiply(it.translate)).multiply(it.skew)).multiply(it.scale);for(var tt,kt=this.pdf.getTextDimensions(S.text),Yt=this.ctx.transform.applyToRectangle(new $(S.x,S.y,kt.w,kt.h)),le=gt.applyToRectangle(new $(S.x,S.y-kt.h,kt.w,kt.h)),we=T.call(this,le),Jt=[],de=0;de<we.length;de+=1)-1===Jt.indexOf(we[de])&&Jt.push(we[de]);if(Jt.sort(),!0===this.autoPaging)for(var De=Jt[Jt.length-1],nt=Jt[0];nt<De+1;nt++){if(this.pdf.setPage(nt),0!==this.ctx.clip_path.length){var Bt=this.path;tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=W(tt,this.posX,-1*this.pdf.internal.pageSize.height*(nt-1)+this.posY),at.call(this,"fill",!0),this.path=Bt}var ct=JSON.parse(JSON.stringify(Yt));if(ct=W([ct],this.posX,-1*this.pdf.internal.pageSize.height*(nt-1)+this.posY)[0],.01<=S.scale){var Et=this.pdf.internal.getFontSize();this.pdf.setFontSize(Et*S.scale)}this.pdf.text(S.text,ct.x,ct.y,{angle:S.angle,align:V,renderingMode:S.renderingMode,maxWidth:S.maxWidth}),.01<=S.scale&&this.pdf.setFontSize(Et)}else.01<=S.scale&&(Et=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Et*S.scale)),this.pdf.text(S.text,rt.x+this.posX,rt.y+this.posY,{angle:S.angle,align:V,renderingMode:S.renderingMode,maxWidth:S.maxWidth}),.01<=S.scale&&this.pdf.setFontSize(Et)},bt=function(S,V,rt,it){it=it||0,this.pdf.internal.out(N(S+(rt=rt||0))+" "+U(V+it)+" l")},J=function(S,V,rt){return this.pdf.lines(S,V,rt,null,null)},qt=function(S,V,rt,it,gt,tt,kt,Yt){this.pdf.internal.out([k(x(rt+S)),k(M(it+V)),k(x(gt+S)),k(M(tt+V)),k(x(kt+S)),k(M(Yt+V)),"c"].join(" "))},ht=function(S,V,rt,it){var gt=2*Math.PI,tt=V;(tt<gt||gt<tt)&&(tt%=gt);var kt=rt;(kt<gt||gt<kt)&&(kt%=gt);for(var Yt=[],le=Math.PI/2,we=it?-1:1,Jt=V,de=Math.min(gt,Math.abs(kt-tt));1e-5<de;){var Ae=Jt+we*Math.min(de,le);Yt.push(st.call(this,S,Jt,Ae)),de-=Math.abs(Ae-Jt),Jt=Ae}return Yt},st=function(S,V,rt){var it=(rt-V)/2,gt=S*Math.cos(it),tt=S*Math.sin(it),kt=gt,Yt=-tt,le=kt*kt+Yt*Yt,we=le+kt*gt+Yt*tt,Jt=4/3*(Math.sqrt(2*le*we)-we)/(kt*tt-Yt*gt),de=kt-Jt*Yt,Ae=Yt+Jt*kt,De=de,nt=-Ae,Bt=it+V,ct=Math.cos(Bt),Et=Math.sin(Bt);return{x1:S*Math.cos(V),y1:S*Math.sin(V),x2:de*ct-Ae*Et,y2:de*Et+Ae*ct,x3:De*ct-nt*Et,y3:De*Et+nt*ct,x4:S*Math.cos(rt),y4:S*Math.sin(rt)}},wt=function(S){return 180*S/Math.PI},Ut=function(S){return S*Math.PI/180},mt=function(S,V,rt,it,gt,tt){var kt=S+.5*(rt-S),Yt=V+.5*(it-V),le=gt+.5*(rt-gt),we=tt+.5*(it-tt),Jt=Math.min(S,gt,kt,le),de=Math.max(S,gt,kt,le),Ae=Math.min(V,tt,Yt,we),De=Math.max(V,tt,Yt,we);return new $(Jt,Ae,de-Jt,De-Ae)},lt=function(S,V,rt,it,gt,tt,kt,Yt){for(var le,we,Jt,de,Ae,De,nt,Bt,ct,Et,Xt,ee,Fe,be=rt-S,Ir=it-V,$e=gt-rt,Pr=tt-it,Ar=kt-gt,fr=Yt-tt,pr=0;pr<41;pr++)Bt=(De=(we=S+(le=pr/40)*be)+le*((de=rt+le*$e)-we))+le*(de+le*(gt+le*Ar-de)-De),ct=(nt=(Jt=V+le*Ir)+le*((Ae=it+le*Pr)-Jt))+le*(Ae+le*(tt+le*fr-Ae)-nt),Fe=0==pr?(ee=Et=Bt,Xt=ct):(Et=Math.min(Et,Bt),Xt=Math.min(Xt,ct),ee=Math.max(ee,Bt),Math.max(Fe,ct));return new $(Math.round(Et),Math.round(Xt),Math.round(ee-Et),Math.round(Fe-Xt))},H=function(S,V){var rt=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return rt},set:function(tt){isNaN(tt)||(rt=parseFloat(tt))}});var it=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return it},set:function(tt){isNaN(tt)||(it=parseFloat(tt))}});var gt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return gt},set:function(tt){gt=tt.toString()}}),this},$=function(S,V,rt,it){H.call(this,S,V),this.type="rect";var gt=rt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return gt},set:function(kt){isNaN(kt)||(gt=parseFloat(kt))}});var tt=it||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return tt},set:function(kt){isNaN(kt)||(tt=parseFloat(kt))}}),this},ot=function(S,V,rt,it,gt,tt){var kt=[];return Object.defineProperty(this,"sx",{get:function(){return kt[0]},set:function(Yt){kt[0]=Math.round(1e5*Yt)/1e5}}),Object.defineProperty(this,"shy",{get:function(){return kt[1]},set:function(Yt){kt[1]=Math.round(1e5*Yt)/1e5}}),Object.defineProperty(this,"shx",{get:function(){return kt[2]},set:function(Yt){kt[2]=Math.round(1e5*Yt)/1e5}}),Object.defineProperty(this,"sy",{get:function(){return kt[3]},set:function(Yt){kt[3]=Math.round(1e5*Yt)/1e5}}),Object.defineProperty(this,"tx",{get:function(){return kt[4]},set:function(Yt){kt[4]=Math.round(1e5*Yt)/1e5}}),Object.defineProperty(this,"ty",{get:function(){return kt[5]},set:function(Yt){kt[5]=Math.round(1e5*Yt)/1e5}}),Object.defineProperty(this,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(this,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(this,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(this,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),this.sx=isNaN(S)?1:S,this.shy=isNaN(V)?0:V,this.shx=isNaN(rt)?0:rt,this.sy=isNaN(it)?1:it,this.tx=isNaN(gt)?0:gt,this.ty=isNaN(tt)?0:tt,this};ot.prototype.multiply=function(S){return new ot(S.sx*this.sx+S.shy*this.shx,S.sx*this.shy+S.shy*this.sy,S.shx*this.sx+S.sy*this.shx,S.shx*this.shy+S.sy*this.sy,S.tx*this.sx+S.ty*this.shx+this.tx,S.tx*this.shy+S.ty*this.sy+this.ty)},ot.prototype.decompose=function(){var S=this.sx,V=this.shy,rt=this.shx,it=this.sy,gt=this.tx,tt=this.ty,kt=Math.sqrt(S*S+V*V),Yt=(S/=kt)*rt+(V/=kt)*it;rt-=S*Yt,it-=V*Yt;var le=Math.sqrt(rt*rt+it*it);return Yt/=le,S*(it/=le)<V*(rt/=le)&&(S=-S,V=-V,Yt=-Yt,kt=-kt),{scale:new ot(kt,0,0,le,0,0),translate:new ot(1,0,0,1,gt,tt),rotate:new ot(S,V,-V,S,0,0),skew:new ot(1,0,Yt,1,0,0)}},ot.prototype.applyToPoint=function(S){return new H(S.x*this.sx+S.y*this.shx+this.tx,S.x*this.shy+S.y*this.sy+this.ty)},ot.prototype.applyToRectangle=function(S){var V=this.applyToPoint(S),rt=this.applyToPoint(new H(S.x+S.w,S.y+S.h));return new $(V.x,V.y,rt.x-V.x,rt.y-V.y)},ot.prototype.clone=function(){return new ot(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)}}(en.API,typeof self<"u"&&self||typeof window<"u"&&window||typeof global<"u"&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),tn=function(p){var C,k,N,U,x,M,q,P,dt,pt;for(/[^\x00-\xFF]/.test(p),k=[],N=0,U=(p+=C="\0\0\0\0".slice(p.length%4||4)).length;N<U;N+=4)0!==(x=(p.charCodeAt(N)<<24)+(p.charCodeAt(N+1)<<16)+(p.charCodeAt(N+2)<<8)+p.charCodeAt(N+3))?(M=(x=((x=((x=((x=(x-(pt=x%85))/85)-(dt=x%85))/85)-(P=x%85))/85)-(q=x%85))/85)%85,k.push(M+33,q+33,P+33,dt+33,pt+33)):k.push(122);return function(Tt,T){for(var G=C.length;0<G;G--)Tt.pop()}(k),String.fromCharCode.apply(String,k)+"~>"},mr=function(p){var C,k,N,U,x,M=String,q="length",P="charCodeAt",dt="slice",pt="replace";for(p[dt](-2),p=p[dt](0,-2)[pt](/\s/g,"")[pt]("z","!!!!!"),N=[],U=0,x=(p+=C="uuuuu"[dt](p[q]%5||5))[q];U<x;U+=5)k=52200625*(p[P](U)-33)+614125*(p[P](U+1)-33)+7225*(p[P](U+2)-33)+85*(p[P](U+3)-33)+(p[P](U+4)-33),N.push(255&k>>24,255&k>>16,255&k>>8,255&k);return function(Tt,T){for(var G=C[q];0<G;G--)Tt.pop()}(N),M.fromCharCode.apply(M,N)},Dr=function(p){for(var C="",k=0;k<p.length;k+=1)C+=("0"+p.charCodeAt(k).toString(16)).slice(-2);return C+">"},Rn=function(p){var C=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(p=p.replace(/\s/g,"")).indexOf(">")&&(p=p.substr(0,p.indexOf(">"))),p.length%2&&(p+="0"),!1===C.test(p))return"";for(var k="",N=0;N<p.length;N+=2)k+=String.fromCharCode("0x"+(p[N]+p[N+1]));return k},kr=function(p,C){C=Object.assign({predictor:1,colors:1,bitsPerComponent:8,columns:1},C);for(var k,N,U=[],x=p.length;x--;)U[x]=p.charCodeAt(x);return k=Ki.adler32cs.from(p),(N=new Deflater(6)).append(new Uint8Array(U)),p=N.flush(),(U=new Uint8Array(p.length+6)).set(new Uint8Array([120,156])),U.set(p,2),U.set(new Uint8Array([255&k,k>>8&255,k>>16&255,k>>24&255]),p.length+2),String.fromCharCode.apply(null,U)},(Ki=en.API).processDataByFilters=function(p,C){var k=0,N=p||"",U=[];for("string"==typeof(C=C||[])&&(C=[C]),k=0;k<C.length;k+=1)switch(C[k]){case"ASCII85Decode":case"/ASCII85Decode":N=mr(N),U.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":N=tn(N),U.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":N=Rn(N),U.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":N=Dr(N),U.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":N=kr(N),U.push("/FlateDecode");break;default:throw'The filter: "'+C[k]+'" is not implemented'}return{data:N,reverseChain:U.reverse().join(" ")}},(Ni=en.API).loadFile=function(p,C,k){var N;C=C||!0,k=k||function(){};try{N=function(U,x,M){var q=new XMLHttpRequest,P=[],dt=0,pt=function(Tt){var T=Tt.length,G=String.fromCharCode;for(dt=0;dt<T;dt+=1)P.push(G(255&Tt.charCodeAt(dt)));return P.join("")};if(q.open("GET",U,!x),q.overrideMimeType("text/plain; charset=x-user-defined"),!1===x&&(q.onload=function(){return pt(this.responseText)}),q.send(null),200===q.status)return x?pt(q.responseText):void 0;console.warn('Unable to load file "'+U+'"')}(p,C)}catch{N=void 0}return N},Ni.loadImageFile=Ni.loadFile,xi=en.API,Pn=typeof window<"u"&&window||typeof global<"u"&&global,HA=function(p){var C=Me(p);return"undefined"===C?"undefined":"string"===C||p instanceof String?"string":"number"===C||p instanceof Number?"number":"function"===C||p instanceof Function?"function":p&&p.constructor===Array?"array":p&&1===p.nodeType?"element":"object"===C?"object":"unknown"},zi=function(p,C){var k=document.createElement(p);if(C.className&&(k.className=C.className),C.innerHTML){k.innerHTML=C.innerHTML;for(var N=k.getElementsByTagName("script"),U=N.length;0<U--;null)N[U].parentNode.removeChild(N[U])}for(var x in C.style)k.style[x]=C.style[x];return k},(((L=function p(C){var k=Object.assign(p.convert(Promise.resolve()),JSON.parse(JSON.stringify(p.template))),N=p.convert(Promise.resolve(),k);return(N=N.setProgress(1,p,1,[p])).set(C)}).prototype=Object.create(Promise.prototype)).constructor=L).convert=function(p,C){return p.__proto__=C||L.prototype,p},L.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{}}},L.prototype.from=function(p,C){return this.then(function(){switch(C=C||function(k){switch(HA(k)){case"string":return"string";case"element":return"canvas"===k.nodeName.toLowerCase?"canvas":"element";default:return"unknown"}}(p)){case"string":return this.set({src:zi("div",{innerHTML:p})});case"element":return this.set({src:p});case"canvas":return this.set({canvas:p});case"img":return this.set({img:p});default:return this.error("Unknown source type.")}})},L.prototype.to=function(p){switch(p){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},L.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var p={position:"relative",display:"inline-block",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:"white"},C=function k(N,U){for(var x=3===N.nodeType?document.createTextNode(N.nodeValue):N.cloneNode(!1),M=N.firstChild;M;M=M.nextSibling)!0!==U&&1===M.nodeType&&"SCRIPT"===M.nodeName||x.appendChild(k(M,U));return 1===N.nodeType&&("CANVAS"===N.nodeName?(x.width=N.width,x.height=N.height,x.getContext("2d").drawImage(N,0,0)):"TEXTAREA"!==N.nodeName&&"SELECT"!==N.nodeName||(x.value=N.value),x.addEventListener("load",function(){x.scrollTop=N.scrollTop,x.scrollLeft=N.scrollLeft},!0)),x}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===C.tagName&&(p.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=zi("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=zi("div",{className:"html2pdf__container",style:p}),this.prop.container.appendChild(C),this.prop.container.firstChild.appendChild(zi("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},L.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(function(){var C=Object.assign({},this.opt.html2canvas);if(delete C.onrendered,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,C)}).then(function(C){(this.opt.html2canvas.onrendered||function(){})(C),this.prop.canvas=C,document.body.removeChild(this.prop.overlay)})},L.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(function(){var C=this.opt.jsPDF,k=Object.assign({async:!0,allowTaint:!0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete k.onrendered,C.context2d.autoPaging=!0,C.context2d.posX=this.opt.x,C.context2d.posY=this.opt.y,k.windowHeight=k.windowHeight||0,k.windowHeight=0==k.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):k.windowHeight,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,k)}).then(function(C){(this.opt.html2canvas.onrendered||function(){})(C),this.prop.canvas=C,document.body.removeChild(this.prop.overlay)})},L.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var p=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=p})},L.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},L.prototype.output=function(p,C,k){return"img"===(k=k||"pdf").toLowerCase()||"image"===k.toLowerCase()?this.outputImg(p,C):this.outputPdf(p,C)},L.prototype.outputPdf=function(p,C){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(p,C)})},L.prototype.outputImg=function(p,C){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(p){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+p+'" is not supported.'}})},L.prototype.isHtml2CanvasLoaded=function(){var p=void 0!==Pn.html2canvas;return p||console.error("html2canvas not loaded."),p},L.prototype.save=function(p){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(p?{filename:p}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},L.prototype.doCallback=function(p){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},L.prototype.set=function(p){if("object"!==HA(p))return this;var C=Object.keys(p||{}).map(function(k){if(k in L.template.prop)return function(){this.prop[k]=p[k]};switch(k){case"margin":return this.setMargin.bind(this,p.margin);case"jsPDF":return function(){return this.opt.jsPDF=p.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,p.pageSize);default:return function(){this.opt[k]=p[k]}}},this);return this.then(function(){return this.thenList(C)})},L.prototype.get=function(p,C){return this.then(function(){var k=p in L.template.prop?this.prop[p]:this.opt[p];return C?C(k):k})},L.prototype.setMargin=function(p){return this.then(function(){switch(HA(p)){case"number":p=[p,p,p,p];case"array":if(2===p.length&&(p=[p[0],p[1],p[0],p[1]]),4===p.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=p}).then(this.setPageSize)},L.prototype.setPageSize=function(p){function C(k,N){return Math.floor(k*N/72*96)}return this.then(function(){(p=p||en.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(p.inner={width:p.width-this.opt.margin[1]-this.opt.margin[3],height:p.height-this.opt.margin[0]-this.opt.margin[2]},p.inner.px={width:C(p.inner.width,p.k),height:C(p.inner.height,p.k)},p.inner.ratio=p.inner.height/p.inner.width),this.prop.pageSize=p})},L.prototype.setProgress=function(p,C,k,N){return null!=p&&(this.progress.val=p),null!=C&&(this.progress.state=C),null!=k&&(this.progress.n=k),null!=N&&(this.progress.stack=N),this.progress.ratio=this.progress.val/this.progress.state,this},L.prototype.updateProgress=function(p,C,k,N){return this.setProgress(p?this.progress.val+p:null,C||null,k?this.progress.n+k:null,N?this.progress.stack.concat(N):null)},L.prototype.then=function(p,C){var k=this;return this.thenCore(p,C,function(N,U){return k.updateProgress(null,null,1,[N]),Promise.prototype.then.call(this,function(x){return k.updateProgress(null,N),x}).then(N,U).then(function(x){return k.updateProgress(1),x})})},L.prototype.thenCore=function(p,C,k){k=k||Promise.prototype.then;var N=this;p&&(p=p.bind(N)),C&&(C=C.bind(N));var U=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?N:L.convert(Object.assign({},N),Promise.prototype),x=k.call(U,p,C);return L.convert(x,N.__proto__)},L.prototype.thenExternal=function(p,C){return Promise.prototype.then.call(this,p,C)},L.prototype.thenList=function(p){var C=this;return p.forEach(function(k){C=C.thenCore(k)}),C},L.prototype.catch=function(p){p&&(p=p.bind(this));var C=Promise.prototype.catch.call(this,p);return L.convert(C,this)},L.prototype.catchExternal=function(p){return Promise.prototype.catch.call(this,p)},L.prototype.error=function(p){return this.then(function(){throw new Error(p)})},L.prototype.using=L.prototype.set,L.prototype.saveAs=L.prototype.save,L.prototype.export=L.prototype.output,L.prototype.run=L.prototype.then,en.getPageSize=function(p,C,k){if("object"===Me(p)){var N=p;p=N.orientation,C=N.unit||C,k=N.format||k}C=C||"mm",k=k||"a4",p=(""+(p||"P")).toLowerCase();var U=(""+k).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(C){case"pt":var M=1;break;case"mm":M=72/25.4;break;case"cm":M=72/2.54;break;case"in":M=72;break;case"px":M=.75;break;case"pc":case"em":M=12;break;case"ex":M=6;break;default:throw"Invalid unit: "+C}if(x.hasOwnProperty(U))var q=x[U][1]/M,P=x[U][0]/M;else try{q=k[1],P=k[0]}catch{throw new Error("Invalid format: "+k)}if("p"===p||"portrait"===p){if(p="p",q<P){var dt=P;P=q,q=dt}}else{if("l"!==p&&"landscape"!==p)throw"Invalid orientation: "+p;p="l",P<q&&(dt=P,P=q,q=dt)}return{width:P,height:q,unit:C,k:M}},xi.html=function(p,C){(C=C||{}).callback=C.callback||function(){},C.html2canvas=C.html2canvas||{},C.html2canvas.canvas=C.html2canvas.canvas||this.canvas,C.jsPDF=C.jsPDF||this;var k=new L(C);return C.worker?k:k.from(p).doCallback()},en.API.addJS=function(p){return _i=p,this.internal.events.subscribe("postPutResources",function(C){pA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(pA+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ke=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_i+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==pA&&void 0!==ke&&this.internal.out("/Names <</JavaScript "+pA+" 0 R>>")}),this},
/**
     * @license
     * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
     *
     * Licensed under the MIT License.
     * http://opensource.org/licenses/mit-license
     */
(ki=en.API).events.push(["postPutResources",function(){var p=this,C=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var k=p.outline.render().split(/\r\n/),N=0;N<k.length;N++){var U=k[N],x=C.exec(U);null!=x&&p.internal.newObjectDeferredBegin(x[1],!1),p.internal.write(U)}if(this.outline.createNamedDestinations){var q=this.internal.pages.length,P=[];for(N=0;N<q;N++){var dt=p.internal.newObject();P.push(dt);var pt=p.internal.getPageInfo(N+1);p.internal.write("<< /D["+pt.objId+" 0 R /XYZ null null null]>> endobj")}var Tt=p.internal.newObject();for(p.internal.write("<< /Names [ "),N=0;N<P.length;N++)p.internal.write("(page_"+(N+1)+")"+P[N]+" 0 R");p.internal.write(" ] >>","endobj"),p.internal.newObject(),p.internal.write("<< /Dests "+Tt+" 0 R"),p.internal.write(">>","endobj")}}]),ki.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]),ki.events.push(["initialized",function(){var p=this;p.outline={createNamedDestinations:!1,root:{children:[]}},p.outline.add=function(C,k,N){var U={title:k,options:N,children:[]};return null==C&&(C=this.root),C.children.push(U),U},p.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=p,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},p.outline.genIds_r=function(C){C.id=p.internal.newObjectDeferred();for(var k=0;k<C.children.length;k++)this.genIds_r(C.children[k])},p.outline.renderRoot=function(C){this.objStart(C),this.line("/Type /Outlines"),0<C.children.length&&(this.line("/First "+this.makeRef(C.children[0])),this.line("/Last "+this.makeRef(C.children[C.children.length-1]))),this.line("/Count "+this.count_r({count:0},C)),this.objEnd()},p.outline.renderItems=function(C){for(var k=this.ctx.pdf.internal.getVerticalCoordinateString,N=0;N<C.children.length;N++){var U=C.children[N];this.objStart(U),this.line("/Title "+this.makeString(U.title)),this.line("/Parent "+this.makeRef(C)),0<N&&this.line("/Prev "+this.makeRef(C.children[N-1])),N<C.children.length-1&&this.line("/Next "+this.makeRef(C.children[N+1])),0<U.children.length&&(this.line("/First "+this.makeRef(U.children[0])),this.line("/Last "+this.makeRef(U.children[U.children.length-1])));var x=this.count=this.count_r({count:0},U);if(0<x&&this.line("/Count "+x),U.options&&U.options.pageNumber){var M=p.internal.getPageInfo(U.options.pageNumber);this.line("/Dest ["+M.objId+" 0 R /XYZ 0 "+k(0)+" 0]")}this.objEnd()}for(N=0;N<C.children.length;N++)this.renderItems(U=C.children[N])},p.outline.line=function(C){this.ctx.val+=C+"\r\n"},p.outline.makeRef=function(C){return C.id+" 0 R"},p.outline.makeString=function(C){return"("+p.internal.pdfEscape(C)+")"},p.outline.objStart=function(C){this.ctx.val+="\r\n"+C.id+" 0 obj\r\n<<\r\n"},p.outline.objEnd=function(C){this.ctx.val+=">> \r\nendobj\r\n"},p.outline.count_r=function(C,k){for(var N=0;N<k.children.length;N++)C.count++,this.count_r(C,k.children[N]);return C.count}}]),Ht=function(){var p="function"==typeof Deflater;if(!p)throw new Error("requires deflate.js for compression");return p},D=function(p,C,k,N){var U=5,x=$n;switch(N){case Ve.image_compression.FAST:U=3,x=Sr;break;case Ve.image_compression.MEDIUM:U=6,x=Di;break;case Ve.image_compression.SLOW:U=9,x=Ue}p=Fn(p,C,k,x);var M=new Uint8Array(gi(U)),q=Yn(p),P=new Deflater(U),dt=P.append(p),pt=P.flush(),Tt=M.length+dt.length+pt.length,T=new Uint8Array(Tt+4);return T.set(M),T.set(dt,M.length),T.set(pt,M.length+dt.length),T[Tt++]=q>>>24&255,T[Tt++]=q>>>16&255,T[Tt++]=q>>>8&255,T[Tt++]=255&q,Ve.arrayBufferToBinaryString(T)},gi=function(p,C){var k=Math.LOG2E*Math.log(32768)-8<<4|8,N=k<<8;return N|=Math.min(3,(C-1&255)>>1)<<6,N|=0,[k,255&(N+=31-N%31)]},Yn=function(p,C){for(var k,N=1,U=0,x=p.length,M=0;0<x;){for(x-=k=C<x?C:x;U+=N+=p[M++],--k;);N%=65521,U%=65521}return(U<<16|N)>>>0},Fn=function(p,C,k,N){for(var U,x,M,q=p.length/C,P=new Uint8Array(p.length+q),dt=mi(),pt=0;pt<q;pt++){if(U=p.subarray(M=pt*C,M+C),N)P.set(N(U,k,x),M+pt);else{for(var Tt=0,T=dt.length,G=[];Tt<T;Tt++)G[Tt]=dt[Tt](U,k,x);var W=Ei(G.concat());P.set(G[W],M+pt)}x=U}return P},pi=function(p,C,k){var N=Array.apply([],p);return N.unshift(0),N},Sr=function(p,C,k){var U=[],x=0,M=p.length;for(U[0]=1;x<M;x++)U[x+1]=p[x]-(p[x-C]||0)+256&255;return U},$n=function(p,C,k){var U=[],x=0,M=p.length;for(U[0]=2;x<M;x++)U[x+1]=p[x]-(k&&k[x]||0)+256&255;return U},Di=function(p,C,k){var x=[],M=0,q=p.length;for(x[0]=3;M<q;M++)x[M+1]=p[M]+256-((p[M-C]||0)+(k&&k[M]||0)>>>1)&255;return x},Ue=function(p,C,k){var M,q=[],P=0,dt=p.length;for(q[0]=4;P<dt;P++)M=KA(p[P-C]||0,k&&k[P]||0,k&&k[P-C]||0),q[P+1]=p[P]-M+256&255;return q},KA=function(p,C,k){var N=p+C-k,U=Math.abs(N-p),x=Math.abs(N-C),M=Math.abs(N-k);return U<=x&&U<=M?p:x<=M?C:k},mi=function(){return[pi,Sr,$n,Di,Ue]},Ei=function(p){for(var C,k,N,U=0,x=p.length;U<x;)((C=Xn(p[U].slice(1)))<k||!k)&&(k=C,N=U),U++;return N},Xn=function(p){for(var C=0,k=p.length,N=0;C<k;)N+=Math.abs(p[C++]);return N},(
/**
     * @license
     * 
     * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
     *
     * 
     * ====================================================================
     */
Ve=en.API).processPNG=function(p,C,k,N,U){var x,M,q,P,dt,pt,Tt=this.color_spaces.DEVICE_RGB,T=this.decode.FLATE_DECODE,G=8;if(this.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.isArrayBufferView(p)){if("function"!=typeof PNG||"function"!=typeof cr)throw new Error("PNG support requires png.js and zlib.js");if(p=(x=new PNG(p)).imgData,G=x.bits,Tt=x.colorSpace,P=x.colors,-1!==[4,6].indexOf(x.colorType)){if(8===x.bits)for(var W,Z=(ht=32==x.pixelBitlength?new Uint32Array(x.decodePixels().buffer):16==x.pixelBitlength?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,at=new Uint8Array(Z*x.colors),ft=new Uint8Array(Z),It=x.pixelBitlength-x.bits,Mt=0,Nt=0;Mt<Z;Mt++){for(oe=ht[Mt],W=0;W<It;)at[Nt++]=oe>>>W&255,W+=x.bits;ft[Mt]=oe>>>W&255}if(16===x.bits){Z=(ht=new Uint32Array(x.decodePixels().buffer)).length,at=new Uint8Array(Z*(32/x.pixelBitlength)*x.colors),ft=new Uint8Array(Z*(32/x.pixelBitlength));for(var oe,ne=1<x.colors,bt=Nt=Mt=0;Mt<Z;)oe=ht[Mt++],at[Nt++]=oe>>>0&255,ne&&(at[Nt++]=oe>>>16&255,oe=ht[Mt++],at[Nt++]=oe>>>0&255),ft[bt++]=oe>>>16&255;G=8}N!==Ve.image_compression.NONE&&Ht()?(p=D(at,x.width*x.colors,x.colors,N),pt=D(ft,x.width,1,N)):(p=at,pt=ft,T=null)}if(3===x.colorType&&(Tt=this.color_spaces.INDEXED,dt=x.palette,x.transparency.indexed)){var J=x.transparency.indexed,qt=0;for(Mt=0,Z=J.length;Mt<Z;++Mt)qt+=J[Mt];if((qt/=255)==Z-1&&-1!==J.indexOf(0))q=[J.indexOf(0)];else if(qt!==Z){var ht=x.decodePixels();for(ft=new Uint8Array(ht.length),Mt=0,Z=ht.length;Mt<Z;Mt++)ft[Mt]=J[ht[Mt]];pt=D(ft,x.width,1)}}var st=function(wt){var Ut;switch(wt){case Ve.image_compression.FAST:Ut=11;break;case Ve.image_compression.MEDIUM:Ut=13;break;case Ve.image_compression.SLOW:Ut=14;break;default:Ut=12}return Ut}(N);return M=T===this.decode.FLATE_DECODE?"/Predictor "+st+" /Colors "+P+" /BitsPerComponent "+G+" /Columns "+x.width:"/Colors "+P+" /BitsPerComponent "+G+" /Columns "+x.width,(this.isArrayBuffer(p)||this.isArrayBufferView(p))&&(p=this.arrayBufferToBinaryString(p)),(pt&&this.isArrayBuffer(pt)||this.isArrayBufferView(pt))&&(pt=this.arrayBufferToBinaryString(pt)),this.createImageInfo(p,x.width,x.height,Tt,G,T,C,k,M,q,dt,pt,st)}throw new Error("Unsupported PNG image data, try using JPEG instead.")},
/**
     * @license
     * Copyright (c) 2017 Aras Abbasi 
     *
     * Licensed under the MIT License.
     * http://opensource.org/licenses/mit-license
     */
(Ji=en.API).processGIF89A=function(p,C,k,N,U){var x=new Xe(p),M=x.width,q=x.height,P=[];x.decodeAndBlitFrameRGBA(0,P);var dt={data:P,width:M,height:q},pt=new er(100).encode(dt,100);return Ji.processJPEG.call(this,pt,C,k,N)},Ji.processGIF87A=Ji.processGIF89A,(Tn=en.API).processBMP=function(p,C,k,N,U){var x=new Oe(p,!1),M=x.width,q=x.height,P={data:x.getData(),width:M,height:q},dt=new er(100).encode(P,100);return Tn.processJPEG.call(this,dt,C,k,N)},en.API.setLanguage=function(p){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[p]&&(this.internal.languageSettings.languageCode=p,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ur=(
/** @license
     * MIT license.
     * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
     *               2014 Diego Casorran, https://github.com/diegocr
     *
     * 
     * ====================================================================
     */
bn=en.API).getCharWidthsArray=function(p,C){var k,N,U,x=(C=C||{}).font||this.internal.getFont(),M=C.fontSize||this.internal.getFontSize(),q=C.charSpace||this.internal.getCharSpace(),P=C.widths?C.widths:x.metadata.Unicode.widths,dt=P.fof?P.fof:1,pt=C.kerning?C.kerning:x.metadata.Unicode.kerning,Tt=pt.fof?pt.fof:1,T=0,G=P[0]||dt,W=[];for(k=0,N=p.length;k<N;k++)U=p.charCodeAt(k),W.push("function"==typeof x.metadata.widthOfString?(x.metadata.widthOfGlyph(x.metadata.characterToGlyph(U))+q*(1e3/M)||0)/1e3:(P[U]||G)/dt+(pt[U]&&pt[U][T]||0)/Tt),T=U;return W},Yr=bn.getArraySum=function(p){for(var C=p.length,k=0;C;)k+=p[--C];return k},Gi=bn.getStringUnitWidth=function(p,C){var k=(C=C||{}).fontSize||this.internal.getFontSize(),N=C.font||this.internal.getFont(),U=C.charSpace||this.internal.getCharSpace();return"function"==typeof N.metadata.widthOfString?N.metadata.widthOfString(p,k,U)/k:Yr(ur.apply(this,arguments))},YA=function(p,C,k,N){for(var U=[],x=0,M=p.length,q=0;x!==M&&q+C[x]<k;)q+=C[x],x++;U.push(p.slice(0,x));var P=x;for(q=0;x!==M;)q+C[x]>N&&(U.push(p.slice(P,x)),q=0,P=x),q+=C[x],x++;return P!==x&&U.push(p.slice(P,x)),U},zn=function(p,C,k){k||(k={});var N,U,x,M,q,P,dt=[],pt=[dt],Tt=k.textIndent||0,T=0,G=0,W=p.split(" "),Z=ur.apply(this,[" ",k])[0];if(P=-1===k.lineIndent?W[0].length+2:k.lineIndent||0){var at=Array(P).join(" "),ft=[];W.map(function(Nt){1<(Nt=Nt.split(/\s*\n/)).length?ft=ft.concat(Nt.map(function(oe,ne){return(ne&&oe.length?"\n":"")+oe})):ft.push(Nt[0])}),W=ft,P=Gi.apply(this,[at,k])}for(x=0,M=W.length;x<M;x++){var It=0;if(N=W[x],P&&"\n"==N[0]&&(N=N.substr(1),It=1),U=ur.apply(this,[N,k]),C<Tt+T+(G=Yr(U))||It){if(C<G){for(q=YA.apply(this,[N,U,C-(Tt+T),C]),dt.push(q.shift()),dt=[q.pop()];q.length;)pt.push([q.shift()]);G=Yr(U.slice(N.length-(dt[0]?dt[0].length:0)))}else dt=[N];pt.push(dt),Tt=G+P,T=Z}else dt.push(N),Tt+=T+G,T=Z}if(P)var Mt=function(Nt,oe){return(oe?at:"")+Nt.join(" ")};else Mt=function(Nt){return Nt.join(" ")};return pt.map(Mt)},bn.splitTextToSize=function(p,C,k){var N,U=(k=k||{}).fontSize||this.internal.getFontSize(),x=function(pt){if(pt.widths&&pt.kerning)return{widths:pt.widths,kerning:pt.kerning};var G=this.internal.getFont(pt.fontName,pt.fontStyle),W="Unicode";return G.metadata[W]?{widths:G.metadata[W].widths||{0:1},kerning:G.metadata[W].kerning||{}}:{font:G.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,k);N=Array.isArray(p)?p:p.split(/\r?\n/);var M=1*this.internal.scaleFactor*C/U;x.textIndent=k.textIndent?1*k.textIndent*this.internal.scaleFactor/U:0,x.lineIndent=k.lineIndent;var q,P,dt=[];for(q=0,P=N.length;q<P;q++)dt=dt.concat(zn.apply(this,[N[q],M,x]));return dt},
/** @license
     jsPDF standard_fonts_metrics plugin
     * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
     * MIT license.
     * 
     * ====================================================================
     */
ti=en.API,Kn={codePages:["WinAnsiEncoding"],WinAnsiEncoding:(En=function(p){for(var C="klmnopqrstuvwxyz",k={},N=0;N<C.length;N++)k[C[N]]="0123456789abcdef"[N];var U,x,M,q,P,dt={},pt=1,Tt=dt,T=[],G="",W="",Z=p.length-1;for(N=1;N!=Z;)P=p[N],N+=1,"'"==P?x=x?(q=x.join(""),U):[]:x?x.push(P):"{"==P?(T.push([Tt,q]),Tt={},q=U):"}"==P?((M=T.pop())[0][M[1]]=Tt,q=U,Tt=M[0]):"-"==P?pt=-1:q===U?k.hasOwnProperty(P)?(G+=k[P],q=parseInt(G,16)*pt,pt=1,G=""):G+=P:k.hasOwnProperty(P)?(W+=k[P],Tt[q]=parseInt(W,16)*pt,pt=1,q=U,W=""):W+=P;return dt})("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Nn={Unicode:{Courier:Kn,"Courier-Bold":Kn,"Courier-BoldOblique":Kn,"Courier-Oblique":Kn,Helvetica:Kn,"Helvetica-Bold":Kn,"Helvetica-BoldOblique":Kn,"Helvetica-Oblique":Kn,"Times-Roman":Kn,"Times-Bold":Kn,"Times-BoldItalic":Kn,"Times-Italic":Kn}},ji={Unicode:{"Courier-Oblique":En("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":En("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":En("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:En("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":En("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":En("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:En("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:En("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":En("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:En("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":En("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":En("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":En("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":En("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}},ti.events.push(["addFont",function(p){var C,k,N,U=p.font,x="Unicode";(C=ji[x][U.postScriptName])&&((k=U.metadata[x]?U.metadata[x]:U.metadata[x]={}).widths=C.widths,k.kerning=C.kerning),(N=Nn[x][U.postScriptName])&&((k=U.metadata[x]?U.metadata[x]:U.metadata[x]={}).encoding=N).codePages&&N.codePages.length&&(U.encoding=N.codePages[0])}]),
/**
     * @license
     * Licensed under the MIT License.
     * http://opensource.org/licenses/mit-license
     */
Oi=en,typeof self<"u"&&self||typeof global<"u"&&global||typeof window<"u"&&window||Function("return this")(),Oi.API.events.push(["addFont",function(p){var C=p.font,k=p.instance;if(void 0!==k&&k.existsFileInVFS(C.postScriptName)){var N=k.getFileFromVFS(C.postScriptName);if("string"!=typeof N)throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+C.postScriptName+"').");C.metadata=Oi.API.TTFFont.open(C.postScriptName,C.fontName,N,C.encoding),C.metadata.Unicode=C.metadata.Unicode||{encoding:{},kerning:{},widths:[]},C.metadata.glyIdsUsed=[0]}else if(!1===C.isStandardFont)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+C.postScriptName+"').")}]),
/** @license
     * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
     * 
     * 
     * ====================================================================
     */
(Vr=en.API).addSvg=function(p,C,k,N,U){if(void 0===C||void 0===k)throw new Error("addSVG needs values for 'x' and 'y'");function x(J){for(var qt=parseFloat(J[1]),ht=parseFloat(J[2]),st=[],wt=3,Ut=J.length;wt<Ut;)"c"===J[wt]?(st.push([parseFloat(J[wt+1]),parseFloat(J[wt+2]),parseFloat(J[wt+3]),parseFloat(J[wt+4]),parseFloat(J[wt+5]),parseFloat(J[wt+6])]),wt+=7):"l"===J[wt]?(st.push([parseFloat(J[wt+1]),parseFloat(J[wt+2])]),wt+=3):wt+=1;return[qt,ht,st]}var q,P,dt,pt,Tt,T,G,Z=((P=((G=(dt=document).createElement("iframe"),pt=".jsPDF_sillysvg_iframe {display:none;position:absolute;}",(T=(Tt=dt).createElement("style")).type="text/css",T.styleSheet?T.styleSheet.cssText=pt:T.appendChild(Tt.createTextNode(pt)),Tt.getElementsByTagName("head")[0].appendChild(T),G.name="childframe",G.setAttribute("width",0),G.setAttribute("height",0),G.setAttribute("frameborder","0"),G.setAttribute("scrolling","no"),G.setAttribute("seamless","seamless"),G.setAttribute("class","jsPDF_sillysvg_iframe"),dt.body.appendChild(G),q=G).contentWindow||q.contentDocument).document).write(p),P.close(),P.getElementsByTagName("svg")[0]),at=[1,1],ft=parseFloat(Z.getAttribute("width")),It=parseFloat(Z.getAttribute("height"));ft&&It&&(N&&U?at=[N/ft,U/It]:N?at=[N/ft,N/ft]:U&&(at=[U/It,U/It]));var Mt,Nt,oe,ne,bt=Z.childNodes;for(Mt=0,Nt=bt.length;Mt<Nt;Mt++)(oe=bt[Mt]).tagName&&"PATH"===oe.tagName.toUpperCase()&&((ne=x(oe.getAttribute("d").split(" ")))[0]=ne[0]*at[0]+C,ne[1]=ne[1]*at[1]+k,this.lines.call(this,ne[2],ne[0],ne[1],at));return this},Vr.addSVG=Vr.addSvg,Vr.addSvgAsImage=function(p,C,k,N,U,x,M,q){if(isNaN(C)||isNaN(k))throw console.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(N)||isNaN(U))throw console.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var P=document.createElement("canvas");P.width=N,P.height=U;var dt=P.getContext("2d");return dt.fillStyle="#fff",dt.fillRect(0,0,P.width,P.height),canvg(P,p,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(P.toDataURL("image/jpeg",1),C,k,N,U,M,q),this},en.API.putTotalPages=function(p){var C,k;k=parseInt(this.internal.getFont().id.substr(1),10)<15?(C=new RegExp(p,"g"),this.internal.getNumberOfPages()):(C=new RegExp(this.pdfEscape16(p,this.internal.getFont()),"g"),this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var N=1;N<=this.internal.getNumberOfPages();N++)for(var U=0;U<this.internal.pages[N].length;U++)this.internal.pages[N][U]=this.internal.pages[N][U].replace(C,k);return this},en.API.viewerPreferences=function(p,C){var k;p=p||{},C=C||!1;var N,U,x={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},M=Object.keys(x),q=[],P=0,dt=0,pt=0,Tt=!0;function T(W,Z){var at,ft=!1;for(at=0;at<W.length;at+=1)W[at]===Z&&(ft=!0);return ft}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(x)),this.internal.viewerpreferences.isSubscribed=!1),k=this.internal.viewerpreferences.configuration,"reset"===p||!0===C){var G=M.length;for(pt=0;pt<G;pt+=1)k[M[pt]].value=k[M[pt]].defaultValue,k[M[pt]].explicitSet=!1}if("object"===Me(p))for(N in p)if(U=p[N],T(M,N)&&void 0!==U){if("boolean"===k[N].type&&"boolean"==typeof U)k[N].value=U;else if("name"===k[N].type&&T(k[N].valueSet,U))k[N].value=U;else if("integer"===k[N].type&&Number.isInteger(U))k[N].value=U;else if("array"===k[N].type){for(P=0;P<U.length;P+=1)if(Tt=!0,1===U[P].length&&"number"==typeof U[P][0])q.push(String(U[P]-1));else if(1<U[P].length){for(dt=0;dt<U[P].length;dt+=1)"number"!=typeof U[P][dt]&&(Tt=!1);!0===Tt&&q.push([U[P][0]-1,U[P][1]-1].join(" "))}k[N].value="["+q.join(" ")+"]"}else k[N].value=k[N].defaultValue;k[N].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var W,Z=[];for(W in k)!0===k[W].explicitSet&&Z.push("name"===k[W].type?"/"+W+" /"+k[W].value:"/"+W+" "+k[W].value);0!==Z.length&&this.internal.write("/ViewerPreferences\n<<\n"+Z.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=k,this},GA=oi=ir="",en.API.addMetadata=function(p,C){return oi=C||"http://jspdf.default.namespaceuri/",ir=p,this.internal.events.subscribe("postPutResources",function(){if(ir){var k='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+oi+'"><jspdf:metadata>',N=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),U=unescape(encodeURIComponent(k)),x=unescape(encodeURIComponent(ir)),M=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),q=unescape(encodeURIComponent("</x:xmpmeta>")),P=U.length+x.length+M.length+N.length+q.length;GA=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+P+" >>"),this.internal.write("stream"),this.internal.write(N+U+x+M+q),this.internal.write("endstream"),this.internal.write("endobj")}else GA=""}),this.internal.events.subscribe("putCatalog",function(){GA&&this.internal.write("/Metadata "+GA+" 0 R")}),this},function(p,C){var k=p.API,N=k.pdfEscape16=function(M,q){for(var P,dt=q.metadata.Unicode.widths,pt=["","0","00","000","0000"],Tt=[""],T=0,G=M.length;T<G;++T){if(P=q.metadata.characterToGlyph(M.charCodeAt(T)),q.metadata.glyIdsUsed.push(P),q.metadata.toUnicode[P]=M.charCodeAt(T),-1==dt.indexOf(P)&&(dt.push(P),dt.push([parseInt(q.metadata.widthOfGlyph(P),10)])),"0"==P)return Tt.join("");P=P.toString(16),Tt.push(pt[4-P.length],P)}return Tt.join("")},U=function(M){var q,P,dt,pt,Tt,T,G;for(Tt="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",dt=[],T=0,G=(P=Object.keys(M).sort(function(W,Z){return W-Z})).length;T<G;T++)q=P[T],100<=dt.length&&(Tt+="\n"+dt.length+" beginbfchar\n"+dt.join("\n")+"\nendbfchar",dt=[]),pt=("0000"+M[q].toString(16)).slice(-4),q=("0000"+(+q).toString(16)).slice(-4),dt.push("<"+q+"><"+pt+">");return dt.length&&(Tt+="\n"+dt.length+" beginbfchar\n"+dt.join("\n")+"\nendbfchar\n"),Tt+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};k.events.push(["putFont",function(M){!function(q,P,dt,pt){if(q.metadata instanceof p.API.TTFFont&&"Identity-H"===q.encoding){for(var Tt=q.metadata.Unicode.widths,T=q.metadata.subset.encode(q.metadata.glyIdsUsed,1),G="",W=0;W<T.length;W++)G+=String.fromCharCode(T[W]);var Z=dt();pt({data:G,addLength1:!0}),P("endobj");var at=dt();pt({data:U(q.metadata.toUnicode),addLength1:!0}),P("endobj");var ft=dt();P("<<"),P("/Type /FontDescriptor"),P("/FontName /"+q.fontName),P("/FontFile2 "+Z+" 0 R"),P("/FontBBox "+p.API.PDFObject.convert(q.metadata.bbox)),P("/Flags "+q.metadata.flags),P("/StemV "+q.metadata.stemV),P("/ItalicAngle "+q.metadata.italicAngle),P("/Ascent "+q.metadata.ascender),P("/Descent "+q.metadata.decender),P("/CapHeight "+q.metadata.capHeight),P(">>"),P("endobj");var It=dt();P("<<"),P("/Type /Font"),P("/BaseFont /"+q.fontName),P("/FontDescriptor "+ft+" 0 R"),P("/W "+p.API.PDFObject.convert(Tt)),P("/CIDToGIDMap /Identity"),P("/DW 1000"),P("/Subtype /CIDFontType2"),P("/CIDSystemInfo"),P("<<"),P("/Supplement 0"),P("/Registry (Adobe)"),P("/Ordering ("+q.encoding+")"),P(">>"),P(">>"),P("endobj"),q.objectNumber=dt(),P("<<"),P("/Type /Font"),P("/Subtype /Type0"),P("/ToUnicode "+at+" 0 R"),P("/BaseFont /"+q.fontName),P("/Encoding /"+q.encoding),P("/DescendantFonts ["+It+" 0 R]"),P(">>"),P("endobj"),q.isAlreadyPutted=!0}}(M.font,M.out,M.newObject,M.putStream)}]),k.events.push(["putFont",function(M){!function(q,P,dt,pt){if(q.metadata instanceof p.API.TTFFont&&"WinAnsiEncoding"===q.encoding){for(var Tt=q.metadata.rawData,T="",G=0;G<Tt.length;G++)T+=String.fromCharCode(Tt[G]);var W=dt();pt({data:T,addLength1:!0}),P("endobj");var Z=dt();pt({data:U(q.metadata.toUnicode),addLength1:!0}),P("endobj");var at=dt();for(P("<<"),P("/Descent "+q.metadata.decender),P("/CapHeight "+q.metadata.capHeight),P("/StemV "+q.metadata.stemV),P("/Type /FontDescriptor"),P("/FontFile2 "+W+" 0 R"),P("/Flags 96"),P("/FontBBox "+p.API.PDFObject.convert(q.metadata.bbox)),P("/FontName /"+q.fontName),P("/ItalicAngle "+q.metadata.italicAngle),P("/Ascent "+q.metadata.ascender),P(">>"),P("endobj"),q.objectNumber=dt(),G=0;G<q.metadata.hmtx.widths.length;G++)q.metadata.hmtx.widths[G]=parseInt(q.metadata.hmtx.widths[G]*(1e3/q.metadata.head.unitsPerEm));P("<</Subtype/TrueType/Type/Font/ToUnicode "+Z+" 0 R/BaseFont/"+q.fontName+"/FontDescriptor "+at+" 0 R/Encoding/"+q.encoding+" /FirstChar 29 /LastChar 255 /Widths "+p.API.PDFObject.convert(q.metadata.hmtx.widths)+">>"),P("endobj"),q.isAlreadyPutted=!0}}(M.font,M.out,M.newObject,M.putStream)}]);var x=function(M){var q,P,dt=M.text||"",pt=M.x,Tt=M.y,T=M.options||{},G=M.mutex||{},W=G.pdfEscape,Z=G.activeFontKey,at=G.fonts,ft="",It=0,Mt="",Nt=at[P=Z].encoding;if("Identity-H"!==at[P].encoding)return{text:dt,x:pt,y:Tt,options:T,mutex:G};for(Mt=dt,P=Z,"[object Array]"===Object.prototype.toString.call(dt)&&(Mt=dt[0]),It=0;It<Mt.length;It+=1)at[P].metadata.hasOwnProperty("cmap")&&(q=at[P].metadata.cmap.unicode.codeMap[Mt[It].charCodeAt(0)]),q||Mt[It].charCodeAt(0)<256&&at[P].metadata.hasOwnProperty("Unicode")?ft+=Mt[It]:ft+="";var oe="";return parseInt(P.slice(1))<14||"WinAnsiEncoding"===Nt?oe=function(ne){for(var bt="",J=0;J<ne.length;J++)bt+=""+ne.charCodeAt(J).toString(16);return bt}(W(ft,P)):"Identity-H"===Nt&&(oe=N(ft,at[P])),G.isHex=!0,{text:oe,x:pt,y:Tt,options:T,mutex:G}};k.events.push(["postProcessText",function(M){var q=M.text||"",T=[],G={text:q,x:M.x,y:M.y,options:M.options,mutex:M.mutex};if("[object Array]"===Object.prototype.toString.call(q)){var W=0;for(W=0;W<q.length;W+=1)"[object Array]"===Object.prototype.toString.call(q[W])&&3===q[W].length?T.push([x(Object.assign({},G,{text:q[W][0]})).text,q[W][1],q[W][2]]):T.push(x(Object.assign({},G,{text:q[W]})).text);M.text=T}else M.text=x(Object.assign({},G,{text:q})).text}])}(en,typeof self<"u"&&self||typeof global<"u"&&global||typeof window<"u"&&window||Function("return this")()),Vi=function(p){return void 0!==p&&(void 0===p.vFS&&(p.vFS={}),!0)},(RA=en.API).existsFileInVFS=function(p){return!!Vi(this.internal)&&void 0!==this.internal.vFS[p]},RA.addFileToVFS=function(p,C){return Vi(this.internal),this.internal.vFS[p]=C,this},RA.getFileFromVFS=function(p){return Vi(this.internal),void 0!==this.internal.vFS[p]?this.internal.vFS[p]:null},en.API.addHTML=function(p,C,k,N,U){if(typeof html2canvas>"u"&&typeof rasterizeHTML>"u")throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof C&&(N=C,U=k),"function"==typeof N&&(U=N,N=null),"function"!=typeof U&&(U=function(){});var x=this.internal,M=x.scaleFactor,q=x.pageSize.getWidth(),P=x.pageSize.getHeight();if((N=N||{}).onrendered=function(pt){C=parseInt(C)||0,k=parseInt(k)||0;var Tt=N.dim||{},T=Object.assign({top:0,right:0,bottom:0,left:0,useFor:"content"},N.margin),G=Tt.h||Math.min(P,pt.height/M),W=Tt.w||Math.min(q,pt.width/M)-C,Z=N.format||"JPEG",at=N.imageCompression||"SLOW";if(pt.height>P-T.top-T.bottom&&N.pagesplit){var ft=function(ne,bt,J,qt,ht){var st=document.createElement("canvas");st.height=ht,st.width=qt;var wt=st.getContext("2d");return wt.mozImageSmoothingEnabled=!1,wt.webkitImageSmoothingEnabled=!1,wt.msImageSmoothingEnabled=!1,wt.imageSmoothingEnabled=!1,wt.fillStyle=N.backgroundColor||"#ffffff",wt.fillRect(0,0,qt,ht),wt.drawImage(ne,bt,J,qt,ht,0,0,qt,ht),st},It=function(){for(var ne,bt,J=0,qt=0,ht={},st=!1;;){var wt;if(qt=0,ht.top=0!==J?T.top:k,ht.left=0!==J?T.left:C,st=(q-T.left-T.right)*M<pt.width,"content"===T.useFor?0===J?(ne=Math.min((q-T.left)*M,pt.width),bt=Math.min((P-T.top)*M,pt.height-J)):(ne=Math.min(q*M,pt.width),bt=Math.min(P*M,pt.height-J),ht.top=0):(ne=Math.min((q-T.left-T.right)*M,pt.width),bt=Math.min((P-T.bottom-T.top)*M,pt.height-J)),st)for(;;){"content"===T.useFor&&(0===qt?ne=Math.min((q-T.left)*M,pt.width):(ne=Math.min(q*M,pt.width-qt),ht.left=0));var Ut=[wt=ft(pt,qt,J,ne,bt),ht.left,ht.top,wt.width/M,wt.height/M,Z,null,at];if(this.addImage.apply(this,Ut),(qt+=ne)>=pt.width)break;this.addPage()}else Ut=[wt=ft(pt,0,J,ne,bt),ht.left,ht.top,wt.width/M,wt.height/M,Z,null,at],this.addImage.apply(this,Ut);if((J+=bt)>=pt.height)break;this.addPage()}U(W,J,null,Ut)}.bind(this);if("CANVAS"===pt.nodeName){var Mt=new Image;Mt.onload=It,Mt.src=pt.toDataURL("image/png"),pt=Mt}else It()}else{var Nt=Math.random().toString(35),oe=[pt,C,k,W,G,Z,Nt,at];this.addImage.apply(this,oe),U(W,G,Nt,oe)}}.bind(this),typeof html2canvas<"u"&&!N.rstz)return html2canvas(p,N);if(typeof rasterizeHTML>"u")return null;var dt="drawDocument";return"string"==typeof p&&(dt=/^http/.test(p)?"drawURL":"drawHTML"),N.width=N.width||q*M,rasterizeHTML[dt](p,void 0,N).then(function(pt){N.onrendered(pt.image)},function(pt){U(null,pt)})},
/**
     * jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser
     * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
     *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
     *               2014 Diego Casorran, https://github.com/diegocr
     *               2014 Daniel Husar, https://github.com/danielhusar
     *               2014 Wolfgang Gassler, https://github.com/woolfg
     *               2014 Steven Spungin, https://github.com/flamenco
     *
     * @license
     * 
     * ====================================================================
     */
function(p){var C,k,N,U,x,M,q,P,dt,pt,Tt,T,G,W,Z,at,ft,It,Mt,Nt;C=function(){return function(J){return bt.prototype=J,new bt};function bt(){}}(),pt=function(bt){var J,qt,ht,st,wt,Ut,mt;for(qt=0,ht=bt.length,J=void 0,Ut=st=!1;!st&&qt!==ht;)(J=bt[qt]=bt[qt].trimLeft())&&(st=!0),qt++;for(qt=ht-1;ht&&!Ut&&-1!==qt;)(J=bt[qt]=bt[qt].trimRight())&&(Ut=!0),qt--;for(wt=/\s+$/g,mt=!0,qt=0;qt!==ht;)"\u2028"!=bt[qt]&&(J=bt[qt].replace(/\s+/g," "),mt&&(J=J.trimLeft()),J&&(mt=wt.test(J)),bt[qt]=J),qt++;return bt},T=function(bt){var J,qt,ht;for(J=void 0,qt=(ht=bt.split(",")).shift();!J&&qt;)J=N[qt.trim().toLowerCase()],qt=ht.shift();return J},G=function(bt){var J;return-1<(bt="auto"===bt?"0px":bt).indexOf("em")&&!isNaN(Number(bt.replace("em","")))&&(bt=18.719*Number(bt.replace("em",""))+"px"),-1<bt.indexOf("pt")&&!isNaN(Number(bt.replace("pt","")))&&(bt=1.333*Number(bt.replace("pt",""))+"px"),(J=W[bt])?J:void 0!==(J={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[bt])||(J=parseFloat(bt))?W[bt]=J/16:(J=bt.match(/([\d\.]+)(px)/),W[bt]=Array.isArray(J)&&3===J.length?parseFloat(J[1])/16:1)},dt=function(bt){var J,qt,ht,st,wt;return wt=bt,st=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(wt,null):wt.currentStyle?wt.currentStyle:wt.style,qt=void 0,(J={})["font-family"]=T((ht=function(Ut){return Ut=Ut.replace(/-\D/g,function(mt){return mt.charAt(1).toUpperCase()}),st[Ut]})("font-family"))||"times",J["font-style"]=U[ht("font-style")]||"normal",J["text-align"]=x[ht("text-align")]||"left","bold"===(qt=M[ht("font-weight")]||"normal")&&(J["font-style"]="normal"===J["font-style"]?qt:qt+J["font-style"]),J["font-size"]=G(ht("font-size"))||1,J["line-height"]=G(ht("line-height"))||1,J.display="inline"===ht("display")?"inline":"block",J["margin-top"]=(qt="block"===J.display)&&G(ht("margin-top"))||0,J["margin-bottom"]=qt&&G(ht("margin-bottom"))||0,J["padding-top"]=qt&&G(ht("padding-top"))||0,J["padding-bottom"]=qt&&G(ht("padding-bottom"))||0,J["margin-left"]=qt&&G(ht("margin-left"))||0,J["margin-right"]=qt&&G(ht("margin-right"))||0,J["padding-left"]=qt&&G(ht("padding-left"))||0,J["padding-right"]=qt&&G(ht("padding-right"))||0,J["page-break-before"]=ht("page-break-before")||"auto",J.float=q[ht("cssFloat")]||"none",J.clear=P[ht("clear")]||"none",J.color=ht("color"),J},Z=function(bt,J,qt){var ht,st,wt,Ut,mt;if(wt=!1,Ut=st=void 0,ht=qt["#"+bt.id])if("function"==typeof ht)wt=ht(bt,J);else for(st=0,Ut=ht.length;!wt&&st!==Ut;)wt=ht[st](bt,J),st++;if(ht=qt[bt.nodeName],!wt&&ht)if("function"==typeof ht)wt=ht(bt,J);else for(st=0,Ut=ht.length;!wt&&st!==Ut;)wt=ht[st](bt,J),st++;for(mt="string"==typeof bt.className?bt.className.split(" "):[],st=0;st<mt.length;st++)if(ht=qt["."+mt[st]],!wt&&ht)if("function"==typeof ht)wt=ht(bt,J);else for(st=0,Ut=ht.length;!wt&&st!==Ut;)wt=ht[st](bt,J),st++;return wt},Nt=function(bt,J){var qt,ht,st,wt,Ut,mt,lt,H,$;for(qt=[],ht=[],st=0,$=bt.rows[0].cells.length,lt=bt.clientWidth;st<$;)ht[st]={name:(H=bt.rows[0].cells[st]).textContent.toLowerCase().replace(/\s+/g,""),prompt:H.textContent.replace(/\r?\n/g,""),width:H.clientWidth/lt*J.pdf.internal.pageSize.getWidth()},st++;for(st=1;st<bt.rows.length;){for(mt=bt.rows[st],Ut={},wt=0;wt<mt.cells.length;)Ut[ht[wt].name]=mt.cells[wt].textContent.replace(/\r?\n/g,""),wt++;qt.push(Ut),st++}return{rows:qt,headers:ht}};var oe={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},ne=1;k=function(bt,J,qt){var ht,st,wt,Ut,mt,lt,H,$;for(st=bt.childNodes,ht=void 0,(mt="block"===(wt=dt(bt)).display)&&(J.setBlockBoundary(),J.setBlockStyle(wt)),Ut=0,lt=st.length;Ut<lt;){if("object"===Me(ht=st[Ut])){if(J.executeWatchFunctions(ht),1===ht.nodeType&&"HEADER"===ht.nodeName){var ot=ht,S=J.pdf.margins_doc.top;J.pdf.internal.events.subscribe("addPage",function(ct){J.y=S,k(ot,J,qt),J.pdf.margins_doc.top=J.y+10,J.y+=10},!1)}if(8===ht.nodeType&&"#comment"===ht.nodeName)~ht.textContent.indexOf("ADD_PAGE")&&(J.pdf.addPage(),J.y=J.pdf.margins_doc.top);else if(1!==ht.nodeType||oe[ht.nodeName])if(3===ht.nodeType){var V=ht.nodeValue;if(ht.nodeValue&&"LI"===ht.parentNode.nodeName)if("OL"===ht.parentNode.parentNode.nodeName)V=ne+++". "+V;else{var rt=wt["font-size"],it=(3-.75*rt)*J.pdf.internal.scaleFactor,gt=.75*rt*J.pdf.internal.scaleFactor,tt=1.74*rt/J.pdf.internal.scaleFactor;$=function(ct,Et){this.pdf.circle(ct+it,Et+gt,tt,"FD")}}16&ht.ownerDocument.body.compareDocumentPosition(ht)&&J.addText(V,wt)}else"string"==typeof ht&&J.addText(ht,wt);else{var kt;if("IMG"===ht.nodeName){var Yt=ht.getAttribute("src");kt=at[J.pdf.sHashCode(Yt)||Yt]}if(kt){J.pdf.internal.pageSize.getHeight()-J.pdf.margins_doc.bottom<J.y+ht.height&&J.y>J.pdf.margins_doc.top&&(J.pdf.addPage(),J.y=J.pdf.margins_doc.top,J.executeWatchFunctions(ht));var le=dt(ht),we=J.x,Jt=12/J.pdf.internal.scaleFactor,de=(le["margin-left"]+le["padding-left"])*Jt,Ae=(le["margin-right"]+le["padding-right"])*Jt,De=(le["margin-top"]+le["padding-top"])*Jt,nt=(le["margin-bottom"]+le["padding-bottom"])*Jt;J.pdf.addImage(kt,we+=void 0!==le.float&&"right"===le.float?J.settings.width-ht.width-Ae:de,J.y+De,ht.width,ht.height),kt=void 0,"right"===le.float||"left"===le.float?(J.watchFunctions.push(function(ct,Et,Xt,ee){return J.y>=Et?(J.x+=ct,J.settings.width+=Xt,!0):!!(ee&&1===ee.nodeType&&!oe[ee.nodeName]&&J.x+ee.width>J.pdf.margins_doc.left+J.pdf.margins_doc.width)&&(J.x+=ct,J.y=Et,J.settings.width+=Xt,!0)}.bind(this,"left"===le.float?-ht.width-de-Ae:0,J.y+ht.height+De+nt,ht.width)),J.watchFunctions.push(function(ct,Et,Xt){return!(J.y<ct&&Et===J.pdf.internal.getNumberOfPages())||1===Xt.nodeType&&"both"===dt(Xt).clear&&(J.y=ct,!0)}.bind(this,J.y+ht.height,J.pdf.internal.getNumberOfPages())),J.settings.width-=ht.width+de+Ae,"left"===le.float&&(J.x+=ht.width+de+Ae)):J.y+=ht.height+De+nt}else if("TABLE"===ht.nodeName)H=Nt(ht,J),J.y+=10,J.pdf.table(J.x,J.y,H.rows,H.headers,{autoSize:!1,printHeaders:qt.printHeaders,margins:J.pdf.margins_doc,css:dt(ht)}),J.y=J.pdf.lastCellPos.y+J.pdf.lastCellPos.h+20;else if("OL"===ht.nodeName||"UL"===ht.nodeName)ne=1,Z(ht,J,qt)||k(ht,J,qt),J.y+=10;else if("LI"===ht.nodeName){var Bt=J.x;J.x+=20/J.pdf.internal.scaleFactor,J.y+=3,Z(ht,J,qt)||k(ht,J,qt),J.x=Bt}else"BR"===ht.nodeName?(J.y+=wt["font-size"]*J.pdf.internal.scaleFactor,J.addText("\u2028",C(wt))):Z(ht,J,qt)||k(ht,J,qt)}}Ut++}if(qt.outY=J.y,mt)return J.setBlockBoundary($)},at={},ft=function(bt,J,qt,ht){var st,wt=bt.getElementsByTagName("img"),Ut=wt.length,mt=0;function lt(){J.pdf.internal.events.publish("imagesLoaded"),ht(st)}function H($,ot,S){if($){var V=new Image;st=++mt,V.crossOrigin="",V.onerror=V.onload=function(){if(V.complete&&(0===V.src.indexOf("data:image/")&&(V.width=ot||V.width||0,V.height=S||V.height||0),V.width+V.height)){var rt=J.pdf.sHashCode($)||$;at[rt]=at[rt]||V}--mt||lt()},V.src=$}}for(;Ut--;)H(wt[Ut].getAttribute("src"),wt[Ut].width,wt[Ut].height);return mt||lt()},It=function(bt,J,qt){var ht=bt.getElementsByTagName("footer");if(0<ht.length){ht=ht[0];var st=J.pdf.internal.write,wt=J.y;J.pdf.internal.write=function(){},k(ht,J,qt);var Ut=Math.ceil(J.y-wt)+5;J.y=wt,J.pdf.internal.write=st,J.pdf.margins_doc.bottom+=Ut;for(var mt=function($){var ot=void 0!==$?$.pageNumber:1,S=J.y;J.y=J.pdf.internal.pageSize.getHeight()-J.pdf.margins_doc.bottom,J.pdf.margins_doc.bottom-=Ut;for(var V=ht.getElementsByTagName("span"),rt=0;rt<V.length;++rt)-1<(" "+V[rt].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(V[rt].innerHTML=ot),-1<(" "+V[rt].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(V[rt].innerHTML="###jsPDFVarTotalPages###");k(ht,J,qt),J.pdf.margins_doc.bottom+=Ut,J.y=S},lt=ht.getElementsByTagName("span"),H=0;H<lt.length;++H)-1<(" "+lt[H].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&J.pdf.internal.events.subscribe("htmlRenderingFinished",J.pdf.putTotalPages.bind(J.pdf,"###jsPDFVarTotalPages###"),!0);J.pdf.internal.events.subscribe("addPage",mt,!1),mt(),oe.FOOTER=1}},Mt=function(bt,J,qt,ht,st,wt){if(!J)return!1;var Ut,mt,lt,H;"string"==typeof J||J.parentNode||(J=""+J.innerHTML),"string"==typeof J&&(Ut=J.replace(/<\/?script[^>]*?>/gi,""),H="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),(lt=document.createElement("div")).style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",lt.innerHTML='<iframe style="height:1px;width:1px" name="'+H+'" />',document.body.appendChild(lt),(mt=window.frames[H]).document.open(),mt.document.writeln(Ut),mt.document.close(),J=mt.document.body);var $,ot=new Tt(bt,qt,ht,st);return ft.call(this,J,ot,st.elementHandlers,function(S){It(J,ot,st.elementHandlers),k(J,ot,st.elementHandlers),ot.pdf.internal.events.publish("htmlRenderingFinished"),$=ot.dispose(),"function"==typeof wt?wt($):S&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),$||{x:ot.x,y:ot.y}},(Tt=function(bt,J,qt,ht){return this.pdf=bt,this.x=J,this.y=qt,this.settings=ht,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},Tt.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},Tt.prototype.executeWatchFunctions=function(bt){var J=!1,qt=[];if(0<this.watchFunctions.length){for(var ht=0;ht<this.watchFunctions.length;++ht)!0===this.watchFunctions[ht](bt)?J=!0:qt.push(this.watchFunctions[ht]);this.watchFunctions=qt}return J},Tt.prototype.splitFragmentsIntoLines=function(bt,J){var qt,ht,st,wt,Ut,mt,lt,H,$,ot,S,V,rt,it;for(ot=this.pdf.internal.scaleFactor,wt={},mt=lt=H=it=Ut=st=$=ht=void 0,V=[S=[]],qt=0,rt=this.settings.width;bt.length;)if(Ut=bt.shift(),it=J.shift(),Ut)if((st=wt[(ht=it["font-family"])+($=it["font-style"])])||(st=this.pdf.internal.getFont(ht,$).metadata.Unicode,wt[ht+$]=st),lt=this.pdf.getStringUnitWidth(Ut,H={widths:st.widths,kerning:st.kerning,fontSize:12*it["font-size"],textIndent:qt})*H.fontSize/ot,"\u2028"==Ut)V.push(S=[]);else if(rt<qt+lt){for(mt=this.pdf.splitTextToSize(Ut,rt,H),S.push([mt.shift(),it]);mt.length;)S=[[mt.shift(),it]],V.push(S);qt=this.pdf.getStringUnitWidth(S[0][0],H)*H.fontSize/ot}else S.push([Ut,it]),qt+=lt;if(void 0!==it["text-align"]&&("center"===it["text-align"]||"right"===it["text-align"]||"justify"===it["text-align"]))for(var gt=0;gt<V.length;++gt){var tt=this.pdf.getStringUnitWidth(V[gt][0][0],H)*H.fontSize/ot;0<gt&&(V[gt][0][1]=C(V[gt][0][1]));var kt=rt-tt;if("right"===it["text-align"])V[gt][0][1]["margin-left"]=kt;else if("center"===it["text-align"])V[gt][0][1]["margin-left"]=kt/2;else if("justify"===it["text-align"]){var Yt=V[gt][0][0].split(" ").length-1;V[gt][0][1]["word-spacing"]=kt/Yt,gt===V.length-1&&(V[gt][0][1]["word-spacing"]=0)}}return V},Tt.prototype.RenderTextFragment=function(bt,J){var qt,ht;ht=0,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.getPdfColor(J.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),ht=Math.max(ht,J["line-height"],J["font-size"]),this.pdf.internal.write(0,(-12*ht).toFixed(2),"Td")),qt=this.pdf.internal.getFont(J["font-family"],J["font-style"]);var st=this.getPdfColor(J.color);st!==this.lastTextColor&&(this.pdf.internal.write(st),this.lastTextColor=st),void 0!==J["word-spacing"]&&0<J["word-spacing"]&&this.pdf.internal.write(J["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+qt.id,(12*J["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(bt)+") Tj"),void 0!==J["word-spacing"]&&this.pdf.internal.write(0,"Tw")},Tt.prototype.getPdfColor=function(bt){var J,qt,ht,st=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(bt);if(null!=st)J=parseInt(st[1]),qt=parseInt(st[2]),ht=parseInt(st[3]);else{if("string"==typeof bt&&"#"!=bt.charAt(0)){var wt=new RGBColor(bt);bt=wt.ok?wt.toHex():"#000000"}J=bt.substring(1,3),J=parseInt(J,16),qt=bt.substring(3,5),qt=parseInt(qt,16),ht=bt.substring(5,7),ht=parseInt(ht,16)}if("string"==typeof J&&/^#[0-9A-Fa-f]{6}$/.test(J)){var Ut=parseInt(J.substr(1),16);J=Ut>>16&255,qt=Ut>>8&255,ht=255&Ut}var mt=this.f3;return 0===J&&0===qt&&0===ht||void 0===qt?mt(J/255)+" g":[mt(J/255),mt(qt/255),mt(ht/255),"rg"].join(" ")},Tt.prototype.f3=function(bt){return bt.toFixed(3)},Tt.prototype.renderParagraph=function(bt){var J,qt,ht,st,wt,Ut,mt,lt,H,$,ot,S,V;if(ht=pt(this.paragraph.text),S=this.paragraph.style,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:J=this.paragraph.blockstyle},ht.join("").trim()){mt=this.splitFragmentsIntoLines(ht,S),lt=Ut=void 0,qt=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,ot=(Math.max((J["margin-top"]||0)-this.priorMarginBottom,0)+(J["padding-top"]||0))*qt,$=((J["margin-bottom"]||0)+(J["padding-bottom"]||0))*qt,this.priorMarginBottom=J["margin-bottom"]||0,"always"===J["page-break-before"]&&(this.pdf.addPage(),this.y=0,ot=((J["margin-top"]||0)+(J["padding-top"]||0))*qt),H=this.pdf.internal.write,wt=st=void 0,this.y+=ot,H("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var rt=0;mt.length;){for(st=lt=0,wt=(Ut=mt.shift()).length;st!==wt;)Ut[st][0].trim()&&(lt=Math.max(lt,Ut[st][1]["line-height"],Ut[st][1]["font-size"]),V=7*Ut[st][1]["font-size"]),st++;var it=0,gt=0;for(void 0!==Ut[0][1]["margin-left"]&&0<Ut[0][1]["margin-left"]&&(it=(gt=this.pdf.internal.getCoordinateString(Ut[0][1]["margin-left"]))-rt,rt=gt),H(it+Math.max(J["margin-left"]||0,0)*qt,(-12*lt).toFixed(2),"Td"),st=0,wt=Ut.length;st!==wt;)Ut[st][0]&&this.RenderTextFragment(Ut[st][0],Ut[st][1]),st++;if(this.y+=lt*qt,this.executeWatchFunctions(Ut[0][1])&&0<mt.length){var tt=[],kt=[];mt.forEach(function(Yt){for(var le=0,we=Yt.length;le!==we;)Yt[le][0]&&(tt.push(Yt[le][0]+" "),kt.push(Yt[le][1])),++le}),mt=this.splitFragmentsIntoLines(pt(tt),kt),H("ET","Q"),H("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return bt&&"function"==typeof bt&&bt.call(this,this.x-9,this.y-V/2),H("ET","Q"),this.y+=$}},Tt.prototype.setBlockBoundary=function(bt){return this.renderParagraph(bt)},Tt.prototype.setBlockStyle=function(bt){return this.paragraph.blockstyle=bt},Tt.prototype.addText=function(bt,J){return this.paragraph.text.push(bt),this.paragraph.style.push(J)},N={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},M={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},U={normal:"normal",italic:"italic",oblique:"italic"},x={left:"left",right:"right",center:"center",justify:"justify"},q={none:"none",right:"right",left:"left"},P={none:"none",both:"both"},W={normal:1},p.fromHTML=function(bt,J,qt,ht,st,wt){return this.margins_doc=wt||{top:0,bottom:0},ht||(ht={}),ht.elementHandlers||(ht.elementHandlers={}),Mt(this,bt,isNaN(J)?4:J,isNaN(qt)?4:qt,ht,st)}}(en.API),(typeof window<"u"&&window||typeof global<"u"&&global).html2pdf=function(p,C,k){var N=C.canvas;if(N){var U,x;if((N.pdf=C).annotations={_nameMap:[],createAnnotation:function(pt,Tt){var T,G=C.context2d._wrapX(Tt.left),W=C.context2d._wrapY(Tt.top),Z=(C.context2d._page(Tt.top),pt.indexOf("#"));T=0<=Z?{name:pt.substring(Z+1)}:{url:pt},C.link(G,W,Tt.right-Tt.left,Tt.bottom-Tt.top,T)},setName:function(pt,Tt){var T=C.context2d._wrapX(Tt.left),G=C.context2d._wrapY(Tt.top),W=C.context2d._page(Tt.top);this._nameMap[pt]={page:W,x:T,y:G}}},N.annotations=C.annotations,C.context2d._pageBreakAt=function(pt){this.pageBreaks.push(pt)},C.context2d._gotoPage=function(pt){for(;C.internal.getNumberOfPages()<pt;)C.addPage();C.setPage(pt)},"string"==typeof p){p=p.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");var M,q,P=document.createElement("iframe");document.body.appendChild(P),null!=(M=P.contentDocument)&&null!=M||(M=P.contentWindow.document),M.open(),M.write(p),M.close(),U=M.body,q=M.body||{},p=M.documentElement||{},x=Math.max(q.scrollHeight,q.offsetHeight,p.clientHeight,p.scrollHeight,p.offsetHeight)}else q=(U=p).body||{},x=Math.max(q.scrollHeight,q.offsetHeight,p.clientHeight,p.scrollHeight,p.offsetHeight);var dt={async:!0,allowTaint:!0,backgroundColor:"#ffffff",canvas:N,imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1,windowHeight:x=C.internal.pageSize.getHeight(),scrollY:x};C.context2d.pageWrapYEnabled=!0,C.context2d.pageWrapY=C.internal.pageSize.getHeight(),html2canvas(U,dt).then(function(pt){k&&(P&&P.parentElement.removeChild(P),k(C))})}else alert("jsPDF canvas plugin not installed")},window.tmp=html2pdf,function(p){var C=p.BlobBuilder||p.WebKitBlobBuilder||p.MSBlobBuilder||p.MozBlobBuilder;p.URL=p.URL||p.webkitURL||function(W,Z){return(Z=document.createElement("a")).href=W,Z};var k=p.Blob,N=URL.createObjectURL,U=URL.revokeObjectURL,x=p.Symbol&&p.Symbol.toStringTag,M=!1,q=!1,P=!!p.ArrayBuffer,dt=C&&C.prototype.append&&C.prototype.getBlob;try{M=2===new Blob(["\xe4"]).size,q=2===new Blob([new Uint8Array([1,2])]).size}catch{}function pt(W){return W.map(function(Z){if(Z.buffer instanceof ArrayBuffer){var at=Z.buffer;if(Z.byteLength!==at.byteLength){var ft=new Uint8Array(Z.byteLength);ft.set(new Uint8Array(at,Z.byteOffset,Z.byteLength)),at=ft.buffer}return at}return Z})}function Tt(W,Z){Z=Z||{};var at=new C;return pt(W).forEach(function(ft){at.append(ft)}),Z.type?at.getBlob(Z.type):at.getBlob()}function T(W,Z){return new k(pt(W),Z||{})}if(p.Blob&&(Tt.prototype=Blob.prototype,T.prototype=Blob.prototype),x)try{File.prototype[x]="File",Blob.prototype[x]="Blob",FileReader.prototype[x]="FileReader"}catch{}function G(){var W=!!p.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,Z=p.XMLHttpRequest&&p.XMLHttpRequest.prototype.send;W&&Z&&(XMLHttpRequest.prototype.send=function(ft){ft instanceof Blob&&this.setRequestHeader("Content-Type",ft.type),Z.call(this,ft)});try{new File([],"")}catch{try{var at=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();p.File=at}catch{p.File=at=function(Mt,Nt,oe){var ne=new Blob(Mt,oe),bt=oe&&void 0!==oe.lastModified?new Date(oe.lastModified):new Date;return ne.name=Nt,ne.lastModifiedDate=bt,ne.lastModified=+bt,ne.toString=function(){return"[object File]"},x&&(ne[x]="File"),ne}}}}M?(G(),p.Blob=q?p.Blob:T):dt?(G(),p.Blob=Tt):function(){function W(ht){for(var st=[],wt=0;wt<ht.length;wt++){var Ut=ht.charCodeAt(wt);Ut<128?st.push(Ut):Ut<2048?st.push(192|Ut>>6,128|63&Ut):Ut<55296||57344<=Ut?st.push(224|Ut>>12,128|Ut>>6&63,128|63&Ut):(wt++,Ut=65536+((1023&Ut)<<10|1023&ht.charCodeAt(wt)),st.push(240|Ut>>18,128|Ut>>12&63,128|Ut>>6&63,128|63&Ut))}return st}function Z(ht){var st,wt,Ut,mt,lt,H;for(st="",Ut=ht.length,wt=0;wt<Ut;)switch((mt=ht[wt++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:st+=String.fromCharCode(mt);break;case 12:case 13:lt=ht[wt++],st+=String.fromCharCode((31&mt)<<6|63&lt);break;case 14:lt=ht[wt++],H=ht[wt++],st+=String.fromCharCode((15&mt)<<12|(63&lt)<<6|(63&H)<<0)}return st}function at(ht){for(var st=new Array(ht.byteLength),wt=new Uint8Array(ht),Ut=st.length;Ut--;)st[Ut]=wt[Ut];return st}function ft(ht){for(var st="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",wt=[],Ut=0;Ut<ht.length;Ut+=3){var mt=ht[Ut],lt=Ut+1<ht.length,H=lt?ht[Ut+1]:0,$=Ut+2<ht.length,ot=$?ht[Ut+2]:0,rt=(15&H)<<2|ot>>6,it=63&ot;$||(it=64,lt||(rt=64)),wt.push(st[mt>>2],st[(3&mt)<<4|H>>4],st[rt],st[it])}return wt.join("")}var It=Object.create||function(ht){function st(){}return st.prototype=ht,new st};if(P)var Mt=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Nt=ArrayBuffer.isView||function(ht){return ht&&-1<Mt.indexOf(Object.prototype.toString.call(ht))};function oe(ht,st){for(var wt=0,Ut=(ht=ht||[]).length;wt<Ut;wt++){var mt=ht[wt];ht[wt]=mt instanceof oe?mt._buffer:"string"==typeof mt?W(mt):P&&(ArrayBuffer.prototype.isPrototypeOf(mt)||Nt(mt))?at(mt):P&&(lt=mt)&&DataView.prototype.isPrototypeOf(lt)?at(mt.buffer):W(String(mt))}var lt;this._buffer=[].concat.apply([],ht),this.size=this._buffer.length,this.type=st&&st.type||""}function ne(ht,st,wt){var Ut=oe.call(this,ht,wt=wt||{})||this;return Ut.name=st,Ut.lastModifiedDate=wt.lastModified?new Date(wt.lastModified):new Date,Ut.lastModified=+Ut.lastModifiedDate,Ut}if(oe.prototype.slice=function(ht,st,wt){return new oe([this._buffer.slice(ht||0,st||this._buffer.length)],{type:wt})},oe.prototype.toString=function(){return"[object Blob]"},(ne.prototype=It(oe.prototype)).constructor=ne,Object.setPrototypeOf)Object.setPrototypeOf(ne,oe);else try{ne.__proto__=oe}catch{}function bt(){if(!(this instanceof bt))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var ht=document.createDocumentFragment();this.addEventListener=ht.addEventListener,this.dispatchEvent=function(st){var wt=this["on"+st.type];"function"==typeof wt&&wt(st),ht.dispatchEvent(st)},this.removeEventListener=ht.removeEventListener}function J(ht,st,wt){if(!(st instanceof oe))throw new TypeError("Failed to execute '"+wt+"' on 'FileReader': parameter 1 is not of type 'Blob'.");ht.result="",setTimeout(function(){this.readyState=bt.LOADING,ht.dispatchEvent(new Event("load")),ht.dispatchEvent(new Event("loadend"))})}ne.prototype.toString=function(){return"[object File]"},bt.EMPTY=0,bt.LOADING=1,bt.DONE=2,bt.prototype.error=null,bt.prototype.onabort=null,bt.prototype.onerror=null,bt.prototype.onload=null,bt.prototype.onloadend=null,bt.prototype.onloadstart=null,bt.prototype.onprogress=null,bt.prototype.readAsDataURL=function(ht){J(this,ht,"readAsDataURL"),this.result="data:"+ht.type+";base64,"+ft(ht._buffer)},bt.prototype.readAsText=function(ht){J(this,ht,"readAsText"),this.result=Z(ht._buffer)},bt.prototype.readAsArrayBuffer=function(ht){J(this,ht,"readAsText"),this.result=ht._buffer.slice()},bt.prototype.abort=function(){},URL.createObjectURL=function(ht){return ht instanceof oe?"data:"+ht.type+";base64,"+ft(ht._buffer):N.call(URL,ht)},URL.revokeObjectURL=function(ht){U&&U.call(URL,ht)};var qt=p.XMLHttpRequest&&p.XMLHttpRequest.prototype.send;qt&&(XMLHttpRequest.prototype.send=function(ht){ht instanceof oe?(this.setRequestHeader("Content-Type",ht.type),qt.call(this,Z(ht._buffer))):qt.call(this,ht)}),p.FileReader=bt,p.File=ne,p.Blob=oe}()}(typeof self<"u"&&self||typeof window<"u"&&window||typeof global<"u"&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var On,mA,vr,Gn,vn,Fr,vA,hA,yA,ei,aA,Zi,jt,Vt,re,me=me||function(p){if(!(void 0===p||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var k=function(){return p.URL||p.webkitURL||p},N=p.document.createElementNS("http://www.w3.org/1999/xhtml","a"),U="download"in N,x=/constructor/i.test(p.HTMLElement)||p.safari,M=/CriOS\/[\d]+/.test(navigator.userAgent),q=p.setImmediate||p.setTimeout,P=function(G){q(function(){throw G},0)},dt=function(G){setTimeout(function(){"string"==typeof G?k().revokeObjectURL(G):G.remove()},4e4)},pt=function(G){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(G.type)?new Blob([String.fromCharCode(65279),G],{type:G.type}):G},Tt=function(G,W,Z){Z||(G=pt(G));var at,ft=this,It="application/octet-stream"===G.type,Mt=function(){!function(Nt,oe,ne){for(var bt=(oe=[].concat(oe)).length;bt--;){var J=Nt["on"+oe[bt]];if("function"==typeof J)try{J.call(Nt,Nt)}catch(qt){P(qt)}}}(ft,"writestart progress write writeend".split(" "))};if(ft.readyState=ft.INIT,U)return at=k().createObjectURL(G),void q(function(){var Nt,oe;N.href=at,N.download=W,Nt=N,oe=new MouseEvent("click"),Nt.dispatchEvent(oe),Mt(),dt(at),ft.readyState=ft.DONE},0);!function(){if((M||It&&x)&&p.FileReader){var Nt=new FileReader;return Nt.onloadend=function(){var oe=M?Nt.result:Nt.result.replace(/^data:[^;]*;/,"data:attachment/file;");p.open(oe,"_blank")||(p.location.href=oe),oe=void 0,ft.readyState=ft.DONE,Mt()},Nt.readAsDataURL(G),ft.readyState=ft.INIT}at||(at=k().createObjectURL(G)),It?p.location.href=at:p.open(at,"_blank")||(p.location.href=at),ft.readyState=ft.DONE,Mt(),dt(at)}()},T=Tt.prototype;return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(G,W,Z){return W=W||G.name||"download",Z||(G=pt(G)),navigator.msSaveOrOpenBlob(G,W)}:(T.abort=function(){},T.readyState=T.INIT=0,T.WRITING=1,T.DONE=2,T.error=T.onwritestart=T.onprogress=T.onwrite=T.onabort=T.onerror=T.onwriteend=null,function(G,W,Z){return new Tt(G,W||G.name||"download",Z)})}}(typeof self<"u"&&self||typeof window<"u"&&window||void 0);function Xe(p){var C=0;if(71!==p[C++]||73!==p[C++]||70!==p[C++]||56!==p[C++]||56!=(p[C++]+1&253)||97!==p[C++])throw"Invalid GIF 87a/89a header.";var k=p[C++]|p[C++]<<8,N=p[C++]|p[C++]<<8,U=p[C++];C++,C++;var q=null;U>>7&&(q=C,C+=3*(1<<1+(7&U)));var P=!0,dt=[],pt=0,Tt=null,T=0,G=null;for(this.width=k,this.height=N;P&&C<p.length;)switch(p[C++]){case 33:switch(p[C++]){case 255:if(11!==p[C]||78==p[C+1]&&69==p[C+2]&&84==p[C+3]&&83==p[C+4]&&67==p[C+5]&&65==p[C+6]&&80==p[C+7]&&69==p[C+8]&&50==p[C+9]&&46==p[C+10]&&48==p[C+11]&&3==p[C+12]&&1==p[C+13]&&0==p[C+16])C+=14,G=p[C++]|p[C++]<<8,C++;else for(C+=12;0!==(J=p[C++]);)C+=J;break;case 249:if(4!==p[C++]||0!==p[C+4])throw"Invalid graphics extension block.";var W=p[C++];pt=p[C++]|p[C++]<<8,Tt=p[C++],!(1&W)&&(Tt=null),T=W>>2&7,C++;break;case 254:for(;0!==(J=p[C++]);)C+=J;break;default:throw"Unknown graphic control label: 0x"+p[C-1].toString(16)}break;case 44:var Z=p[C++]|p[C++]<<8,at=p[C++]|p[C++]<<8,ft=p[C++]|p[C++]<<8,It=p[C++]|p[C++]<<8,Mt=p[C++],Nt=Mt>>6&1,oe=q,ne=!1;Mt>>7&&(ne=!0,oe=C,C+=3*(1<<1+(7&Mt)));var bt=C;for(C++;;){var J;if(0===(J=p[C++]))break;C+=J}dt.push({x:Z,y:at,width:ft,height:It,has_local_palette:ne,palette_offset:oe,data_offset:bt,data_length:C-bt,transparent_index:Tt,interlaced:!!Nt,delay:pt,disposal:T});break;case 59:P=!1;break;default:throw"Unknown gif block: 0x"+p[C-1].toString(16)}this.numFrames=function(){return dt.length},this.loopCount=function(){return G},this.frameInfo=function(qt){if(qt<0||qt>=dt.length)throw"Frame index out of range.";return dt[qt]},this.decodeAndBlitFrameBGRA=function(qt,ht){var st=this.frameInfo(qt),wt=st.width*st.height,Ut=new Uint8Array(wt);Qe(p,st.data_offset,Ut,wt);var mt=st.palette_offset,lt=st.transparent_index;null===lt&&(lt=256);var H=st.width,$=k-H,ot=H,S=4*(st.y*k+st.x),V=4*((st.y+st.height)*k+st.x),rt=S,it=4*$;!0===st.interlaced&&(it+=4*(H+$)*7);for(var gt=8,tt=0,kt=Ut.length;tt<kt;++tt){var Yt=Ut[tt];if(0===ot&&(ot=H,V<=(rt+=it)&&(it=$+4*(H+$)*(gt-1),rt=S+(H+$)*(gt<<1),gt>>=1)),Yt===lt)rt+=4;else{var le=p[mt+3*Yt],we=p[mt+3*Yt+1];ht[rt++]=p[mt+3*Yt+2],ht[rt++]=we,ht[rt++]=le,ht[rt++]=255}--ot}},this.decodeAndBlitFrameRGBA=function(qt,ht){var st=this.frameInfo(qt),wt=st.width*st.height,Ut=new Uint8Array(wt);Qe(p,st.data_offset,Ut,wt);var mt=st.palette_offset,lt=st.transparent_index;null===lt&&(lt=256);var H=st.width,$=k-H,ot=H,S=4*(st.y*k+st.x),V=4*((st.y+st.height)*k+st.x),rt=S,it=4*$;!0===st.interlaced&&(it+=4*(H+$)*7);for(var gt=8,tt=0,kt=Ut.length;tt<kt;++tt){var Yt=Ut[tt];if(0===ot&&(ot=H,V<=(rt+=it)&&(it=$+4*(H+$)*(gt-1),rt=S+(H+$)*(gt<<1),gt>>=1)),Yt===lt)rt+=4;else{var we=p[mt+3*Yt+1],Jt=p[mt+3*Yt+2];ht[rt++]=p[mt+3*Yt],ht[rt++]=we,ht[rt++]=Jt,ht[rt++]=255}--ot}}}function Qe(p,C,k,N){for(var U=p[C++],x=1<<U,M=x+1,q=M+1,P=U+1,dt=(1<<P)-1,pt=0,Tt=0,T=0,G=p[C++],W=new Int32Array(4096),Z=null;;){for(;pt<16&&0!==G;)Tt|=p[C++]<<pt,pt+=8,1===G?G=p[C++]:--G;if(pt<P)break;var at=Tt&dt;if(Tt>>=P,pt-=P,at!==x){if(at===M)break;for(var ft=at<q?at:Z,It=0,Mt=ft;x<Mt;)Mt=W[Mt]>>8,++It;var Nt=Mt;if(N<T+It+(ft!==at?1:0))return void console.log("Warning, gif stream longer than expected.");k[T++]=Nt;var oe=T+=It;for(ft!==at&&(k[T++]=Nt),Mt=ft;It--;)k[--oe]=255&(Mt=W[Mt]),Mt>>=8;null!==Z&&q<4096&&(W[q++]=Z<<8|Nt,dt+1<=q&&P<12&&(++P,dt=dt<<1|1)),Z=at}else q=M+1,dt=(1<<(P=U+1))-1,Z=null}return T!==N&&console.log("Warning, gif stream shorter than expected."),k}try{exports.GifWriter=function(p,C,k,N){var U=0,x=void 0===(N=void 0===N?{}:N).loop?null:N.loop,M=void 0===N.palette?null:N.palette;if(C<=0||k<=0||65535<C||65535<k)throw"Width/Height invalid.";function q(Z){var at=Z.length;if(at<2||256<at||at&at-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return at}p[U++]=71,p[U++]=73,p[U++]=70,p[U++]=56,p[U++]=57,p[U++]=97;var P=0,dt=0;if(null!==M){for(var pt=q(M);pt>>=1;)++P;if(pt=1<<P,--P,void 0!==N.background){if(pt<=(dt=N.background))throw"Background index out of range.";if(0===dt)throw"Background index explicitly passed as 0."}}if(p[U++]=255&C,p[U++]=C>>8&255,p[U++]=255&k,p[U++]=k>>8&255,p[U++]=(null!==M?128:0)|P,p[U++]=dt,p[U++]=0,null!==M)for(var Tt=0,T=M.length;Tt<T;++Tt){var G=M[Tt];p[U++]=G>>16&255,p[U++]=G>>8&255,p[U++]=255&G}if(null!==x){if(x<0||65535<x)throw"Loop count invalid.";p[U++]=33,p[U++]=255,p[U++]=11,p[U++]=78,p[U++]=69,p[U++]=84,p[U++]=83,p[U++]=67,p[U++]=65,p[U++]=80,p[U++]=69,p[U++]=50,p[U++]=46,p[U++]=48,p[U++]=3,p[U++]=1,p[U++]=255&x,p[U++]=x>>8&255,p[U++]=0}var W=!1;this.addFrame=function(Z,at,ft,It,Mt,Nt){if(!0===W&&(--U,W=!1),Z<0||at<0||65535<Z||65535<at)throw"x/y invalid.";if(ft<=0||It<=0||65535<ft||65535<It)throw"Width/Height invalid.";if(Mt.length<ft*It)throw"Not enough pixels for the frame size.";var oe=!0,ne=(Nt=void 0===Nt?{}:Nt).palette;if(null==ne&&(oe=!1,ne=M),null==ne)throw"Must supply either a local or global palette.";for(var bt=q(ne),J=0;bt>>=1;)++J;bt=1<<J;var qt=void 0===Nt.delay?0:Nt.delay,ht=void 0===Nt.disposal?0:Nt.disposal;if(ht<0||3<ht)throw"Disposal out of range.";var st=!1,wt=0;if(null!=Nt.transparent&&(st=!0,(wt=Nt.transparent)<0||bt<=wt))throw"Transparent color index.";if((0!==ht||st||0!==qt)&&(p[U++]=33,p[U++]=249,p[U++]=4,p[U++]=ht<<2|(!0===st?1:0),p[U++]=255&qt,p[U++]=qt>>8&255,p[U++]=wt,p[U++]=0),p[U++]=44,p[U++]=255&Z,p[U++]=Z>>8&255,p[U++]=255&at,p[U++]=at>>8&255,p[U++]=255&ft,p[U++]=ft>>8&255,p[U++]=255&It,p[U++]=It>>8&255,p[U++]=!0===oe?128|J-1:0,!0===oe)for(var Ut=0,mt=ne.length;Ut<mt;++Ut){var lt=ne[Ut];p[U++]=lt>>16&255,p[U++]=lt>>8&255,p[U++]=255&lt}U=function(H,$,ot,S){H[$++]=ot;var V=$++,rt=1<<ot,it=rt-1,gt=rt+1,tt=gt+1,kt=ot+1,Yt=0,le=0;function we(Xt){for(;Xt<=Yt;)H[$++]=255&le,le>>=8,Yt-=8,$===V+256&&(H[V]=255,V=$++)}function Jt(Xt){le|=Xt<<Yt,Yt+=kt,we(8)}var de=S[0]&it,Ae={};Jt(rt);for(var De=1,nt=S.length;De<nt;++De){var Bt=S[De]&it,ct=de<<8|Bt,Et=Ae[ct];if(void 0===Et){for(le|=de<<Yt,Yt+=kt;8<=Yt;)H[$++]=255&le,le>>=8,Yt-=8,$===V+256&&(H[V]=255,V=$++);4096===tt?(Jt(rt),tt=gt+1,kt=ot+1,Ae={}):(1<<kt<=tt&&++kt,Ae[ct]=tt++),de=Bt}else de=Et}return Jt(de),Jt(gt),we(1),V+1===$?H[V]=0:(H[V]=$-V-1,H[$++]=0),$}(p,U,J<2?2:J,Mt)},this.end=function(){return!1===W&&(p[U++]=59,W=!0),U}},exports.GifReader=Xe}catch{}function er(p){var C,k,N,U,x,M=Math.floor,q=new Array(64),P=new Array(64),dt=new Array(64),pt=new Array(64),Tt=new Array(65535),T=new Array(65535),G=new Array(64),W=new Array(64),Z=[],at=0,ft=7,It=new Array(64),Mt=new Array(64),Nt=new Array(64),oe=new Array(256),ne=new Array(2048),bt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],J=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],qt=[0,1,2,3,4,5,6,7,8,9,10,11],ht=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],st=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],wt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ut=[0,1,2,3,4,5,6,7,8,9,10,11],mt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],lt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(it,gt){for(var tt=0,kt=0,Yt=new Array,le=1;le<=16;le++){for(var we=1;we<=it[le];we++)Yt[gt[kt]]=[],Yt[gt[kt]][0]=tt,Yt[gt[kt]][1]=le,kt++,tt++;tt*=2}return Yt}function $(it){for(var gt=it[0],tt=it[1]-1;0<=tt;)gt&1<<tt&&(at|=1<<ft),tt--,--ft<0&&(255==at?(ot(255),ot(0)):ot(at),ft=7,at=0)}function ot(it){Z.push(it)}function S(it){ot(it>>8&255),ot(255&it)}function V(it,gt,tt,kt,Yt){for(var le,we=Yt[0],Jt=Yt[240],de=function(Fe,be){var Ir,$e,Pr,Ar,fr,pr,ln,un,Qr,Te,yr=0;for(Qr=0;Qr<8;++Qr){var li=(Ir=Fe[yr])+(un=Fe[yr+7]),ui=Ir-un,$i=($e=Fe[yr+1])+(ln=Fe[yr+6]),xn=$e-ln,vi=(Pr=Fe[yr+2])+(pr=Fe[yr+5]),Mi=Pr-pr,yi=(Ar=Fe[yr+3])+(fr=Fe[yr+4]),xe=Ar-fr,Ne=li+yi,qe=li-yi,We=$i+vi,h=$i-vi;Fe[yr]=Ne+We,Fe[yr+4]=Ne-We;var g=.707106781*(h+qe);Fe[yr+2]=qe+g,Fe[yr+6]=qe-g;var w=.382683433*((Ne=xe+Mi)-(h=xn+ui)),F=.5411961*Ne+w,K=1.306562965*h+w,Y=.707106781*(We=Mi+xn),ut=ui+Y,Dt=ui-Y;Fe[yr+5]=Dt+F,Fe[yr+3]=Dt-F,Fe[yr+1]=ut+K,Fe[yr+7]=ut-K,yr+=8}for(Qr=yr=0;Qr<8;++Qr){var _t=(Ir=Fe[yr])+(un=Fe[yr+56]),te=Ir-un,se=($e=Fe[yr+8])+(ln=Fe[yr+48]),Ce=$e-ln,ue=(Pr=Fe[yr+16])+(pr=Fe[yr+40]),Se=Pr-pr,ar=(Ar=Fe[yr+24])+(fr=Fe[yr+32]),xr=Ar-fr,Br=_t+ar,Mn=_t-ar,ci=se+ue,Ci=se-ue;Fe[yr]=Br+ci,Fe[yr+32]=Br-ci;var fn=.707106781*(Ci+Mn);Fe[yr+16]=Mn+fn,Fe[yr+48]=Mn-fn;var rn=.382683433*((Br=xr+Se)-(Ci=Ce+te)),cn=.5411961*Br+rn,hr=1.306562965*Ci+rn,yn=.707106781*(ci=Se+Ce),PA=te+yn,SA=te-yn;Fe[yr+40]=SA+cn,Fe[yr+24]=SA-cn,Fe[yr+8]=PA+hr,Fe[yr+56]=PA-hr,yr++}for(Qr=0;Qr<64;++Qr)G[Qr]=0<(Te=Fe[Qr]*be[Qr])?Te+.5|0:Te-.5|0;return G}(it,gt),Ae=0;Ae<64;++Ae)W[bt[Ae]]=de[Ae];var De=W[0]-tt;tt=W[0],0==De?$(kt[0]):($(kt[T[le=32767+De]]),$(Tt[le]));for(var nt=63;0<nt&&0==W[nt];nt--);if(0==nt)return $(we),tt;for(var Bt,ct=1;ct<=nt;){for(var Et=ct;0==W[ct]&&ct<=nt;++ct);var Xt=ct-Et;if(16<=Xt){Bt=Xt>>4;for(var ee=1;ee<=Bt;++ee)$(Jt);Xt&=15}$(Yt[(Xt<<4)+T[le=32767+W[ct]]]),$(Tt[le]),ct++}return 63!=nt&&$(we),tt}function rt(it){it<=0&&(it=1),100<it&&(it=100),x!=it&&(function(gt){for(var tt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],kt=0;kt<64;kt++){var Yt=M((tt[kt]*gt+50)/100);Yt<1?Yt=1:255<Yt&&(Yt=255),q[bt[kt]]=Yt}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var Jt=M((le[we]*gt+50)/100);Jt<1?Jt=1:255<Jt&&(Jt=255),P[bt[we]]=Jt}for(var de=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,De=0;De<8;De++)for(var nt=0;nt<8;nt++)dt[Ae]=1/(q[bt[Ae]]*de[De]*de[nt]*8),pt[Ae]=1/(P[bt[Ae]]*de[De]*de[nt]*8),Ae++}(it<50?Math.floor(5e3/it):Math.floor(200-2*it)),x=it)}this.encode=function(it,gt){var tt,kt;(new Date).getTime(),gt&&rt(gt),Z=new Array,at=0,ft=7,S(65496),S(65504),S(16),ot(74),ot(70),ot(73),ot(70),ot(0),ot(1),ot(1),ot(0),S(1),S(1),ot(0),ot(0),function(){S(65499),S(132),ot(0);for(var Ar=0;Ar<64;Ar++)ot(q[Ar]);ot(1);for(var fr=0;fr<64;fr++)ot(P[fr])}(),tt=it.width,kt=it.height,S(65472),S(17),ot(8),S(kt),S(tt),ot(3),ot(1),ot(17),ot(0),ot(2),ot(17),ot(1),ot(3),ot(17),ot(1),function(){S(65476),S(418),ot(0);for(var Ar=0;Ar<16;Ar++)ot(J[Ar+1]);for(var fr=0;fr<=11;fr++)ot(qt[fr]);ot(16);for(var pr=0;pr<16;pr++)ot(ht[pr+1]);for(var ln=0;ln<=161;ln++)ot(st[ln]);ot(1);for(var un=0;un<16;un++)ot(wt[un+1]);for(var Qr=0;Qr<=11;Qr++)ot(Ut[Qr]);ot(17);for(var Te=0;Te<16;Te++)ot(mt[Te+1]);for(var yr=0;yr<=161;yr++)ot(lt[yr])}(),S(65498),S(12),ot(3),ot(1),ot(0),ot(2),ot(17),ot(3),ot(17),ot(0),ot(63),ot(0);var Yt=0,le=0,we=0;at=0,ft=7,this.encode.displayName="_encode_";for(var Jt,de,Ae,De,nt,Bt,ct,Et,Xt,ee=it.data,be=it.height,Ir=4*it.width,$e=0;$e<be;){for(Jt=0;Jt<Ir;){for(Bt=nt=Ir*$e+Jt,ct=-1,Xt=Et=0;Xt<64;Xt++)Bt=nt+(Et=Xt>>3)*Ir+(ct=4*(7&Xt)),be<=$e+Et&&(Bt-=Ir*($e+1+Et-be)),Ir<=Jt+ct&&(Bt-=Jt+ct-Ir+4),de=ee[Bt++],Ae=ee[Bt++],De=ee[Bt++],It[Xt]=(ne[de]+ne[Ae+256>>0]+ne[De+512>>0]>>16)-128,Mt[Xt]=(ne[de+768>>0]+ne[Ae+1024>>0]+ne[De+1280>>0]>>16)-128,Nt[Xt]=(ne[de+1280>>0]+ne[Ae+1536>>0]+ne[De+1792>>0]>>16)-128;Yt=V(It,dt,Yt,C,N),le=V(Mt,pt,le,k,U),we=V(Nt,pt,we,k,U),Jt+=32}$e+=8}if(0<=ft){var Pr=[];Pr[1]=ft+1,Pr[0]=(1<<ft+1)-1,$(Pr)}return S(65497),new Uint8Array(Z)},(new Date).getTime(),p||(p=50),function(){for(var it=String.fromCharCode,gt=0;gt<256;gt++)oe[gt]=it(gt)}(),C=H(J,qt),k=H(wt,Ut),N=H(ht,st),U=H(mt,lt),function(){for(var it=1,gt=2,tt=1;tt<=15;tt++){for(var kt=it;kt<gt;kt++)T[32767+kt]=tt,Tt[32767+kt]=[],Tt[32767+kt][1]=tt,Tt[32767+kt][0]=kt;for(var Yt=-(gt-1);Yt<=-it;Yt++)T[32767+Yt]=tt,Tt[32767+Yt]=[],Tt[32767+Yt][1]=tt,Tt[32767+Yt][0]=gt-1+Yt;it<<=1,gt<<=1}}(),function(){for(var it=0;it<256;it++)ne[it]=19595*it,ne[it+256>>0]=38470*it,ne[it+512>>0]=7471*it+32768,ne[it+768>>0]=-11059*it,ne[it+1024>>0]=-21709*it,ne[it+1280>>0]=32768*it+8421375,ne[it+1536>>0]=-27439*it,ne[it+1792>>0]=-5329*it}(),rt(p),(new Date).getTime()}function Oe(p,C){if(this.pos=0,this.buffer=p,this.datav=new DataView(p.buffer),this.is_with_alpha=!!C,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}window.tmp=Xe,en.API.adler32cs=(Fr="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,vA=null,hA=function(){if(!Fr)return function(){return!1};try{var p={};"function"==typeof p.Buffer&&(vA=p.Buffer)}catch{}return function(C){return C instanceof ArrayBuffer||null!==vA&&C instanceof vA}}(),yA=null!==vA?function(p){return new vA(p,"utf8").toString("binary")}:function(p){return unescape(encodeURIComponent(p))},ei=function(p,C){for(var k=65535&p,N=p>>>16,U=0,x=C.length;U<x;U++)N=(N+(k=(k+(255&C.charCodeAt(U)))%65521))%65521;return(N<<16|k)>>>0},aA=function(p,C){for(var k=65535&p,N=p>>>16,U=0,x=C.length;U<x;U++)N=(N+(k=(k+C[U])%65521))%65521;return(N<<16|k)>>>0},jt=(Zi={}).Adler32=(((vn=(Gn=function(p){if(!(this instanceof Gn))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(p=null==p?1:+p))throw new Error("First arguments needs to be a finite number.");this.checksum=p>>>0}).prototype={}).constructor=Gn).from=((On=function(p){if(!(this instanceof Gn))throw new TypeError("Constructor cannot called be as a function.");if(null==p)throw new Error("First argument needs to be a string.");this.checksum=ei(1,p.toString())}).prototype=vn,On),Gn.fromUtf8=((mA=function(p){if(!(this instanceof Gn))throw new TypeError("Constructor cannot called be as a function.");if(null==p)throw new Error("First argument needs to be a string.");var C=yA(p.toString());this.checksum=ei(1,C)}).prototype=vn,mA),Fr&&(Gn.fromBuffer=((vr=function(p){if(!(this instanceof Gn))throw new TypeError("Constructor cannot called be as a function.");if(!hA(p))throw new Error("First argument needs to be ArrayBuffer.");var C=new Uint8Array(p);return this.checksum=aA(1,C)}).prototype=vn,vr)),vn.update=function(p){if(null==p)throw new Error("First argument needs to be a string.");return p=p.toString(),this.checksum=ei(this.checksum,p)},vn.updateUtf8=function(p){if(null==p)throw new Error("First argument needs to be a string.");var C=yA(p.toString());return this.checksum=ei(this.checksum,C)},Fr&&(vn.updateBuffer=function(p){if(!hA(p))throw new Error("First argument needs to be ArrayBuffer.");var C=new Uint8Array(p);return this.checksum=aA(this.checksum,C)}),vn.clone=function(){return new jt(this.checksum)},Gn),Zi.from=function(p){if(null==p)throw new Error("First argument needs to be a string.");return ei(1,p.toString())},Zi.fromUtf8=function(p){if(null==p)throw new Error("First argument needs to be a string.");var C=yA(p.toString());return ei(1,C)},Fr&&(Zi.fromBuffer=function(p){if(!hA(p))throw new Error("First argument need to be ArrayBuffer.");var C=new Uint8Array(p);return aA(1,C)}),Zi),function(p){p.__bidiEngine__=p.prototype.__bidiEngine__=function(N){var U,x,M,q,P,dt,pt,Tt=C,T=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],G=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],W={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Z={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},at=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],ft=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),It=!1,Mt=0;this.__bidiEngine__={};var Nt=function(st){var wt=st.charCodeAt(),Ut=wt>>8,mt=Z[Ut];return void 0!==mt?Tt[256*mt+(255&wt)]:252===Ut||253===Ut?"AL":ft.test(Ut)?"L":8===Ut?"R":"N"},oe=function(st){for(var wt,Ut=0;Ut<st.length;Ut++){if("L"===(wt=Nt(st.charAt(Ut))))return!1;if("R"===wt)return!0}return!1},ne=function(st,wt,Ut,mt){var lt,H,$,ot,S=wt[mt];switch(S){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":It=!1;break;case"N":case"AN":break;case"EN":It&&(S="AN");break;case"AL":It=!0,S="R";break;case"WS":case"BN":S="N";break;case"CS":mt<1||mt+1>=wt.length||"EN"!==(lt=Ut[mt-1])&&"AN"!==lt||"EN"!==(H=wt[mt+1])&&"AN"!==H?S="N":It&&(H="AN"),S=H===lt?H:"N";break;case"ES":S="EN"===(lt=0<mt?Ut[mt-1]:"B")&&mt+1<wt.length&&"EN"===wt[mt+1]?"EN":"N";break;case"ET":if(0<mt&&"EN"===Ut[mt-1]){S="EN";break}if(It){S="N";break}for($=mt+1,ot=wt.length;$<ot&&"ET"===wt[$];)$++;S=$<ot&&"EN"===wt[$]?"EN":"N";break;case"NSM":if(M&&!q){for(ot=wt.length,$=mt+1;$<ot&&"NSM"===wt[$];)$++;if($<ot){var V=st[mt];if(lt=wt[$],(1425<=V&&V<=2303||64286===V)&&("R"===lt||"AL"===lt)){S="R";break}}}S=mt<1||"B"===(lt=wt[mt-1])?"N":Ut[mt-1];break;case"B":U=!(It=!1),S=Mt;break;case"S":x=!0,S="N"}return S},bt=function(st,wt,Ut){var mt=st.split("");return Ut&&J(mt,Ut,{hiLevel:Mt}),mt.reverse(),wt&&wt.reverse(),mt.join("")},J=function(st,wt,Ut){var mt,lt,H,$,ot,S=-1,V=st.length,rt=0,it=[],gt=Mt?G:T,tt=[];for(x=U=It=!1,lt=0;lt<V;lt++)tt[lt]=Nt(st[lt]);for(H=0;H<V;H++){if(ot=rt,it[H]=ne(st,tt,it,H),mt=240&(rt=gt[ot][W[it[H]]]),wt[H]=$=gt[rt&=15][5],0<mt)if(16===mt){for(lt=S;lt<H;lt++)wt[lt]=1;S=-1}else S=-1;if(gt[rt][6])-1===S&&(S=H);else if(-1<S){for(lt=S;lt<H;lt++)wt[lt]=$;S=-1}"B"===tt[H]&&(wt[H]=0),Ut.hiLevel|=$}x&&function(kt,Yt,le){for(var we=0;we<le;we++)if("S"===kt[we]){Yt[we]=Mt;for(var Jt=we-1;0<=Jt&&"WS"===kt[Jt];Jt--)Yt[Jt]=Mt}}(tt,wt,V)},qt=function(st,wt,Ut,mt,lt){if(!(lt.hiLevel<st)){if(1===st&&1===Mt&&!U)return wt.reverse(),void(Ut&&Ut.reverse());for(var H,$,ot,S,V=wt.length,rt=0;rt<V;){if(mt[rt]>=st){for(ot=rt+1;ot<V&&mt[ot]>=st;)ot++;for(S=rt,$=ot-1;S<$;S++,$--)H=wt[S],wt[S]=wt[$],wt[$]=H,Ut&&(H=Ut[S],Ut[S]=Ut[$],Ut[$]=H);rt=ot}rt++}}},ht=function(st,wt,Ut){var mt=st.split(""),lt={hiLevel:Mt};return Ut||(Ut=[]),J(mt,Ut,lt),function(H,$,ot){if(0!==ot.hiLevel&&pt)for(var S,V=0;V<H.length;V++)1===$[V]&&0<=(S=at.indexOf(H[V]))&&(H[V]=at[S+1])}(mt,Ut,lt),qt(2,mt,wt,Ut,lt),qt(1,mt,wt,Ut,lt),mt.join("")};return this.__bidiEngine__.doBidiReorder=function(st,wt,Ut){if(function(lt,H){if(H)for(var $=0;$<lt.length;$++)H[$]=$;void 0===q&&(q=oe(lt)),void 0===dt&&(dt=oe(lt))}(st,wt),M||!P||dt)if(M&&P&&q^dt)Mt=q?1:0,st=bt(st,wt,Ut);else if(!M&&P&&dt)Mt=q?1:0,st=ht(st,wt,Ut),st=bt(st,wt);else if(!M||q||P||dt){if(M&&!P&&q^dt)st=bt(st,wt),st=q?(Mt=0,ht(st,wt,Ut)):(Mt=1,st=ht(st,wt,Ut),bt(st,wt));else if(M&&q&&!P&&dt)Mt=1,st=ht(st,wt,Ut),st=bt(st,wt);else if(!M&&!P&&q^dt){var mt=pt;q?(Mt=1,st=ht(st,wt,Ut),Mt=0,pt=!1,st=ht(st,wt,Ut),pt=mt):(Mt=0,st=ht(st,wt,Ut),st=bt(st,wt),pt=!(Mt=1),st=ht(st,wt,Ut),pt=mt,st=bt(st,wt))}}else Mt=0,st=ht(st,wt,Ut);else Mt=q?1:0,st=ht(st,wt,Ut);return st},this.__bidiEngine__.setOptions=function(st){st&&(M=st.isInputVisual,P=st.isOutputVisual,q=st.isInputRtl,dt=st.isOutputRtl,pt=st.isSymmetricSwapping)},this.__bidiEngine__.setOptions(N),this.__bidiEngine__};var C=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],k=new p.__bidiEngine__({isInputVisual:!0});p.API.events.push(["postProcessText",function(N){var U=N.text,M=[];if("[object Array]"===Object.prototype.toString.call(U)){var q=0;for(M=[],q=0;q<U.length;q+=1)"[object Array]"===Object.prototype.toString.call(U[q])?M.push([k.doBidiReorder(U[q][0]),U[q][1],U[q][2]]):M.push([k.doBidiReorder(U[q])]);N.text=M}else N.text=k.doBidiReorder(U)}])}(en),window.tmp=er,Oe.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var p=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(p);for(var C=0;C<p;C++){var k=this.datav.getUint8(this.pos++,!0),N=this.datav.getUint8(this.pos++,!0),U=this.datav.getUint8(this.pos++,!0),x=this.datav.getUint8(this.pos++,!0);this.palette[C]={red:U,green:N,blue:k,quad:x}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Oe.prototype.parseBGR=function(){this.pos=this.offset;try{var p="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[p]()}catch(k){console.log("bit decode error:"+k)}},Oe.prototype.bit1=function(){var p=Math.ceil(this.width/8),C=p%4,k=0<=this.height?this.height-1:-this.height;for(k=this.height-1;0<=k;k--){for(var N=this.bottom_up?k:this.height-1-k,U=0;U<p;U++)for(var x=this.datav.getUint8(this.pos++,!0),M=N*this.width*4+8*U*4,q=0;q<8&&8*U+q<this.width;q++){var P=this.palette[x>>7-q&1];this.data[M+4*q]=P.blue,this.data[M+4*q+1]=P.green,this.data[M+4*q+2]=P.red,this.data[M+4*q+3]=255}0!=C&&(this.pos+=4-C)}},Oe.prototype.bit4=function(){for(var p=Math.ceil(this.width/2),C=p%4,k=this.height-1;0<=k;k--){for(var N=this.bottom_up?k:this.height-1-k,U=0;U<p;U++){var x=this.datav.getUint8(this.pos++,!0),M=N*this.width*4+2*U*4,P=15&x,dt=this.palette[x>>4];if(this.data[M]=dt.blue,this.data[M+1]=dt.green,this.data[M+2]=dt.red,this.data[M+3]=255,2*U+1>=this.width)break;this.data[M+4]=(dt=this.palette[P]).blue,this.data[M+4+1]=dt.green,this.data[M+4+2]=dt.red,this.data[M+4+3]=255}0!=C&&(this.pos+=4-C)}},Oe.prototype.bit8=function(){for(var p=this.width%4,C=this.height-1;0<=C;C--){for(var k=this.bottom_up?C:this.height-1-C,N=0;N<this.width;N++){var U=this.datav.getUint8(this.pos++,!0),x=k*this.width*4+4*N;if(U<this.palette.length){var M=this.palette[U];this.data[x]=M.red,this.data[x+1]=M.green,this.data[x+2]=M.blue,this.data[x+3]=255}else this.data[x]=255,this.data[x+1]=255,this.data[x+2]=255,this.data[x+3]=255}0!=p&&(this.pos+=4-p)}},Oe.prototype.bit15=function(){for(var p=this.width%3,C=parseInt("11111",2),k=this.height-1;0<=k;k--){for(var N=this.bottom_up?k:this.height-1-k,U=0;U<this.width;U++){var x=this.datav.getUint16(this.pos,!0);this.pos+=2;var M=(x&C)/C*255|0,q=(x>>5&C)/C*255|0,dt=x>>15?255:0,pt=N*this.width*4+4*U;this.data[pt]=(x>>10&C)/C*255|0,this.data[pt+1]=q,this.data[pt+2]=M,this.data[pt+3]=dt}this.pos+=p}},Oe.prototype.bit16=function(){for(var p=this.width%3,C=parseInt("11111",2),k=parseInt("111111",2),N=this.height-1;0<=N;N--){for(var U=this.bottom_up?N:this.height-1-N,x=0;x<this.width;x++){var M=this.datav.getUint16(this.pos,!0);this.pos+=2;var q=(M&C)/C*255|0,P=(M>>5&k)/k*255|0,pt=U*this.width*4+4*x;this.data[pt]=(M>>11)/C*255|0,this.data[pt+1]=P,this.data[pt+2]=q,this.data[pt+3]=255}this.pos+=p}},Oe.prototype.bit24=function(){for(var p=this.height-1;0<=p;p--){for(var C=this.bottom_up?p:this.height-1-p,k=0;k<this.width;k++){var N=this.datav.getUint8(this.pos++,!0),U=this.datav.getUint8(this.pos++,!0),x=this.datav.getUint8(this.pos++,!0),M=C*this.width*4+4*k;this.data[M]=x,this.data[M+1]=U,this.data[M+2]=N,this.data[M+3]=255}this.pos+=this.width%4}},Oe.prototype.bit32=function(){for(var p=this.height-1;0<=p;p--)for(var C=this.bottom_up?p:this.height-1-p,k=0;k<this.width;k++){var N=this.datav.getUint8(this.pos++,!0),U=this.datav.getUint8(this.pos++,!0),x=this.datav.getUint8(this.pos++,!0),M=this.datav.getUint8(this.pos++,!0),q=C*this.width*4+4*k;this.data[q]=x,this.data[q+1]=U,this.data[q+2]=N,this.data[q+3]=M}},Oe.prototype.getData=function(){return this.data},window.tmp=Oe,function(p){var C=15,k=573,N=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function U(){var G=this;function W(Z,at){for(var ft=0;ft|=1&Z,Z>>>=1,ft<<=1,0<--at;);return ft>>>1}G.build_tree=function(Z){var at,ft,It,Mt=G.dyn_tree,Nt=G.stat_desc.static_tree,oe=G.stat_desc.elems,ne=-1;for(Z.heap_len=0,Z.heap_max=k,at=0;at<oe;at++)0!==Mt[2*at]?(Z.heap[++Z.heap_len]=ne=at,Z.depth[at]=0):Mt[2*at+1]=0;for(;Z.heap_len<2;)Mt[2*(It=Z.heap[++Z.heap_len]=ne<2?++ne:0)]=1,Z.depth[It]=0,Z.opt_len--,Nt&&(Z.static_len-=Nt[2*It+1]);for(G.max_code=ne,at=Math.floor(Z.heap_len/2);1<=at;at--)Z.pqdownheap(Mt,at);for(It=oe;at=Z.heap[1],Z.heap[1]=Z.heap[Z.heap_len--],Z.pqdownheap(Mt,1),ft=Z.heap[1],Z.heap[--Z.heap_max]=at,Z.heap[--Z.heap_max]=ft,Mt[2*It]=Mt[2*at]+Mt[2*ft],Z.depth[It]=Math.max(Z.depth[at],Z.depth[ft])+1,Mt[2*at+1]=Mt[2*ft+1]=It,Z.heap[1]=It++,Z.pqdownheap(Mt,1),2<=Z.heap_len;);Z.heap[--Z.heap_max]=Z.heap[1],function(bt){var J,qt,ht,st,wt,Ut,mt=G.dyn_tree,lt=G.stat_desc.static_tree,H=G.stat_desc.extra_bits,$=G.stat_desc.extra_base,ot=G.stat_desc.max_length,S=0;for(st=0;st<=C;st++)bt.bl_count[st]=0;for(mt[2*bt.heap[bt.heap_max]+1]=0,J=bt.heap_max+1;J<k;J++)ot<(st=mt[2*mt[2*(qt=bt.heap[J])+1]+1]+1)&&(st=ot,S++),mt[2*qt+1]=st,qt>G.max_code||(bt.bl_count[st]++,wt=0,$<=qt&&(wt=H[qt-$]),bt.opt_len+=(Ut=mt[2*qt])*(st+wt),lt&&(bt.static_len+=Ut*(lt[2*qt+1]+wt)));if(0!==S){do{for(st=ot-1;0===bt.bl_count[st];)st--;bt.bl_count[st]--,bt.bl_count[st+1]+=2,bt.bl_count[ot]--,S-=2}while(0<S);for(st=ot;0!==st;st--)for(qt=bt.bl_count[st];0!==qt;)(ht=bt.heap[--J])>G.max_code||(mt[2*ht+1]!=st&&(bt.opt_len+=(st-mt[2*ht+1])*mt[2*ht],mt[2*ht+1]=st),qt--)}}(Z),function(bt,J,qt){var ht,st,wt,Ut=[],mt=0;for(ht=1;ht<=C;ht++)Ut[ht]=mt=mt+qt[ht-1]<<1;for(st=0;st<=J;st++)0!==(wt=bt[2*st+1])&&(bt[2*st]=W(Ut[wt]++,wt))}(Mt,G.max_code,Z.bl_count)}}function x(G,W,Z,at,ft){this.static_tree=G,this.extra_bits=W,this.extra_base=Z,this.elems=at,this.max_length=ft}function M(G,W,Z,at,ft){this.good_length=G,this.max_lazy=W,this.nice_length=Z,this.max_chain=at,this.func=ft}U._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],U.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],U.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],U.d_code=function(G){return G<256?N[G]:N[256+(G>>>7)]},U.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],x.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],x.static_l_desc=new x(x.static_ltree,U.extra_lbits,257,286,C),x.static_d_desc=new x(x.static_dtree,U.extra_dbits,0,30,C),x.static_bl_desc=new x(null,U.extra_blbits,0,19,7);var q=[new M(0,0,0,0,0),new M(4,4,8,4,1),new M(4,5,16,8,1),new M(4,6,32,32,1),new M(4,4,16,16,2),new M(8,16,32,32,2),new M(8,16,128,128,2),new M(8,32,128,256,2),new M(32,128,258,1024,2),new M(32,258,258,4096,2)],P=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function dt(G,W,Z,at){var ft=G[2*W],It=G[2*Z];return ft<It||ft==It&&at[W]<=at[Z]}function pt(){var G,W,Z,at,ft,It,Mt,Nt,oe,ne,bt,J,qt,ht,st,wt,Ut,mt,lt,H,$,ot,S,V,rt,it,gt,tt,kt,Yt,le,we,Jt,de,Ae,De,nt,Bt,ct,Et,Xt,ee=this,Fe=new U,be=new U,Ir=new U;function $e(){var xe;for(xe=0;xe<286;xe++)le[2*xe]=0;for(xe=0;xe<30;xe++)we[2*xe]=0;for(xe=0;xe<19;xe++)Jt[2*xe]=0;le[512]=1,ee.opt_len=ee.static_len=0,De=Bt=0}function Pr(xe,Ne){var qe,We,h=-1,g=xe[1],w=0,F=7,K=4;for(0===g&&(F=138,K=3),xe[2*(Ne+1)+1]=65535,qe=0;qe<=Ne;qe++)We=g,g=xe[2*(qe+1)+1],++w<F&&We==g||(w<K?Jt[2*We]+=w:0!==We?(We!=h&&Jt[2*We]++,Jt[32]++):w<=10?Jt[34]++:Jt[36]++,h=We,K=(w=0)===g?(F=138,3):We==g?(F=6,3):(F=7,4))}function Ar(xe){ee.pending_buf[ee.pending++]=xe}function fr(xe){Ar(255&xe),Ar(xe>>>8&255)}function pr(xe,Ne){var qe,We=Ne;16-We<Xt?(fr(Et|=(qe=xe)<<Xt&65535),Et=qe>>>16-Xt,Xt+=We-16):(Et|=xe<<Xt&65535,Xt+=We)}function ln(xe,Ne){var qe=2*xe;pr(65535&Ne[qe],65535&Ne[qe+1])}function un(xe,Ne){var qe,We,h=-1,g=xe[1],w=0,F=7,K=4;for(0===g&&(F=138,K=3),qe=0;qe<=Ne;qe++)if(We=g,g=xe[2*(qe+1)+1],!(++w<F&&We==g)){if(w<K)for(;ln(We,Jt),0!=--w;);else 0!==We?(We!=h&&(ln(We,Jt),w--),ln(16,Jt),pr(w-3,2)):w<=10?(ln(17,Jt),pr(w-3,3)):(ln(18,Jt),pr(w-11,7));h=We,K=(w=0)===g?(F=138,3):We==g?(F=6,3):(F=7,4)}}function Qr(){16==Xt?(fr(Et),Xt=Et=0):8<=Xt&&(Ar(255&Et),Et>>>=8,Xt-=8)}function Te(xe,Ne){var qe,We,h;if(ee.pending_buf[nt+2*De]=xe>>>8&255,ee.pending_buf[nt+2*De+1]=255&xe,ee.pending_buf[de+De]=255&Ne,De++,0===xe?le[2*Ne]++:(Bt++,xe--,le[2*(U._length_code[Ne]+256+1)]++,we[2*U.d_code(xe)]++),0==(8191&De)&&2<gt){for(qe=8*De,We=$-Ut,h=0;h<30;h++)qe+=we[2*h]*(5+U.extra_dbits[h]);if(qe>>>=3,Bt<Math.floor(De/2)&&qe<Math.floor(We/2))return!0}return De==Ae-1}function yr(xe,Ne){var qe,We,h,g,w=0;if(0!==De)for(;qe=ee.pending_buf[nt+2*w]<<8&65280|255&ee.pending_buf[nt+2*w+1],We=255&ee.pending_buf[de+w],w++,0===qe?ln(We,xe):(ln((h=U._length_code[We])+256+1,xe),0!==(g=U.extra_lbits[h])&&pr(We-=U.base_length[h],g),ln(h=U.d_code(--qe),Ne),0!==(g=U.extra_dbits[h])&&pr(qe-=U.base_dist[h],g)),w<De;);ln(256,xe),ct=xe[513]}function li(){8<Xt?fr(Et):0<Xt&&Ar(255&Et),Xt=Et=0}function ui(xe,Ne,qe){var We,h;pr(0+(qe?1:0),3),We=xe,h=Ne,li(),ct=8,fr(h),fr(~h),ee.pending_buf.set(Nt.subarray(We,We+h),ee.pending),ee.pending+=h}function xn(xe){(function $i(xe,Ne,qe){var We,h,g=0;0<gt?(Fe.build_tree(ee),be.build_tree(ee),g=function(){var w;for(Pr(le,Fe.max_code),Pr(we,be.max_code),Ir.build_tree(ee),w=18;3<=w&&0===Jt[2*U.bl_order[w]+1];w--);return ee.opt_len+=3*(w+1)+5+5+4,w}(),(h=ee.static_len+3+7>>>3)<=(We=ee.opt_len+3+7>>>3)&&(We=h)):We=h=Ne+5,Ne+4<=We&&-1!=xe?ui(xe,Ne,qe):h==We?(pr(2+(qe?1:0),3),yr(x.static_ltree,x.static_dtree)):(pr(4+(qe?1:0),3),function(w,F,K){var Y;for(pr(w-257,5),pr(F-1,5),pr(K-4,4),Y=0;Y<K;Y++)pr(Jt[2*U.bl_order[Y]+1],3);un(le,w-1),un(we,F-1)}(Fe.max_code+1,be.max_code+1,g+1),yr(le,we)),$e(),qe&&li()})(0<=Ut?Ut:-1,$-Ut,xe),Ut=$,G.flush_pending()}function vi(){var xe,Ne,qe,We;do{if(0==(We=oe-S-$)&&0===$&&0===S)We=ft;else if(-1==We)We--;else if(ft+ft-262<=$){for(Nt.set(Nt.subarray(ft,ft+ft),0),ot-=ft,$-=ft,Ut-=ft,qe=xe=qt;Ne=65535&bt[--qe],bt[qe]=ft<=Ne?Ne-ft:0,0!=--xe;);for(qe=xe=ft;Ne=65535&ne[--qe],ne[qe]=ft<=Ne?Ne-ft:0,0!=--xe;);We+=ft}if(0===G.avail_in)return;xe=G.read_buf(Nt,$+S,We),3<=(S+=xe)&&(J=((J=255&Nt[$])<<wt^255&Nt[$+1])&st)}while(S<262&&0!==G.avail_in)}function Mi(xe){var Ne,qe,We=rt,h=$,g=V,w=ft-262<$?$-(ft-262):0,F=Yt,K=Mt,Y=$+258,ut=Nt[h+g-1],Dt=Nt[h+g];kt<=V&&(We>>=2),S<F&&(F=S);do{if(Nt[(Ne=xe)+g]==Dt&&Nt[Ne+g-1]==ut&&Nt[Ne]==Nt[h]&&Nt[++Ne]==Nt[h+1]){h+=2,Ne++;do{}while(Nt[++h]==Nt[++Ne]&&Nt[++h]==Nt[++Ne]&&Nt[++h]==Nt[++Ne]&&Nt[++h]==Nt[++Ne]&&Nt[++h]==Nt[++Ne]&&Nt[++h]==Nt[++Ne]&&Nt[++h]==Nt[++Ne]&&Nt[++h]==Nt[++Ne]&&h<Y);if(qe=258-(Y-h),h=Y-258,g<qe){if(ot=xe,F<=(g=qe))break;ut=Nt[h+g-1],Dt=Nt[h+g]}}}while((xe=65535&ne[xe&K])>w&&0!=--We);return g<=S?g:S}ee.depth=[],ee.bl_count=[],ee.heap=[],le=[],we=[],Jt=[],ee.pqdownheap=function(xe,Ne){for(var qe=ee.heap,We=qe[Ne],h=Ne<<1;h<=ee.heap_len&&(h<ee.heap_len&&dt(xe,qe[h+1],qe[h],ee.depth)&&h++,!dt(xe,We,qe[h],ee.depth));)qe[Ne]=qe[h],Ne=h,h<<=1;qe[Ne]=We},ee.deflateInit=function(xe,Ne,qe,We,h,g){return We||(We=8),h||(h=8),g||(g=0),xe.msg=null,-1==Ne&&(Ne=6),h<1||9<h||8!=We||qe<9||15<qe||Ne<0||9<Ne||g<0||2<g?-2:(xe.dstate=ee,Mt=(ft=1<<(It=qe))-1,st=(qt=1<<(ht=h+7))-1,wt=Math.floor((ht+3-1)/3),Nt=new Uint8Array(2*ft),ne=[],bt=[],Ae=1<<h+6,ee.pending_buf=new Uint8Array(4*Ae),Z=4*Ae,nt=Math.floor(Ae/2),de=3*Ae,gt=Ne,tt=g,function yi(xe){return xe.total_in=xe.total_out=0,xe.msg=null,ee.pending=0,ee.pending_out=0,W=113,at=0,Fe.dyn_tree=le,Fe.stat_desc=x.static_l_desc,be.dyn_tree=we,be.stat_desc=x.static_d_desc,Ir.dyn_tree=Jt,Ir.stat_desc=x.static_bl_desc,Xt=Et=0,ct=8,$e(),function(){var Ne;for(oe=2*ft,Ne=bt[qt-1]=0;Ne<qt-1;Ne++)bt[Ne]=0;it=q[gt].max_lazy,kt=q[gt].good_length,Yt=q[gt].nice_length,rt=q[gt].max_chain,mt=V=2,J=H=S=Ut=$=0}(),0}(xe))},ee.deflateEnd=function(){return 42!=W&&113!=W&&666!=W?-2:(ee.pending_buf=null,Nt=ne=bt=null,ee.dstate=null,113==W?-3:0)},ee.deflateParams=function(xe,Ne,qe){var We=0;return-1==Ne&&(Ne=6),Ne<0||9<Ne||qe<0||2<qe?-2:(q[gt].func!=q[Ne].func&&0!==xe.total_in&&(We=xe.deflate(1)),gt!=Ne&&(it=q[gt=Ne].max_lazy,kt=q[gt].good_length,Yt=q[gt].nice_length,rt=q[gt].max_chain),tt=qe,We)},ee.deflateSetDictionary=function(xe,Ne,qe){var We,h=qe,g=0;if(!Ne||42!=W)return-2;if(h<3)return 0;for(ft-262<h&&(g=qe-(h=ft-262)),Nt.set(Ne.subarray(g,g+h),0),Ut=$=h,J=((J=255&Nt[0])<<wt^255&Nt[1])&st,We=0;We<=h-3;We++)ne[We&Mt]=bt[J=(J<<wt^255&Nt[We+2])&st],bt[J]=We;return 0},ee.deflate=function(xe,Ne){var qe,We,h,g,w,F;if(4<Ne||Ne<0)return-2;if(!xe.next_out||!xe.next_in&&0!==xe.avail_in||666==W&&4!=Ne)return xe.msg=P[4],-2;if(0===xe.avail_out)return xe.msg=P[7],-5;if(G=xe,g=at,at=Ne,42==W&&(We=8+(It-8<<4)<<8,3<(h=(gt-1&255)>>1)&&(h=3),We|=h<<6,0!==$&&(We|=32),W=113,Ar((F=We+=31-We%31)>>8&255),Ar(255&F)),0!==ee.pending){if(G.flush_pending(),0===G.avail_out)return at=-1,0}else if(0===G.avail_in&&Ne<=g&&4!=Ne)return G.msg=P[7],-5;if(666==W&&0!==G.avail_in)return xe.msg=P[7],-5;if(0!==G.avail_in||0!==S||0!=Ne&&666!=W){switch(w=-1,q[gt].func){case 0:w=function(K){var Y,ut=65535;for(Z-5<ut&&(ut=Z-5);;){if(S<=1){if(vi(),0===S&&0==K)return 0;if(0===S)break}if($+=S,Y=Ut+ut,((S=0)===$||Y<=$)&&(S=$-Y,$=Y,xn(!1),0===G.avail_out)||ft-262<=$-Ut&&(xn(!1),0===G.avail_out))return 0}return xn(4==K),0===G.avail_out?4==K?2:0:4==K?3:1}(Ne);break;case 1:w=function(K){for(var Y,ut=0;;){if(S<262){if(vi(),S<262&&0==K)return 0;if(0===S)break}if(3<=S&&(ut=65535&bt[J=(J<<wt^255&Nt[$+2])&st],ne[$&Mt]=bt[J],bt[J]=$),0!==ut&&($-ut&65535)<=ft-262&&2!=tt&&(mt=Mi(ut)),3<=mt)if(Y=Te($-ot,mt-3),S-=mt,mt<=it&&3<=S){for(mt--;J=(J<<wt^255&Nt[2+ ++$])&st,ut=65535&bt[J],ne[$&Mt]=bt[J],bt[J]=$,0!=--mt;);$++}else $+=mt,mt=0,J=((J=255&Nt[$])<<wt^255&Nt[$+1])&st;else Y=Te(0,255&Nt[$]),S--,$++;if(Y&&(xn(!1),0===G.avail_out))return 0}return xn(4==K),0===G.avail_out?4==K?2:0:4==K?3:1}(Ne);break;case 2:w=function(K){for(var Y,ut,Dt=0;;){if(S<262){if(vi(),S<262&&0==K)return 0;if(0===S)break}if(3<=S&&(Dt=65535&bt[J=(J<<wt^255&Nt[$+2])&st],ne[$&Mt]=bt[J],bt[J]=$),V=mt,lt=ot,mt=2,0!==Dt&&V<it&&($-Dt&65535)<=ft-262&&(2!=tt&&(mt=Mi(Dt)),mt<=5&&(1==tt||3==mt&&4096<$-ot)&&(mt=2)),3<=V&&mt<=V){for(ut=$+S-3,Y=Te($-1-lt,V-3),S-=V-1,V-=2;++$<=ut&&(Dt=65535&bt[J=(J<<wt^255&Nt[$+2])&st],ne[$&Mt]=bt[J],bt[J]=$),0!=--V;);if(H=0,mt=2,$++,Y&&(xn(!1),0===G.avail_out))return 0}else if(0!==H){if((Y=Te(0,255&Nt[$-1]))&&xn(!1),$++,S--,0===G.avail_out)return 0}else H=1,$++,S--}return 0!==H&&(Y=Te(0,255&Nt[$-1]),H=0),xn(4==K),0===G.avail_out?4==K?2:0:4==K?3:1}(Ne)}if(2!=w&&3!=w||(W=666),0==w||2==w)return 0===G.avail_out&&(at=-1),0;if(1==w){if(1==Ne)pr(2,3),ln(256,x.static_ltree),Qr(),1+ct+10-Xt<9&&(pr(2,3),ln(256,x.static_ltree),Qr()),ct=7;else if(ui(0,0,!1),3==Ne)for(qe=0;qe<qt;qe++)bt[qe]=0;if(G.flush_pending(),0===G.avail_out)return at=-1,0}}return 4!=Ne?0:1}}function Tt(){this.next_in_index=0,this.next_out_index=0,this.avail_in=0,this.total_in=0,this.avail_out=0,this.total_out=0}Tt.prototype={deflateInit:function(G,W){return this.dstate=new pt,W||(W=C),this.dstate.deflateInit(this,G,W)},deflate:function(G){return this.dstate?this.dstate.deflate(this,G):-2},deflateEnd:function(){if(!this.dstate)return-2;var G=this.dstate.deflateEnd();return this.dstate=null,G},deflateParams:function(G,W){return this.dstate?this.dstate.deflateParams(this,G,W):-2},deflateSetDictionary:function(G,W){return this.dstate?this.dstate.deflateSetDictionary(this,G,W):-2},read_buf:function(G,W,Z){var at=this.avail_in;return Z<at&&(at=Z),0===at?0:(this.avail_in-=at,G.set(this.next_in.subarray(this.next_in_index,this.next_in_index+at),W),this.next_in_index+=at,this.total_in+=at,at)},flush_pending:function(){var G=this,W=G.dstate.pending;W>G.avail_out&&(W=G.avail_out),0!==W&&(G.next_out.set(G.dstate.pending_buf.subarray(G.dstate.pending_out,G.dstate.pending_out+W),G.next_out_index),G.next_out_index+=W,G.dstate.pending_out+=W,G.total_out+=W,G.avail_out-=W,G.dstate.pending-=W,0===G.dstate.pending&&(G.dstate.pending_out=0))}};var T=p.zip||p;T.Deflater=T._jzlib_Deflater=function(G){var W=new Tt,Z=new Uint8Array(512),at=G?G.level:-1;void 0===at&&(at=-1),W.deflateInit(at),W.next_out=Z,this.append=function(ft,It){var Mt,Nt=[],oe=0,ne=0,bt=0;if(ft.length){W.next_in_index=0,W.next_in=ft,W.avail_in=ft.length;do{if(W.next_out_index=0,W.avail_out=512,0!=W.deflate(0))throw new Error("deflating: "+W.msg);W.next_out_index&&Nt.push(512==W.next_out_index?new Uint8Array(Z):new Uint8Array(Z.subarray(0,W.next_out_index))),bt+=W.next_out_index,It&&0<W.next_in_index&&W.next_in_index!=oe&&(It(W.next_in_index),oe=W.next_in_index)}while(0<W.avail_in||0===W.avail_out);return Mt=new Uint8Array(bt),Nt.forEach(function(J){Mt.set(J,ne),ne+=J.length}),Mt}},this.flush=function(){var ft,It,Mt=[],Nt=0,oe=0;do{if(W.next_out_index=0,W.avail_out=512,1!=(ft=W.deflate(4))&&0!=ft)throw new Error("deflating: "+W.msg);0<512-W.avail_out&&Mt.push(new Uint8Array(Z.subarray(0,W.next_out_index))),oe+=W.next_out_index}while(0<W.avail_in||0===W.avail_out);return W.deflateEnd(),It=new Uint8Array(oe),Mt.forEach(function(ne){It.set(ne,Nt),Nt+=ne.length}),It}}}(typeof self<"u"&&self||typeof window<"u"&&window||typeof global<"u"&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),(typeof self<"u"&&self||typeof window<"u"&&window||typeof global<"u"&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()).RGBColor=function(p){var C;p=p||"",this.ok=!1,"#"==p.charAt(0)&&(p=p.substr(1,6)),p=(p=p.replace(/ /g,"")).toLowerCase();var k={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var N in k)p==N&&(p=k[N]);for(var U=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(dt){return[parseInt(dt[1]),parseInt(dt[2]),parseInt(dt[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(dt){return[parseInt(dt[1],16),parseInt(dt[2],16),parseInt(dt[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(dt){return[parseInt(dt[1]+dt[1],16),parseInt(dt[2]+dt[2],16),parseInt(dt[3]+dt[3],16)]}}],x=0;x<U.length;x++){var q=U[x].process,P=U[x].re.exec(p);P&&(C=q(P),this.r=C[0],this.g=C[1],this.b=C[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var dt=this.r.toString(16),pt=this.g.toString(16),Tt=this.b.toString(16);return 1==dt.length&&(dt="0"+dt),1==pt.length&&(pt="0"+pt),1==Tt.length&&(Tt="0"+Tt),"#"+dt+pt+Tt}},function(p){var C="+".charCodeAt(0),k="/".charCodeAt(0),N="0".charCodeAt(0),U="a".charCodeAt(0),x="A".charCodeAt(0),M="-".charCodeAt(0),q="_".charCodeAt(0),P=function(mt){var lt=mt.charCodeAt(0);return lt===C||lt===M?62:lt===k||lt===q?63:lt<N?-1:lt<N+10?lt-N+26+26:lt<x+26?lt-x:lt<U+26?lt-U+26:void 0};p.API.TTFFont=function(){function mt(lt,H,$){var ot;if(this.rawData=lt,ot=this.contents=new pt(lt),this.contents.pos=4,"ttcf"===ot.readString(4))throw H?new Error("Font "+H+" not found in TTC file."):new Error("Must specify a font name for TTC files.");ot.pos=0,this.parse(),this.subset=new Ut(this),this.registerTTF()}return mt.open=function(lt,H,$,ot){if("string"!=typeof $)throw new Error("Invalid argument supplied in TTFFont.open");return new mt(function(S){var V,rt,it,gt,tt,kt;if(0<S.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var Yt=S.length;tt="="===S.charAt(Yt-2)?2:"="===S.charAt(Yt-1)?1:0,kt=new Uint8Array(3*S.length/4-tt),it=0<tt?S.length-4:S.length;var le=0;function we(Jt){kt[le++]=Jt}for(rt=V=0;V<it;V+=4,rt+=3)we((16711680&(gt=P(S.charAt(V))<<18|P(S.charAt(V+1))<<12|P(S.charAt(V+2))<<6|P(S.charAt(V+3))))>>16),we((65280&gt)>>8),we(255&gt);return 2===tt?we(255&(gt=P(S.charAt(V))<<2|P(S.charAt(V+1))>>4)):1===tt&&(we((gt=P(S.charAt(V))<<10|P(S.charAt(V+1))<<4|P(S.charAt(V+2))>>2)>>8&255),we(255&gt)),kt}($),H,ot)},mt.prototype.parse=function(){return this.directory=new Tt(this.contents),this.head=new W(this),this.name=new oe(this),this.cmap=new at(this),this.toUnicode=new Map,this.hhea=new ft(this),this.maxp=new ne(this),this.hmtx=new bt(this),this.post=new Mt(this),this.os2=new It(this),this.loca=new wt(this),this.glyf=new qt(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},mt.prototype.registerTTF=function(){var H,$,ot,S;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var V,rt,it,gt;for(gt=[],V=0,rt=(it=this.bbox).length;V<rt;V++)gt.push(Math.round(it[V]*this.scaleFactor));return gt}.call(this),this.stemV=0,this.post.exists?($=255&(ot=this.post.italic_angle),!0&(H=ot>>16)&&(H=-(1+(65535^H))),this.italicAngle=+(H+"."+$)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(S=this.familyClass)||2===S||3===S||4===S||5===S||7===S,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},mt.prototype.characterToGlyph=function(lt){var H;return(null!=(H=this.cmap.unicode)?H.codeMap[lt]:void 0)||0},mt.prototype.widthOfGlyph=function(lt){var H;return H=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(lt).advance*H},mt.prototype.widthOfString=function(lt,H,$){var ot,S,V,rt,it;for(S=rt=V=0,it=(lt=""+lt).length;0<=it?rt<it:it<rt;S=0<=it?++rt:--rt)ot=lt.charCodeAt(S),V+=this.widthOfGlyph(this.characterToGlyph(ot))+$*(1e3/H)||0;return V*(H/1e3)},mt.prototype.lineHeight=function(lt,H){return null==H&&(H=!1),(this.ascender+(H?this.lineGap:0)-this.decender)/1e3*lt},mt}();var dt,pt=function(){function mt(lt){this.data=lt??[],this.pos=0,this.length=this.data.length}return mt.prototype.readByte=function(){return this.data[this.pos++]},mt.prototype.writeByte=function(lt){return this.data[this.pos++]=lt},mt.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},mt.prototype.writeUInt32=function(lt){return this.writeByte(lt>>>24&255),this.writeByte(lt>>16&255),this.writeByte(lt>>8&255),this.writeByte(255&lt)},mt.prototype.readInt32=function(){var lt;return 2147483648<=(lt=this.readUInt32())?lt-4294967296:lt},mt.prototype.writeInt32=function(lt){return lt<0&&(lt+=4294967296),this.writeUInt32(lt)},mt.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},mt.prototype.writeUInt16=function(lt){return this.writeByte(lt>>8&255),this.writeByte(255&lt)},mt.prototype.readInt16=function(){var lt;return 32768<=(lt=this.readUInt16())?lt-65536:lt},mt.prototype.writeInt16=function(lt){return lt<0&&(lt+=65536),this.writeUInt16(lt)},mt.prototype.readString=function(lt){var H,$,ot;for($=[],H=ot=0;0<=lt?ot<lt:lt<ot;H=0<=lt?++ot:--ot)$[H]=String.fromCharCode(this.readByte());return $.join("")},mt.prototype.writeString=function(lt){var H,$,ot,S;for(S=[],H=$=0,ot=lt.length;0<=ot?$<ot:ot<$;H=0<=ot?++$:--$)S.push(this.writeByte(lt.charCodeAt(H)));return S},mt.prototype.readShort=function(){return this.readInt16()},mt.prototype.writeShort=function(lt){return this.writeInt16(lt)},mt.prototype.readLongLong=function(){var lt,H,$,ot,S,V,rt,it;return lt=this.readByte(),H=this.readByte(),$=this.readByte(),ot=this.readByte(),S=this.readByte(),V=this.readByte(),rt=this.readByte(),it=this.readByte(),128&lt?-1*(72057594037927940*(255^lt)+281474976710656*(255^H)+1099511627776*(255^$)+4294967296*(255^ot)+16777216*(255^S)+65536*(255^V)+256*(255^rt)+(255^it)+1):72057594037927940*lt+281474976710656*H+1099511627776*$+4294967296*ot+16777216*S+65536*V+256*rt+it},mt.prototype.writeLongLong=function(lt){var H,$;return H=Math.floor(lt/4294967296),$=4294967295&lt,this.writeByte(H>>24&255),this.writeByte(H>>16&255),this.writeByte(H>>8&255),this.writeByte(255&H),this.writeByte($>>24&255),this.writeByte($>>16&255),this.writeByte($>>8&255),this.writeByte(255&$)},mt.prototype.readInt=function(){return this.readInt32()},mt.prototype.writeInt=function(lt){return this.writeInt32(lt)},mt.prototype.read=function(lt){var H,$;for(H=[],$=0;0<=lt?$<lt:lt<$;0<=lt?++$:--$)H.push(this.readByte());return H},mt.prototype.write=function(lt){var $,ot,S;for(S=[],$=0,ot=lt.length;$<ot;$++)S.push(this.writeByte(lt[$]));return S},mt}(),Tt=function(){var mt;function lt(H){var $,ot,S;for(this.scalarType=H.readInt(),this.tableCount=H.readShort(),this.searchRange=H.readShort(),this.entrySelector=H.readShort(),this.rangeShift=H.readShort(),this.tables={},ot=0,S=this.tableCount;0<=S?ot<S:S<ot;0<=S?++ot:--ot)$={tag:H.readString(4),checksum:H.readInt(),offset:H.readInt(),length:H.readInt()},this.tables[$.tag]=$}return lt.prototype.encode=function(H){var $,ot,V,rt,it,gt,tt,kt,Yt,le,we,Jt;for(Jt in le=Object.keys(H).length,it=Math.log(2),kt=16*Math.floor(Math.log(le)/it),V=Math.floor(kt/it),tt=16*le-kt,(ot=new pt).writeInt(this.scalarType),ot.writeShort(le),ot.writeShort(kt),ot.writeShort(V),ot.writeShort(tt),gt=ot.pos+16*le,rt=null,we=[],H)for(Yt=H[Jt],ot.writeString(Jt),ot.writeInt(mt(Yt)),ot.writeInt(gt),ot.writeInt(Yt.length),we=we.concat(Yt),"head"===Jt&&(rt=gt),gt+=Yt.length;gt%4;)we.push(0),gt++;return ot.write(we),$=2981146554-mt(ot.data),ot.pos=rt+8,ot.writeUInt32($),ot.data},mt=function(H){var $,ot,S,V;for(H=J.call(H);H.length%4;)H.push(0);for(ot=new pt(H),S=$=0,V=H.length;S<V;S+=4)$+=ot.readUInt32();return 4294967295&$},lt}(),T={}.hasOwnProperty,G=function(mt,lt){for(var H in lt)T.call(lt,H)&&(mt[H]=lt[H]);function $(){this.constructor=mt}return $.prototype=lt.prototype,mt.prototype=new $,mt.__super__=lt.prototype,mt};dt=function(){function mt(lt){var H;this.file=lt,this.exists=!!(H=this.file.directory.tables[this.tag]),H&&(this.offset=H.offset,this.length=H.length,this.parse(this.file.contents))}return mt.prototype.parse=function(){},mt.prototype.encode=function(){},mt.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},mt}();var W=function(mt){function lt(){return lt.__super__.constructor.apply(this,arguments)}return G(lt,dt),lt.prototype.tag="head",lt.prototype.parse=function(H){return H.pos=this.offset,this.version=H.readInt(),this.revision=H.readInt(),this.checkSumAdjustment=H.readInt(),this.magicNumber=H.readInt(),this.flags=H.readShort(),this.unitsPerEm=H.readShort(),this.created=H.readLongLong(),this.modified=H.readLongLong(),this.xMin=H.readShort(),this.yMin=H.readShort(),this.xMax=H.readShort(),this.yMax=H.readShort(),this.macStyle=H.readShort(),this.lowestRecPPEM=H.readShort(),this.fontDirectionHint=H.readShort(),this.indexToLocFormat=H.readShort(),this.glyphDataFormat=H.readShort()},lt.prototype.encode=function(H){var $;return($=new pt).writeInt(this.version),$.writeInt(this.revision),$.writeInt(this.checkSumAdjustment),$.writeInt(this.magicNumber),$.writeShort(this.flags),$.writeShort(this.unitsPerEm),$.writeLongLong(this.created),$.writeLongLong(this.modified),$.writeShort(this.xMin),$.writeShort(this.yMin),$.writeShort(this.xMax),$.writeShort(this.yMax),$.writeShort(this.macStyle),$.writeShort(this.lowestRecPPEM),$.writeShort(this.fontDirectionHint),$.writeShort(H),$.writeShort(this.glyphDataFormat),$.data},lt}(),Z=function(){function mt(lt,H){var $,ot,S,V,rt,it,gt,tt,kt,Yt,le,we,Jt,de,Ae,De,nt,Bt;switch(this.platformID=lt.readUInt16(),this.encodingID=lt.readShort(),this.offset=H+lt.readInt(),kt=lt.pos,lt.pos=this.offset,this.format=lt.readUInt16(),this.length=lt.readUInt16(),this.language=lt.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(it=Ae=0;Ae<256;it=++Ae)this.codeMap[it]=lt.readByte();break;case 4:for(le=lt.readUInt16(),Yt=le/2,lt.pos+=6,S=function(){var ct,Et;for(Et=[],it=ct=0;0<=Yt?ct<Yt:Yt<ct;it=0<=Yt?++ct:--ct)Et.push(lt.readUInt16());return Et}(),lt.pos+=2,Jt=function(){var ct,Et;for(Et=[],it=ct=0;0<=Yt?ct<Yt:Yt<ct;it=0<=Yt?++ct:--ct)Et.push(lt.readUInt16());return Et}(),gt=function(){var ct,Et;for(Et=[],it=ct=0;0<=Yt?ct<Yt:Yt<ct;it=0<=Yt?++ct:--ct)Et.push(lt.readUInt16());return Et}(),tt=function(){var ct,Et;for(Et=[],it=ct=0;0<=Yt?ct<Yt:Yt<ct;it=0<=Yt?++ct:--ct)Et.push(lt.readUInt16());return Et}(),ot=(this.length-lt.pos+this.offset)/2,rt=function(){var ct,Et;for(Et=[],it=ct=0;0<=ot?ct<ot:ot<ct;it=0<=ot?++ct:--ct)Et.push(lt.readUInt16());return Et}(),it=De=0,Bt=S.length;De<Bt;it=++De)for(de=S[it],$=nt=we=Jt[it];we<=de?nt<=de:de<=nt;$=we<=de?++nt:--nt)0===tt[it]?V=$+gt[it]:0!==(V=rt[tt[it]/2+($-we)-(Yt-it)]||0)&&(V+=gt[it]),this.codeMap[$]=65535&V}lt.pos=kt}return mt.encode=function(lt,H){var $,ot,S,V,rt,it,gt,tt,kt,Yt,le,we,Jt,de,Ae,De,nt,ct,Et,Xt,ee,Fe,be,Ir,$e,Pr,Ar,fr,pr,ln,un,Qr,Te,yr,li,ui,$i,xn,vi,Mi,yi,xe,Ne,qe,We;switch(Ar=new pt,V=Object.keys(lt).sort(function(h,g){return h-g}),H){case"macroman":for(Jt=0,de=function(){var h,g;for(g=[],we=h=0;h<256;we=++h)g.push(0);return g}(),De={0:0},S={},fr=0,Qr=V.length;fr<Qr;fr++)null==De[xe=lt[ot=V[fr]]]&&(De[xe]=++Jt),S[ot]={old:lt[ot],new:De[lt[ot]]},de[ot]=De[lt[ot]];return Ar.writeUInt16(1),Ar.writeUInt16(0),Ar.writeUInt32(12),Ar.writeUInt16(0),Ar.writeUInt16(262),Ar.writeUInt16(0),Ar.write(de),{charMap:S,subtable:Ar.data,maxGlyphID:Jt+1};case"unicode":for($e=[],kt=[],De={},$={},Ae=gt=null,pr=nt=0,Te=V.length;pr<Te;pr++)null==De[ct=lt[ot=V[pr]]]&&(De[ct]=++nt),$[ot]={old:ct,new:De[ct]},rt=De[ct]-ot,null!=Ae&&rt===gt||(Ae&&kt.push(Ae),$e.push(ot),gt=rt),Ae=ot;for(Ae&&kt.push(Ae),kt.push(65535),$e.push(65535),be=2*(Fe=$e.length),ee=2*Math.pow(Math.log(Fe)/Math.LN2,2),Yt=Math.log(ee/2)/Math.LN2,Xt=2*Fe-ee,it=[],Et=[],le=[],we=ln=0,yr=$e.length;ln<yr;we=++ln){if(tt=kt[we],65535===(Ir=$e[we])){it.push(0),Et.push(0);break}if(32768<=Ir-(Pr=$[Ir].new))for(it.push(0),Et.push(2*(le.length+Fe-we)),ot=un=Ir;Ir<=tt?un<=tt:tt<=un;ot=Ir<=tt?++un:--un)le.push($[ot].new);else it.push(Pr-Ir),Et.push(0)}for(Ar.writeUInt16(3),Ar.writeUInt16(1),Ar.writeUInt32(12),Ar.writeUInt16(4),Ar.writeUInt16(16+8*Fe+2*le.length),Ar.writeUInt16(0),Ar.writeUInt16(be),Ar.writeUInt16(ee),Ar.writeUInt16(Yt),Ar.writeUInt16(Xt),Mi=0,li=kt.length;Mi<li;Mi++)Ar.writeUInt16(ot=kt[Mi]);for(Ar.writeUInt16(0),yi=0,ui=$e.length;yi<ui;yi++)Ar.writeUInt16(ot=$e[yi]);for(Ne=0,$i=it.length;Ne<$i;Ne++)Ar.writeUInt16(rt=it[Ne]);for(qe=0,xn=Et.length;qe<xn;qe++)Ar.writeUInt16(Et[qe]);for(We=0,vi=le.length;We<vi;We++)Ar.writeUInt16(Jt=le[We]);return{charMap:$,subtable:Ar.data,maxGlyphID:nt+1}}},mt}(),at=function(mt){function lt(){return lt.__super__.constructor.apply(this,arguments)}return G(lt,dt),lt.prototype.tag="cmap",lt.prototype.parse=function(H){var $,ot,S;for(H.pos=this.offset,this.version=H.readUInt16(),ot=H.readUInt16(),this.tables=[],this.unicode=null,S=0;0<=ot?S<ot:ot<S;0<=ot?++S:--S)$=new Z(H,this.offset),this.tables.push($),$.isUnicode&&null==this.unicode&&(this.unicode=$);return!0},lt.encode=function(H,$){var ot,S;return null==$&&($="macroman"),ot=Z.encode(H,$),(S=new pt).writeUInt16(0),S.writeUInt16(1),ot.table=S.data.concat(ot.subtable),ot},lt}(),ft=function(mt){function lt(){return lt.__super__.constructor.apply(this,arguments)}return G(lt,dt),lt.prototype.tag="hhea",lt.prototype.parse=function(H){return H.pos=this.offset,this.version=H.readInt(),this.ascender=H.readShort(),this.decender=H.readShort(),this.lineGap=H.readShort(),this.advanceWidthMax=H.readShort(),this.minLeftSideBearing=H.readShort(),this.minRightSideBearing=H.readShort(),this.xMaxExtent=H.readShort(),this.caretSlopeRise=H.readShort(),this.caretSlopeRun=H.readShort(),this.caretOffset=H.readShort(),H.pos+=8,this.metricDataFormat=H.readShort(),this.numberOfMetrics=H.readUInt16()},lt}(),It=function(mt){function lt(){return lt.__super__.constructor.apply(this,arguments)}return G(lt,dt),lt.prototype.tag="OS/2",lt.prototype.parse=function(H){if(H.pos=this.offset,this.version=H.readUInt16(),this.averageCharWidth=H.readShort(),this.weightClass=H.readUInt16(),this.widthClass=H.readUInt16(),this.type=H.readShort(),this.ySubscriptXSize=H.readShort(),this.ySubscriptYSize=H.readShort(),this.ySubscriptXOffset=H.readShort(),this.ySubscriptYOffset=H.readShort(),this.ySuperscriptXSize=H.readShort(),this.ySuperscriptYSize=H.readShort(),this.ySuperscriptXOffset=H.readShort(),this.ySuperscriptYOffset=H.readShort(),this.yStrikeoutSize=H.readShort(),this.yStrikeoutPosition=H.readShort(),this.familyClass=H.readShort(),this.panose=function(){var $,ot;for(ot=[],$=0;$<10;++$)ot.push(H.readByte());return ot}(),this.charRange=function(){var $,ot;for(ot=[],$=0;$<4;++$)ot.push(H.readInt());return ot}(),this.vendorID=H.readString(4),this.selection=H.readShort(),this.firstCharIndex=H.readShort(),this.lastCharIndex=H.readShort(),0<this.version&&(this.ascent=H.readShort(),this.descent=H.readShort(),this.lineGap=H.readShort(),this.winAscent=H.readShort(),this.winDescent=H.readShort(),this.codePageRange=function(){var $,ot;for(ot=[],$=0;$<2;++$)ot.push(H.readInt());return ot}(),1<this.version))return this.xHeight=H.readShort(),this.capHeight=H.readShort(),this.defaultChar=H.readShort(),this.breakChar=H.readShort(),this.maxContext=H.readShort()},lt}(),Mt=function(mt){function lt(){return lt.__super__.constructor.apply(this,arguments)}return G(lt,dt),lt.prototype.tag="post",lt.prototype.parse=function(H){var $,ot,S,V;switch(H.pos=this.offset,this.format=H.readInt(),this.italicAngle=H.readInt(),this.underlinePosition=H.readShort(),this.underlineThickness=H.readShort(),this.isFixedPitch=H.readInt(),this.minMemType42=H.readInt(),this.maxMemType42=H.readInt(),this.minMemType1=H.readInt(),this.maxMemType1=H.readInt(),this.format){case 65536:case 196608:break;case 131072:for(ot=H.readUInt16(),this.glyphNameIndex=[],S=0;0<=ot?S<ot:ot<S;0<=ot?++S:--S)this.glyphNameIndex.push(H.readUInt16());for(this.names=[],V=[];H.pos<this.offset+this.length;)$=H.readByte(),V.push(this.names.push(H.readString($)));return V;case 151552:return ot=H.readUInt16(),this.offsets=H.read(ot);case 262144:return this.map=function(){var rt,it,gt;for(gt=[],rt=0,it=this.file.maxp.numGlyphs;0<=it?rt<it:it<rt;0<=it?++rt:--rt)gt.push(H.readUInt32());return gt}.call(this)}},lt}(),Nt=function(mt,lt){this.raw=mt,this.length=mt.length,this.platformID=lt.platformID,this.encodingID=lt.encodingID,this.languageID=lt.languageID},oe=function(mt){function lt(){return lt.__super__.constructor.apply(this,arguments)}return G(lt,dt),lt.prototype.tag="name",lt.prototype.parse=function(H){var $,ot,S,V,rt,it,gt,tt,kt,Yt,le,we;for(H.pos=this.offset,H.readShort(),$=H.readShort(),it=H.readShort(),ot=[],V=kt=0;0<=$?kt<$:$<kt;V=0<=$?++kt:--kt)ot.push({platformID:H.readShort(),encodingID:H.readShort(),languageID:H.readShort(),nameID:H.readShort(),length:H.readShort(),offset:this.offset+it+H.readShort()});for(gt={},V=Yt=0,le=ot.length;Yt<le;V=++Yt)H.pos=(S=ot[V]).offset,tt=H.readString(S.length),rt=new Nt(tt,S),null==gt[we=S.nameID]&&(gt[we]=[]),gt[S.nameID].push(rt);this.strings=gt,this.copyright=gt[0],this.fontFamily=gt[1],this.fontSubfamily=gt[2],this.uniqueSubfamily=gt[3],this.fontName=gt[4],this.version=gt[5];try{this.postscriptName=gt[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=gt[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=gt[7],this.manufacturer=gt[8],this.designer=gt[9],this.description=gt[10],this.vendorUrl=gt[11],this.designerUrl=gt[12],this.license=gt[13],this.licenseUrl=gt[14],this.preferredFamily=gt[15],this.preferredSubfamily=gt[17],this.compatibleFull=gt[18],this.sampleText=gt[19]},lt}(),ne=function(mt){function lt(){return lt.__super__.constructor.apply(this,arguments)}return G(lt,dt),lt.prototype.tag="maxp",lt.prototype.parse=function(H){return H.pos=this.offset,this.version=H.readInt(),this.numGlyphs=H.readUInt16(),this.maxPoints=H.readUInt16(),this.maxContours=H.readUInt16(),this.maxCompositePoints=H.readUInt16(),this.maxComponentContours=H.readUInt16(),this.maxZones=H.readUInt16(),this.maxTwilightPoints=H.readUInt16(),this.maxStorage=H.readUInt16(),this.maxFunctionDefs=H.readUInt16(),this.maxInstructionDefs=H.readUInt16(),this.maxStackElements=H.readUInt16(),this.maxSizeOfInstructions=H.readUInt16(),this.maxComponentElements=H.readUInt16(),this.maxComponentDepth=H.readUInt16()},lt}(),bt=function(mt){function lt(){return lt.__super__.constructor.apply(this,arguments)}return G(lt,dt),lt.prototype.tag="hmtx",lt.prototype.parse=function(H){var $,ot,V,rt,it,gt;for(H.pos=this.offset,this.metrics=[],V=0,it=this.file.hhea.numberOfMetrics;0<=it?V<it:it<V;0<=it?++V:--V)this.metrics.push({advance:H.readUInt16(),lsb:H.readInt16()});for(ot=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var tt,kt;for(kt=[],tt=0;0<=ot?tt<ot:ot<tt;0<=ot?++tt:--tt)kt.push(H.readInt16());return kt}(),this.widths=function(){var tt,kt,Yt,le;for(le=[],tt=0,kt=(Yt=this.metrics).length;tt<kt;tt++)le.push(Yt[tt].advance);return le}.call(this),$=this.widths[this.widths.length-1],gt=[],rt=0;0<=ot?rt<ot:ot<rt;0<=ot?++rt:--rt)gt.push(this.widths.push($));return gt},lt.prototype.forGlyph=function(H){return H in this.metrics?this.metrics[H]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[H-this.metrics.length]}},lt}(),J=[].slice,qt=function(mt){function lt(){return lt.__super__.constructor.apply(this,arguments)}return G(lt,dt),lt.prototype.tag="glyf",lt.prototype.parse=function(H){return this.cache={}},lt.prototype.glyphFor=function(H){var $,ot,S,V,rt,it,gt,tt,kt,Yt;return H in this.cache?this.cache[H]:($=this.file.contents,ot=(V=this.file.loca).indexOf(H),0===(S=V.lengthOf(H))?this.cache[H]=null:($.pos=this.offset+ot,rt=(it=new pt($.read(S))).readShort(),tt=it.readShort(),Yt=it.readShort(),gt=it.readShort(),kt=it.readShort(),this.cache[H]=-1===rt?new st(it,tt,Yt,gt,kt):new ht(it,rt,tt,Yt,gt,kt),this.cache[H]))},lt.prototype.encode=function(H,$,ot){var S,V,rt,it,gt;for(rt=[],V=[],it=0,gt=$.length;it<gt;it++)S=H[$[it]],V.push(rt.length),S&&(rt=rt.concat(S.encode(ot)));return V.push(rt.length),{table:rt,offsets:V}},lt}(),ht=function(){function mt(lt,H,$,ot,S,V){this.raw=lt,this.numberOfContours=H,this.xMin=$,this.yMin=ot,this.xMax=S,this.yMax=V,this.compound=!1}return mt.prototype.encode=function(){return this.raw.data},mt}(),st=function(){function mt(lt,H,$,ot,S){var V,rt;for(this.raw=lt,this.xMin=H,this.yMin=$,this.xMax=ot,this.yMax=S,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],V=this.raw;rt=V.readShort(),this.glyphOffsets.push(V.pos),this.glyphIDs.push(V.readShort()),32&rt;)V.pos+=1&rt?4:2,128&rt?V.pos+=8:64&rt?V.pos+=4:8&rt&&(V.pos+=2)}return mt.prototype.encode=function(lt){var H,$,ot,S;for($=new pt(J.call(this.raw.data)),H=ot=0,S=this.glyphIDs.length;ot<S;H=++ot)$.pos=this.glyphOffsets[H];return $.data},mt}(),wt=function(mt){function lt(){return lt.__super__.constructor.apply(this,arguments)}return G(lt,dt),lt.prototype.tag="loca",lt.prototype.parse=function(H){return H.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var ot,S,V;for(V=[],ot=0,S=this.length;ot<S;ot+=2)V.push(2*H.readUInt16());return V}.call(this):function(){var ot,S,V;for(V=[],ot=0,S=this.length;ot<S;ot+=4)V.push(H.readUInt32());return V}.call(this)},lt.prototype.indexOf=function(H){return this.offsets[H]},lt.prototype.lengthOf=function(H){return this.offsets[H+1]-this.offsets[H]},lt.prototype.encode=function(H,$){for(var ot=new Uint32Array(this.offsets.length),S=0,V=0,rt=0;rt<ot.length;++rt)if(ot[rt]=S,V<$.length&&$[V]==rt){++V,ot[rt]=S;var gt=this.offsets[rt+1]-this.offsets[rt];0<gt&&(S+=gt)}for(var tt=new Array(4*ot.length),kt=0;kt<ot.length;++kt)tt[4*kt+3]=255&ot[kt],tt[4*kt+2]=(65280&ot[kt])>>8,tt[4*kt+1]=(16711680&ot[kt])>>16,tt[4*kt]=(4278190080&ot[kt])>>24;return tt},lt}(),Ut=function(){function mt(lt){this.font=lt,this.subset={},this.unicodes={},this.next=33}return mt.prototype.generateCmap=function(){var lt,H,ot,S;for(H in ot=this.font.cmap.tables[0].codeMap,lt={},S=this.subset)lt[H]=ot[S[H]];return lt},mt.prototype.glyphsFor=function(lt){var H,$,ot,S,V,rt,it;for(ot={},V=0,rt=lt.length;V<rt;V++)ot[S=lt[V]]=this.font.glyf.glyphFor(S);for(S in H=[],ot)null!=($=ot[S])&&$.compound&&H.push.apply(H,$.glyphIDs);if(0<H.length)for(S in it=this.glyphsFor(H))ot[S]=$=it[S];return ot},mt.prototype.encode=function(lt,H){var $,ot,S,V,it,gt,tt,kt,Yt,le,we,Jt,de,Ae;for(ot in $=at.encode(this.generateCmap(),"unicode"),V=this.glyphsFor(lt),le={0:0},Ae=$.charMap)le[(it=Ae[ot]).old]=it.new;for(we in Yt=$.maxGlyphID,V)we in le||(le[we]=Yt++);return tt=function(De){var nt,Bt;for(nt in Bt={},De)Bt[De[nt]]=nt;return Bt}(le),kt=Object.keys(tt).sort(function(De,nt){return De-nt}),Jt=function(){var De,nt,Bt;for(Bt=[],De=0,nt=kt.length;De<nt;De++)Bt.push(tt[kt[De]]);return Bt}(),S=this.font.glyf.encode(V,Jt,le),gt=this.font.loca.encode(S.offsets,Jt),de={cmap:this.font.cmap.raw(),glyf:S.table,loca:gt,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(H)},this.font.os2.exists&&(de["OS/2"]=this.font.os2.raw()),this.font.directory.encode(de)},mt}();p.API.PDFObject=function(){var mt;function lt(){}return mt=function(H,$){return(Array($+1).join("0")+H).slice(-$)},lt.convert=function(H){var ot,S;if(Array.isArray(H))return"["+function(){var rt,it,gt;for(gt=[],rt=0,it=H.length;rt<it;rt++)gt.push(lt.convert(H[rt]));return gt}().join(" ")+"]";if("string"==typeof H)return"/"+H;if(H?.isString)return"("+H+")";if(H instanceof Date)return"(D:"+mt(H.getUTCFullYear(),4)+mt(H.getUTCMonth(),2)+mt(H.getUTCDate(),2)+mt(H.getUTCHours(),2)+mt(H.getUTCMinutes(),2)+mt(H.getUTCSeconds(),2)+"Z)";if("[object Object]"!=={}.toString.call(H))return""+H;for(ot in S=["<<"],H)S.push("/"+ot+" "+lt.convert(H[ot]));return S.push(">>"),S.join("\n")},lt}()}(en),Vt=typeof self<"u"&&self||typeof window<"u"&&window||typeof global<"u"&&global||Function('return typeof this === "object" && this.content')()||Function("return this")(),re=function(){var p,C,k;function N(U){var x,q,P,dt,pt,Tt,T,G,W,Z,at,ft,It;for(this.data=U,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},pt=null;;){switch(x=this.readUInt32(),G=function(){var Mt,Nt;for(Nt=[],Mt=0;Mt<4;++Mt)Nt.push(String.fromCharCode(this.data[this.pos++]));return Nt}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(x);break;case"fcTL":pt&&this.animation.frames.push(pt),this.pos+=4,pt={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},dt=this.readUInt16(),P=this.readUInt16()||100,pt.delay=1e3*dt/P,pt.disposeOp=this.data[this.pos++],pt.blendOp=this.data[this.pos++],pt.data=[];break;case"IDAT":case"fdAT":for("fdAT"===G&&(this.pos+=4,x-=4),U=pt?.data||this.imgData,at=0;0<=x?at<x:x<at;0<=x?++at:--at)U.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(q=this.palette.length/3,this.transparency.indexed=this.read(x),this.transparency.indexed.length>q)throw new Error("More transparent colors than palette size");if(0<(W=q-this.transparency.indexed.length))for(ft=0;0<=W?ft<W:W<ft;0<=W?++ft:--ft)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(x)[0];break;case 2:this.transparency.rgb=this.read(x)}break;case"tEXt":Tt=(Z=this.read(x)).indexOf(0),T=String.fromCharCode.apply(String,Z.slice(0,Tt)),this.text[T]=String.fromCharCode.apply(String,Z.slice(Tt+1));break;case"IEND":return pt&&this.animation.frames.push(pt),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(It=this.colorType)||6===It,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=x}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}N.load=function(U,x,M){var q;return"function"==typeof x&&(M=x),(q=new XMLHttpRequest).open("GET",U,!0),q.responseType="arraybuffer",q.onload=function(){var P;return P=new N(new Uint8Array(q.response||q.mozResponseArrayBuffer)),"function"==typeof x?.getContext&&P.render(x),"function"==typeof M?M(P):void 0},q.send(null)},N.prototype.read=function(U){var x,M;for(M=[],x=0;0<=U?x<U:U<x;0<=U?++x:--x)M.push(this.data[this.pos++]);return M},N.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},N.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},N.prototype.decodePixels=function(U){var x=this.pixelBitlength/8,M=new Uint8Array(this.width*this.height*x),q=0,P=this;if(null==U&&(U=this.imgData),0===U.length)return new Uint8Array(0);function dt(pt,Tt,T,G){var W,Z,at,ft,It,Mt,Nt,oe,bt,J,qt,ht,st,wt,Ut,mt,lt,H,$,ot,S=Math.ceil((P.width-pt)/T),V=Math.ceil((P.height-Tt)/G),rt=P.width==S&&P.height==V;for(st=x*S,qt=rt?M:new Uint8Array(st*V),Mt=U.length,Z=ht=0;ht<V&&q<Mt;){switch(U[q++]){case 0:for(ft=mt=0;mt<st;ft=mt+=1)qt[Z++]=U[q++];break;case 1:for(ft=lt=0;lt<st;ft=lt+=1)W=U[q++],It=ft<x?0:qt[Z-x],qt[Z++]=(W+It)%256;break;case 2:for(ft=H=0;H<st;ft=H+=1)W=U[q++],at=(ft-ft%x)/x,qt[Z++]=((wt=ht&&qt[(ht-1)*st+at*x+ft%x])+W)%256;break;case 3:for(ft=$=0;$<st;ft=$+=1)W=U[q++],at=(ft-ft%x)/x,It=ft<x?0:qt[Z-x],wt=ht&&qt[(ht-1)*st+at*x+ft%x],qt[Z++]=(W+Math.floor((It+wt)/2))%256;break;case 4:for(ft=ot=0;ot<st;ft=ot+=1)W=U[q++],at=(ft-ft%x)/x,0===ht?wt=Ut=0:(wt=qt[(ht-1)*st+at*x+ft%x],Ut=at&&qt[(ht-1)*st+(at-1)*x+ft%x]),Nt=(It=ft<x?0:qt[Z-x])+wt-Ut,oe=Math.abs(Nt-It),bt=Math.abs(Nt-wt),J=Math.abs(Nt-Ut),qt[Z++]=(W+(oe<=bt&&oe<=J?It:bt<=J?wt:Ut))%256;break;default:throw new Error("Invalid filter algorithm: "+U[q-1])}if(!rt){var it=((Tt+ht*G)*P.width+pt)*x,gt=ht*st;for(ft=0;ft<S;ft+=1){for(var tt=0;tt<x;tt+=1)M[it++]=qt[gt++];it+=(T-1)*x}}ht++}}return U=(U=new cr(U)).getBytes(),1==P.interlaceMethod?(dt(0,0,8,8),dt(4,0,8,8),dt(0,4,4,8),dt(2,0,4,4),dt(0,2,2,4),dt(1,0,2,2),dt(0,1,1,2)):dt(0,0,1,1),M},N.prototype.decodePalette=function(){var U,x,M,q,P,dt,pt,Tt,T;for(M=this.palette,dt=this.transparency.indexed||[],P=new Uint8Array((dt.length||0)+M.length),q=0,x=pt=U=0,Tt=M.length;pt<Tt;x=pt+=3)P[q++]=M[x],P[q++]=M[x+1],P[q++]=M[x+2],P[q++]=null!=(T=dt[U++])?T:255;return P},N.prototype.copyToImageData=function(U,x){var M,q,P,dt,pt,Tt,T,G,W,Z,at;if(q=this.colors,W=null,M=this.hasAlphaChannel,this.palette.length&&(W=null!=(at=this._decodedPalette)?at:this._decodedPalette=this.decodePalette(),q=4,M=!0),G=(P=U.data||U).length,pt=W||x,dt=Tt=0,1===q)for(;dt<G;)T=W?4*x[dt/4]:Tt,Z=pt[T++],P[dt++]=Z,P[dt++]=Z,P[dt++]=Z,P[dt++]=M?pt[T++]:255,Tt=T;else for(;dt<G;)T=W?4*x[dt/4]:Tt,P[dt++]=pt[T++],P[dt++]=pt[T++],P[dt++]=pt[T++],P[dt++]=M?pt[T++]:255,Tt=T},N.prototype.decode=function(){var U;return U=new Uint8Array(this.width*this.height*4),this.copyToImageData(U,this.decodePixels()),U};try{C=Vt.document.createElement("canvas"),k=C.getContext("2d")}catch{return-1}return p=function(U){var x;return k.width=U.width,k.height=U.height,k.clearRect(0,0,U.width,U.height),k.putImageData(U,0,0),(x=new Image).src=C.toDataURL(),x},N.prototype.decodeFrames=function(U){var x,M,q,P,dt,pt,Tt,T;if(this.animation){for(T=[],M=dt=0,pt=(Tt=this.animation.frames).length;dt<pt;M=++dt)q=U.createImageData((x=Tt[M]).width,x.height),P=this.decodePixels(new Uint8Array(x.data)),this.copyToImageData(q,P),x.imageData=q,T.push(x.image=p(q));return T}},N.prototype.renderFrame=function(U,x){var M,q,P;return M=(q=this.animation.frames)[x],P=q[x-1],0===x&&U.clearRect(0,0,this.width,this.height),1===P?.disposeOp?U.clearRect(P.xOffset,P.yOffset,P.width,P.height):2===P?.disposeOp&&U.putImageData(P.imageData,P.xOffset,P.yOffset),0===M.blendOp&&U.clearRect(M.xOffset,M.yOffset,M.width,M.height),U.drawImage(M.image,M.xOffset,M.yOffset)},N.prototype.animate=function(U){var x,M,q,P,dt,pt,Tt=this;return M=0,P=(pt=this.animation).numFrames,q=pt.frames,dt=pt.numPlays,(x=function(){var T,G;if(T=M++%P,G=q[T],Tt.renderFrame(U,T),1<P&&M/P<dt)return Tt.animation._timeout=setTimeout(x,G.delay)})()},N.prototype.stopAnimation=function(){var U;return clearTimeout(null!=(U=this.animation)?U._timeout:void 0)},N.prototype.render=function(U){var x,M;return U._png&&U._png.stopAnimation(),U._png=this,U.width=this.width,U.height=this.height,x=U.getContext("2d"),this.animation?(this.decodeFrames(x),this.animate(x)):(M=x.createImageData(this.width,this.height),this.copyToImageData(M,this.decodePixels()),x.putImageData(M,0,0))},N}(),Vt.PNG=re;var ze=function(){function p(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return p.prototype={ensureBuffer:function(C){var k=this.buffer,N=k?k.byteLength:0;if(C<N)return k;for(var U=512;U<C;)U<<=1;for(var x=new Uint8Array(U),M=0;M<N;++M)x[M]=k[M];return this.buffer=x},getByte:function(){for(var C=this.pos;this.bufferLength<=C;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(C){var k=this.pos;if(C){this.ensureBuffer(k+C);for(var N=k+C;!this.eof&&this.bufferLength<N;)this.readBlock();var U=this.bufferLength;U<N&&(N=U)}else{for(;!this.eof;)this.readBlock();N=this.bufferLength}return this.pos=N,this.buffer.subarray(k,N)},lookChar:function(){for(var C=this.pos;this.bufferLength<=C;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var C=this.pos;this.bufferLength<=C;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(C,k,N){for(var U=C+k;this.bufferLength<=U&&!this.eof;)this.readBlock();return new Stream(this.buffer,C,k,N)},skip:function(C){C||(C=1),this.pos+=C},reset:function(){this.pos=0}},p}(),cr=function(){if(typeof Uint32Array<"u"){var p=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),k=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),N=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],U=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return(M.prototype=Object.create(ze.prototype)).getBits=function(q){for(var P,dt=this.codeSize,pt=this.codeBuf,Tt=this.bytes,T=this.bytesPos;dt<q;)void 0===(P=Tt[T++])&&x("Bad encoding in flate stream"),pt|=P<<dt,dt+=8;return P=pt&(1<<q)-1,this.codeBuf=pt>>q,this.codeSize=dt-=q,this.bytesPos=T,P},M.prototype.getCode=function(q){for(var P=q[0],dt=q[1],pt=this.codeSize,Tt=this.codeBuf,T=this.bytes,G=this.bytesPos;pt<dt;){var W;void 0===(W=T[G++])&&x("Bad encoding in flate stream"),Tt|=W<<pt,pt+=8}var Z=P[Tt&(1<<dt)-1],at=Z>>16,ft=65535&Z;return(0==pt||pt<at||0==at)&&x("Bad encoding in flate stream"),this.codeBuf=Tt>>at,this.codeSize=pt-at,this.bytesPos=G,ft},M.prototype.generateHuffmanTable=function(q){for(var P=q.length,dt=0,pt=0;pt<P;++pt)q[pt]>dt&&(dt=q[pt]);for(var Tt=1<<dt,T=new Uint32Array(Tt),G=1,W=0,Z=2;G<=dt;++G,W<<=1,Z<<=1)for(var at=0;at<P;++at)if(q[at]==G){var ft=0,It=W;for(pt=0;pt<G;++pt)ft=ft<<1|1&It,It>>=1;for(pt=ft;pt<Tt;pt+=Z)T[pt]=G<<16|at;++W}return[T,dt]},M.prototype.readBlock=function(){function q(V,rt,it,gt,tt){for(var kt=V.getBits(it)+gt;0<kt--;)rt[Z++]=tt}var P=this.getBits(3);if(1&P&&(this.eof=!0),0!=(P>>=1)){var dt,pt;if(1==P)dt=N,pt=U;else if(2==P){for(var Tt=this.getBits(5)+257,T=this.getBits(5)+1,G=this.getBits(4)+4,W=Array(p.length),Z=0;Z<G;)W[p[Z++]]=this.getBits(3);for(var at=this.generateHuffmanTable(W),ft=0,It=(Z=0,Tt+T),Mt=new Array(It);Z<It;){var Nt=this.getCode(at);16==Nt?q(this,Mt,2,3,ft):17==Nt?q(this,Mt,3,3,ft=0):18==Nt?q(this,Mt,7,11,ft=0):Mt[Z++]=ft=Nt}dt=this.generateHuffmanTable(Mt.slice(0,Tt)),pt=this.generateHuffmanTable(Mt.slice(Tt,It))}else x("Unknown block type in flate stream");for(var oe=($=this.buffer)?$.length:0,ne=this.bufferLength;;){var bt=this.getCode(dt);if(bt<256)oe<=ne+1&&(oe=($=this.ensureBuffer(ne+1)).length),$[ne++]=bt;else{if(256==bt)return void(this.bufferLength=ne);var J=(bt=C[bt-=257])>>16;0<J&&(J=this.getBits(J)),ft=(65535&bt)+J,bt=this.getCode(pt),0<(J=(bt=k[bt])>>16)&&(J=this.getBits(J));var qt=(65535&bt)+J;oe<=ne+ft&&(oe=($=this.ensureBuffer(ne+ft)).length);for(var ht=0;ht<ft;++ht,++ne)$[ne]=$[ne-qt]}}}else{var st,wt=this.bytes,Ut=this.bytesPos;void 0===(st=wt[Ut++])&&x("Bad block header in flate stream");var mt=st;void 0===(st=wt[Ut++])&&x("Bad block header in flate stream"),mt|=st<<8,void 0===(st=wt[Ut++])&&x("Bad block header in flate stream");var lt=st;void 0===(st=wt[Ut++])&&x("Bad block header in flate stream"),(lt|=st<<8)!=(65535&~mt)&&x("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var H=this.bufferLength,$=this.ensureBuffer(H+mt),ot=H+mt;this.bufferLength=ot;for(var S=H;S<ot;++S){if(void 0===(st=wt[Ut++])){this.eof=!0;break}$[S]=st}this.bytesPos=Ut}},M}function x(q){throw new Error(q)}function M(q){var P=0,dt=q[P++],pt=q[P++];-1!=dt&&-1!=pt||x("Invalid header in flate stream"),8!=(15&dt)&&x("Unknown compression method in flate stream"),((dt<<8)+pt)%31!=0&&x("Bad FCHECK in flate stream"),32&pt&&x("FDICT bit set in flate stream"),this.bytes=q,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,ze.call(this)}}();window.tmp=cr});try{module.exports=jsPDF}catch{}!function Me(Hr){var mn,Zr;mn=this,Zr=function(){"use strict";function jr(s,A){for(var r=0;r<A.length;r++){var t=A[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(s,Dr(t.key),t)}}function Xr(s,A,r){return A&&jr(s.prototype,A),r&&jr(s,r),Object.defineProperty(s,"prototype",{writable:!1}),s}function Ai(s,A,r){return(A=Dr(A))in s?Object.defineProperty(s,A,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[A]=r,s}function Lr(){return Lr=Object.assign?Object.assign.bind():function(s){for(var A=1;A<arguments.length;A++){var r=arguments[A];for(var t in r)({}).hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},Lr.apply(null,arguments)}function Zn(s){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)})(s)}function Kr(s,A){s.prototype=Object.create(A.prototype),s.prototype.constructor=s,mr(s,A)}function $r(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($r=function(){return!!s})()}function Ki(s,A){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(s);A&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})),r.push.apply(r,t)}return r}function tn(s){for(var A=1;A<arguments.length;A++){var r=null!=arguments[A]?arguments[A]:{};A%2?Ki(Object(r),!0).forEach(function(t){Ai(s,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Ki(Object(r)).forEach(function(t){Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(r,t))})}return s}function mr(s,A){return(mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r})(s,A)}function Dr(s){var A=function(r,t){if("object"!=typeof r||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var n=e.call(r,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(s);return"symbol"==typeof A?A:A+""}function Rn(s){var A="function"==typeof Map?new Map:void 0;return Rn=function(r){if(null===r||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch{return"function"==typeof e}}(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==A){if(A.has(r))return A.get(r);A.set(r,t)}function t(){return function(e,n,i){if($r())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,n);var o=new(e.bind.apply(e,a));return i&&mr(o,i.prototype),o}(r,arguments,Zn(this).constructor)}return t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),mr(t,r)},Rn(s)}var Ni,xi,r,t,e,n,i,s,Pn={exports:{}},HA=(Ni||(Ni=1,function(s){var A=Object.prototype.hasOwnProperty,r="~";function t(){}function e(o,l,c){this.fn=o,this.context=l,this.once=c||!1}function n(o,l,c,f,m){if("function"!=typeof c)throw new TypeError("The listener must be a function");var v=new e(c,f||o,m),b=r?r+l:l;return o._events[b]?o._events[b].fn?o._events[b]=[o._events[b],v]:o._events[b].push(v):(o._events[b]=v,o._eventsCount++),o}function i(o,l){0==--o._eventsCount?o._events=new t:delete o._events[l]}function a(){this._events=new t,this._eventsCount=0}Object.create&&(t.prototype=Object.create(null),(new t).__proto__||(r=!1)),a.prototype.eventNames=function(){var o,l,c=[];if(0===this._eventsCount)return c;for(l in o=this._events)A.call(o,l)&&c.push(r?l.slice(1):l);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(o)):c},a.prototype.listeners=function(o){var c=this._events[r?r+o:o];if(!c)return[];if(c.fn)return[c.fn];for(var f=0,m=c.length,v=new Array(m);f<m;f++)v[f]=c[f].fn;return v},a.prototype.listenerCount=function(o){var c=this._events[r?r+o:o];return c?c.fn?1:c.length:0},a.prototype.emit=function(o,l,c,f,m,v){var b=r?r+o:o;if(!this._events[b])return!1;var I,_,Q=this._events[b],j=arguments.length;if(Q.fn){switch(Q.once&&this.removeListener(o,Q.fn,void 0,!0),j){case 1:return Q.fn.call(Q.context),!0;case 2:return Q.fn.call(Q.context,l),!0;case 3:return Q.fn.call(Q.context,l,c),!0;case 4:return Q.fn.call(Q.context,l,c,f),!0;case 5:return Q.fn.call(Q.context,l,c,f,m),!0;case 6:return Q.fn.call(Q.context,l,c,f,m,v),!0}for(_=1,I=new Array(j-1);_<j;_++)I[_-1]=arguments[_];Q.fn.apply(Q.context,I)}else{var At,yt=Q.length;for(_=0;_<yt;_++)switch(Q[_].once&&this.removeListener(o,Q[_].fn,void 0,!0),j){case 1:Q[_].fn.call(Q[_].context);break;case 2:Q[_].fn.call(Q[_].context,l);break;case 3:Q[_].fn.call(Q[_].context,l,c);break;case 4:Q[_].fn.call(Q[_].context,l,c,f);break;default:if(!I)for(At=1,I=new Array(j-1);At<j;At++)I[At-1]=arguments[At];Q[_].fn.apply(Q[_].context,I)}}return!0},a.prototype.on=function(o,l,c){return n(this,o,l,c,!1)},a.prototype.once=function(o,l,c){return n(this,o,l,c,!0)},a.prototype.removeListener=function(o,l,c,f){var m=r?r+o:o;if(!this._events[m])return this;if(!l)return i(this,m),this;var v=this._events[m];if(v.fn)v.fn!==l||f&&!v.once||c&&v.context!==c||i(this,m);else{for(var b=0,I=[],_=v.length;b<_;b++)(v[b].fn!==l||f&&!v[b].once||c&&v[b].context!==c)&&I.push(v[b]);I.length?this._events[m]=1===I.length?I[0]:I:i(this,m)}return this},a.prototype.removeAllListeners=function(o){var l;return o?this._events[l=r?r+o:o]&&i(this,l):(this._events=new t,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,s.exports=a}(Pn)),Pn.exports),zi=function kr(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}(HA),L={exports:{}},pA=(xi||(xi=1,r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,t=/^(?=([^\/?#]*))\1([^]*)$/,e=/(?:\/|^)\.(?=\/)/g,n=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,L.exports=i={buildAbsoluteURL:function(a,o,l){if(l=l||{},a=a.trim(),!(o=o.trim())){if(!l.alwaysNormalize)return a;var c=i.parseURL(a);if(!c)throw new Error("Error trying to parse base URL.");return c.path=i.normalizePath(c.path),i.buildURLFromParts(c)}var f=i.parseURL(o);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return l.alwaysNormalize?(f.path=i.normalizePath(f.path),i.buildURLFromParts(f)):o;var m=i.parseURL(a);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&"/"!==m.path[0]){var v=t.exec(m.path);m.netLoc=v[1],m.path=v[2]}m.netLoc&&!m.path&&(m.path="/");var b={scheme:m.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(b.netLoc=m.netLoc,"/"!==f.path[0]))if(f.path){var I=m.path,_=I.substring(0,I.lastIndexOf("/")+1)+f.path;b.path=i.normalizePath(_)}else b.path=m.path,f.params||(b.params=m.params,f.query||(b.query=m.query));return null===b.path&&(b.path=l.alwaysNormalize?i.normalizePath(f.path):f.path),i.buildURLFromParts(b)},parseURL:function(a){var o=r.exec(a);return o?{scheme:o[1]||"",netLoc:o[2]||"",path:o[3]||"",params:o[4]||"",query:o[5]||"",fragment:o[6]||""}:null},normalizePath:function(a){for(a=a.split("").reverse().join("").replace(e,"");a.length!==(a=a.replace(n,"")).length;);return a.split("").reverse().join("")},buildURLFromParts:function(a){return a.scheme+a.netLoc+a.path+a.params+a.query+a.fragment}}),L.exports),ke=Number.isFinite||function(s){return"number"==typeof s&&isFinite(s)},_i=Number.isSafeInteger||function(s){return"number"==typeof s&&Math.abs(s)<=ki},ki=Number.MAX_SAFE_INTEGER||9007199254740991,Ve=((s={}).NETWORK_ERROR="networkError",s.MEDIA_ERROR="mediaError",s.KEY_SYSTEM_ERROR="keySystemError",s.MUX_ERROR="muxError",s.OTHER_ERROR="otherError",s),Ht=function(s){return s.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",s.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",s.KEY_SYSTEM_NO_SESSION="keySystemNoSession",s.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",s.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",s.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",s.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",s.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",s.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",s.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",s.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",s.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",s.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",s.MANIFEST_LOAD_ERROR="manifestLoadError",s.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",s.MANIFEST_PARSING_ERROR="manifestParsingError",s.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",s.LEVEL_EMPTY_ERROR="levelEmptyError",s.LEVEL_LOAD_ERROR="levelLoadError",s.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",s.LEVEL_PARSING_ERROR="levelParsingError",s.LEVEL_SWITCH_ERROR="levelSwitchError",s.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",s.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",s.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",s.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",s.FRAG_LOAD_ERROR="fragLoadError",s.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",s.FRAG_DECRYPT_ERROR="fragDecryptError",s.FRAG_PARSING_ERROR="fragParsingError",s.FRAG_GAP="fragGap",s.REMUX_ALLOC_ERROR="remuxAllocError",s.KEY_LOAD_ERROR="keyLoadError",s.KEY_LOAD_TIMEOUT="keyLoadTimeOut",s.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",s.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",s.BUFFER_APPEND_ERROR="bufferAppendError",s.BUFFER_APPENDING_ERROR="bufferAppendingError",s.BUFFER_STALLED_ERROR="bufferStalledError",s.BUFFER_FULL_ERROR="bufferFullError",s.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",s.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",s.ASSET_LIST_LOAD_ERROR="assetListLoadError",s.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",s.ASSET_LIST_PARSING_ERROR="assetListParsingError",s.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",s.INTERNAL_EXCEPTION="internalException",s.INTERNAL_ABORTED="aborted",s.ATTACH_MEDIA_ERROR="attachMediaError",s.UNKNOWN="unknown",s}({}),D=function(s){return s.MEDIA_ATTACHING="hlsMediaAttaching",s.MEDIA_ATTACHED="hlsMediaAttached",s.MEDIA_DETACHING="hlsMediaDetaching",s.MEDIA_DETACHED="hlsMediaDetached",s.MEDIA_ENDED="hlsMediaEnded",s.STALL_RESOLVED="hlsStallResolved",s.BUFFER_RESET="hlsBufferReset",s.BUFFER_CODECS="hlsBufferCodecs",s.BUFFER_CREATED="hlsBufferCreated",s.BUFFER_APPENDING="hlsBufferAppending",s.BUFFER_APPENDED="hlsBufferAppended",s.BUFFER_EOS="hlsBufferEos",s.BUFFERED_TO_END="hlsBufferedToEnd",s.BUFFER_FLUSHING="hlsBufferFlushing",s.BUFFER_FLUSHED="hlsBufferFlushed",s.MANIFEST_LOADING="hlsManifestLoading",s.MANIFEST_LOADED="hlsManifestLoaded",s.MANIFEST_PARSED="hlsManifestParsed",s.LEVEL_SWITCHING="hlsLevelSwitching",s.LEVEL_SWITCHED="hlsLevelSwitched",s.LEVEL_LOADING="hlsLevelLoading",s.LEVEL_LOADED="hlsLevelLoaded",s.LEVEL_UPDATED="hlsLevelUpdated",s.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",s.LEVELS_UPDATED="hlsLevelsUpdated",s.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",s.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",s.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",s.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",s.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",s.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",s.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",s.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",s.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",s.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",s.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",s.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",s.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",s.CUES_PARSED="hlsCuesParsed",s.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",s.INIT_PTS_FOUND="hlsInitPtsFound",s.FRAG_LOADING="hlsFragLoading",s.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",s.FRAG_LOADED="hlsFragLoaded",s.FRAG_DECRYPTED="hlsFragDecrypted",s.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",s.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",s.FRAG_PARSING_METADATA="hlsFragParsingMetadata",s.FRAG_PARSED="hlsFragParsed",s.FRAG_BUFFERED="hlsFragBuffered",s.FRAG_CHANGED="hlsFragChanged",s.FPS_DROP="hlsFpsDrop",s.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",s.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",s.ERROR="hlsError",s.DESTROYING="hlsDestroying",s.KEY_LOADING="hlsKeyLoading",s.KEY_LOADED="hlsKeyLoaded",s.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",s.BACK_BUFFER_REACHED="hlsBackBufferReached",s.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",s.ASSET_LIST_LOADING="hlsAssetListLoading",s.ASSET_LIST_LOADED="hlsAssetListLoaded",s.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",s.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",s.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",s.INTERSTITIAL_STARTED="hlsInterstitialStarted",s.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",s.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",s.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",s.INTERSTITIAL_ENDED="hlsInterstitialEnded",s.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",s.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",s.EVENT_CUE_ENTER="hlsEventCueEnter",s}({}),gi="manifest",Yn="level",Fn="audioTrack",pi="subtitleTrack",Sr="main",$n="audio",Di="subtitle",Ue=function(){function s(r,t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=r,this.alpha_=r?Math.exp(Math.log(.5)/r):0,this.estimate_=t,this.totalWeight_=e}var A=s.prototype;return A.sample=function(r,t){var e=Math.pow(this.alpha_,r);this.estimate_=t*(1-e)+e*this.estimate_,this.totalWeight_+=r},A.getTotalWeight=function(){return this.totalWeight_},A.getEstimate=function(){if(this.alpha_){var r=1-Math.pow(this.alpha_,this.totalWeight_);if(r)return this.estimate_/r}return this.estimate_},s}(),KA=function(){function s(r,t,e,n){void 0===n&&(n=100),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=e,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Ue(r),this.fast_=new Ue(t),this.defaultTTFB_=n,this.ttfb_=new Ue(r)}var A=s.prototype;return A.update=function(r,t){var e=this.slow_,n=this.fast_,i=this.ttfb_;e.halfLife!==r&&(this.slow_=new Ue(r,e.getEstimate(),e.getTotalWeight())),n.halfLife!==t&&(this.fast_=new Ue(t,n.getEstimate(),n.getTotalWeight())),i.halfLife!==r&&(this.ttfb_=new Ue(r,i.getEstimate(),i.getTotalWeight()))},A.sample=function(r,t){var e=(r=Math.max(r,this.minDelayMs_))/1e3,n=8*t/e;this.fast_.sample(e,n),this.slow_.sample(e,n)},A.sampleTTFB=function(r){var t=r/1e3,e=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(e,Math.max(r,5))},A.canEstimate=function(){return this.fast_.getTotalWeight()>=this.minWeight_},A.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},A.getEstimateTTFB=function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_},A.destroy=function(){},Xr(s,[{key:"defaultEstimate",get:function(){return this.defaultEstimate_}}])}(),mi=function(s,A){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;var r="["+s+"]:";this.trace=Ei,this.debug=A.debug.bind(null,r),this.log=A.log.bind(null,r),this.warn=A.warn.bind(null,r),this.info=A.info.bind(null,r),this.error=A.error.bind(null,r)},Ei=function(){},Xn={trace:Ei,debug:Ei,log:Ei,warn:Ei,info:Ei,error:Ei};function Ji(){return Lr({},Xn)}function Tn(s,A,r){return A[s]?A[s].bind(A):function(t,e){var n=self.console[t];return n?n.bind(self.console,(e?"["+e+"] ":"")+"["+t+"] >"):Ei}(s,r)}var bn=Ji();function ur(s,A,r){var t=Ji();if("object"==typeof console&&!0===s||"object"==typeof s){var e=["debug","log","info","warn","error"];e.forEach(function(n){t[n]=Tn(n,s,r)});try{t.log('Debug logs enabled for "'+A+'" in hls.js version 1.6.10')}catch{return Ji()}e.forEach(function(n){bn[n]=Tn(n,s)})}else Lr(bn,t);return t}var Yr=bn;function Gi(s){if(void 0===s&&(s=!0),typeof self<"u")return(s||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function YA(s,A){var r=Object.keys(s),t=Object.keys(A),e=r.length,n=t.length;return!e||!n||e===n&&!r.some(function(i){return-1===t.indexOf(i)})}function zn(s,A){if(void 0===A&&(A=!1),typeof TextDecoder<"u"){var r=new TextDecoder("utf-8").decode(s);if(A){var t=r.indexOf("\0");return-1!==t?r.substring(0,t):r}return r.replace(/\0/g,"")}for(var e,n,i,a=s.length,o="",l=0;l<a;){if(0===(e=s[l++])&&A)return o;if(0!==e&&3!==e)switch(e>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(e);break;case 12:case 13:n=s[l++],o+=String.fromCharCode((31&e)<<6|63&n);break;case 14:n=s[l++],i=s[l++],o+=String.fromCharCode((15&e)<<12|(63&n)<<6|(63&i)<<0)}}return o}var ti=function(s){for(var A="",r=0;r<s.length;r++){var t=s[r].toString(16);t.length<2&&(t="0"+t),A+=t}return A};function En(s){return Uint8Array.from(s.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}var Kn=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}},Nn="audio",ji="video",Oi="audiovideo",Vr=function(){function s(r){var n;this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,"string"==typeof r&&(r={url:r}),this.base=r,(n=GA(this,"stats"))&&(n.enumerable=!0,Object.defineProperty(this,"stats",n))}var A=s.prototype;return A.setByteRange=function(r,t){var e,n=r.split("@",2);e=1===n.length?t?.byteRangeEndOffset||0:parseInt(n[1]),this._byteRange=[e,parseInt(n[0])+e]},A.clearElementaryStreamInfo=function(){var r=this.elementaryStreams;r[Nn]=null,r[ji]=null,r[Oi]=null},Xr(s,[{key:"baseurl",get:function(){return this.base.url}},{key:"byteRange",get:function(){return null===this._byteRange?[]:this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"elementaryStreams",get:function(){var r;return null===this._streams&&(this._streams=((r={})[Nn]=null,r[ji]=null,r[Oi]=null,r)),this._streams},set:function(r){this._streams=r}},{key:"hasStats",get:function(){return null!==this._stats}},{key:"hasStreams",get:function(){return null!==this._streams}},{key:"stats",get:function(){return null===this._stats&&(this._stats=new Kn),this._stats},set:function(r){this._stats=r}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=pA.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(r){this._url=r}}])}();function Cn(s){return"initSegment"!==s.sn}var ir=function(s){function A(t,e){var n;return(n=s.call(this,e)||this)._decryptdata=null,n._programDateTime=null,n._ref=null,n._bitrate=void 0,n.rawProgramDateTime=null,n.tagList=[],n.duration=0,n.sn=0,n.levelkeys=void 0,n.type=void 0,n.loader=null,n.keyLoader=null,n.level=-1,n.cc=0,n.startPTS=void 0,n.endPTS=void 0,n.startDTS=void 0,n.endDTS=void 0,n.start=0,n.playlistOffset=0,n.deltaPTS=void 0,n.maxStartPTS=void 0,n.minEndPTS=void 0,n.data=void 0,n.bitrateTest=!1,n.title=null,n.initSegment=null,n.endList=void 0,n.gap=void 0,n.urlId=0,n.type=t,n}Kr(A,s);var r=A.prototype;return r.addStart=function(t){this.setStart(this.start+t)},r.setStart=function(t){this.start=t,this._ref&&(this._ref.start=t)},r.setDuration=function(t){this.duration=t,this._ref&&(this._ref.duration=t)},r.setKeyFormat=function(t){if(this.levelkeys){var e=this.levelkeys[t];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}},r.abortRequests=function(){var t,e;null==(t=this.loader)||t.abort(),null==(e=this.keyLoader)||e.abort()},r.setElementaryStreamInfo=function(t,e,n,i,a,o){void 0===o&&(o=!1);var l=this.elementaryStreams,c=l[t];c?(c.startPTS=Math.min(c.startPTS,e),c.endPTS=Math.max(c.endPTS,n),c.startDTS=Math.min(c.startDTS,i),c.endDTS=Math.max(c.endDTS,a)):l[t]={startPTS:e,endPTS:n,startDTS:i,endDTS:a,partial:o}},Xr(A,[{key:"byteLength",get:function(){if(this.hasStats){var t=this.stats.total;if(t)return t}if(this.byteRange.length){var e=this.byteRange[0],n=this.byteRange[1];if(ke(e)&&ke(n))return n-e}return null}},{key:"bitrate",get:function(){return this.byteLength?8*this.byteLength/this.duration:this._bitrate?this._bitrate:null},set:function(t){this._bitrate=t}},{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{var e=Object.keys(this.levelkeys);if(1===e.length){var n=this._decryptdata=this.levelkeys[e[0]]||null;if(n)return n.getDecryptData(this.sn)}}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;var t=ke(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){var t;if(null!=(t=this._decryptdata)&&t.encrypted)return!0;if(this.levelkeys){var e,n=Object.keys(this.levelkeys),i=n.length;if(i>1||1===i&&null!=(e=this.levelkeys[n[0]])&&e.encrypted)return!0}return!1}},{key:"programDateTime",get:function(){return null===this._programDateTime&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime},set:function(t){this._programDateTime=ke(t)?t:this.rawProgramDateTime=null}},{key:"ref",get:function(){return Cn(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}}])}(Vr),oi=function(s){function A(r,t,e,n,i){var a;(a=s.call(this,e)||this).fragOffset=0,a.duration=0,a.gap=!1,a.independent=!1,a.relurl=void 0,a.fragment=void 0,a.index=void 0,a.duration=r.decimalFloatingPoint("DURATION"),a.gap=r.bool("GAP"),a.independent=r.bool("INDEPENDENT"),a.relurl=r.enumeratedString("URI"),a.fragment=t,a.index=n;var o=r.enumeratedString("BYTERANGE");return o&&a.setByteRange(o,i),i&&(a.fragOffset=i.fragOffset+i.duration),a}return Kr(A,s),Xr(A,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var r=this.elementaryStreams;return!!(r.audio||r.video||r.audiovideo)}}])}(Vr);function GA(s,A){var r=Object.getPrototypeOf(s);if(r)return Object.getOwnPropertyDescriptor(r,A)||GA(r,A)}var RA=Math.pow(2,32)-1,Vi=[].push,en={video:1,audio:2,id3:3,text:4};function On(s){return String.fromCharCode.apply(null,s)}function mA(s,A){var r=s[A]<<8|s[A+1];return r<0?65536+r:r}function vr(s,A){var r=vn(s,A);return r<0?4294967296+r:r}function Gn(s,A){var r=vr(s,A);return(r*=Math.pow(2,32))+vr(s,A+4)}function vn(s,A){return s[A]<<24|s[A+1]<<16|s[A+2]<<8|s[A+3]}function Fr(s,A){var r=[];if(!A.length)return r;for(var t=s.byteLength,e=0;e<t;){var n=vr(s,e),i=n>1?e+n:t;if(On(s.subarray(e+4,e+8))===A[0])if(1===A.length)r.push(s.subarray(e+8,i));else{var a=Fr(s.subarray(e+8,i),A.slice(1));a.length&&Vi.apply(r,a)}e=i}return r}function vA(s){var A=[],r=s[0],t=8,e=vr(s,t);t+=4;var n=0,i=0;0===r?(n=vr(s,t),i=vr(s,t+4),t+=8):(n=Gn(s,t),i=Gn(s,t+8),t+=16);var a=s.length+i,o=mA(s,t+=2);t+=2;for(var l=0;l<o;l++){var c=t,f=vr(s,c);c+=4;var m=2147483647&f;if((2147483648&f)>>>31==1)return Yr.warn("SIDX has hierarchical references (not supported)"),null;var v=vr(s,c);c+=4,A.push({referenceSize:m,subsegmentDuration:v,info:{duration:v/e,start:a,end:a+m-1}}),a+=m,t=c+=4}return{earliestPresentationTime:n,timescale:e,version:r,referencesCount:o,references:A}}function hA(s){for(var A=[],r=Fr(s,["moov","trak"]),t=0;t<r.length;t++){var e=r[t],n=Fr(e,["tkhd"])[0];if(n){var i=n[0],a=vr(n,0===i?12:20),o=Fr(e,["mdia","mdhd"])[0];if(o){var l=vr(o,0===(i=o[0])?12:20),c=Fr(e,["mdia","hdlr"])[0];if(c){var f=On(c.subarray(8,12)),m={soun:Nn,vide:ji}[f],v=yA(Fr(e,["mdia","minf","stbl","stsd"])[0]);m?(A[a]={timescale:l,type:m,stsd:v},A[m]=tn({timescale:l,id:a},v)):A[a]={timescale:l,type:f,stsd:v}}}}}return Fr(s,["moov","mvex","trex"]).forEach(function(b){var I=vr(b,4),_=A[I];_&&(_.default={duration:vr(b,12),flags:vr(b,20)})}),A}function yA(s){var A,r=s.subarray(8),t=r.subarray(86),e=On(r.subarray(4,8)),n=e,i="enca"===e||"encv"===e;if(i){var a=Fr(r,[e])[0];Fr(a.subarray("enca"===e?28:78),["sinf"]).forEach(function(Mr){var Ri=Fr(Mr,["schm"])[0];if(Ri){var dn=On(Ri.subarray(4,8));if("cbcs"===dn||"cenc"===dn){var Vn=Fr(Mr,["frma"])[0];Vn&&(n=On(Vn))}}})}var o=n;switch(n){case"avc1":case"avc2":case"avc3":case"avc4":var l=Fr(t,["avcC"])[0];l&&l.length>3&&(n+="."+Zi(l[1])+Zi(l[2])+Zi(l[3]),A=ei("avc1"===o?"dva1":"dvav",t));break;case"mp4a":var c=Fr(r,[e])[0],f=Fr(c.subarray(28),["esds"])[0];if(f&&f.length>7){var m=4;if(3!==f[m++])break;m=aA(f,m),m+=2;var v=f[m++];if(128&v&&(m+=2),64&v&&(m+=f[m++]),4!==f[m++])break;m=aA(f,m);var b=f[m++];if(64!==b||(n+="."+Zi(b),m+=12,5!==f[m++]))break;m=aA(f,m);var I=f[m++],_=(248&I)>>3;31===_&&(_+=1+((7&I)<<3)+((224&f[m])>>5)),n+="."+_}break;case"hvc1":case"hev1":var Q=Fr(t,["hvcC"])[0];if(Q&&Q.length>12){var j=Q[1],At=["","A","B","C"][j>>6],yt=31&j,Ot=vr(Q,2),Ft=(32&j)>>5?"H":"L",xt=Q[12],Wt=Q.subarray(6,12);n+="."+At+yt,n+="."+function(Mr){for(var Ri=0,dn=0;dn<32;dn++)Ri|=(Mr>>dn&1)<<31-dn;return Ri>>>0}(Ot).toString(16).toUpperCase(),n+="."+Ft+xt;for(var Pt="",Gt=Wt.length;Gt--;){var he=Wt[Gt];(he||Pt)&&(Pt="."+he.toString(16).toUpperCase()+Pt)}n+=Pt}A=ei("hev1"==o?"dvhe":"dvh1",t);break;case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":n=ei(n,t)||n;break;case"vp09":var ye=Fr(t,["vpcC"])[0];if(ye&&ye.length>6){var je=ye[5],Re=ye[6]>>4&15;n+="."+jt(ye[4])+"."+jt(je)+"."+jt(Re)}break;case"av01":var Ze=Fr(t,["av1C"])[0];if(Ze&&Ze.length>2){var Ge=Ze[1]>>>5,Or=Ze[2]>>>7?"H":"M",sr=(64&Ze[2])>>6,an=2===Ge&&sr?(32&Ze[2])>>5?12:10:sr?10:8,gn=(16&Ze[2])>>4,qr=(8&Ze[2])>>3,si=(4&Ze[2])>>2,In=3&Ze[2];n+="."+Ge+"."+jt(31&Ze[1])+Or+"."+jt(an)+"."+gn+"."+qr+si+In+"."+jt(1)+"."+jt(1)+"."+jt(1)+".0",A=ei("dav1",t)}}return{codec:n,encrypted:i,supplemental:A}}function ei(s,A){var r=Fr(A,["dvvC"]),t=r.length?r[0]:Fr(A,["dvcC"])[0];if(t){var n=t[2]<<5&32|t[3]>>3&31;return s+"."+jt(t[2]>>1&127)+"."+jt(n)}}function aA(s,A){for(var r=A+5;128&s[A++]&&A<r;);return A}function Zi(s){return("0"+s.toString(16).toUpperCase()).slice(-2)}function jt(s){return(s<10?"0":"")+s}function Vt(s){var A=Fr(s,["schm"])[0];if(A){var r=On(A.subarray(4,8));if("cbcs"===r||"cenc"===r)return Fr(s,["schi","tenc"])[0]}return null}function re(s,A){var r=new Uint8Array(s.length+A.length);return r.set(s),r.set(A,s.length),r}function me(s,A){var r=[],t=A.samples,e=A.timescale,n=A.id,i=!1;return Fr(t,["moof"]).map(function(a){var o=a.byteOffset-8;Fr(a,["traf"]).map(function(l){var c=Fr(l,["tfdt"]).map(function(f){var m=f[0],v=vr(f,4);return 1===m&&(v*=Math.pow(2,32),v+=vr(f,8)),v/e})[0];return void 0!==c&&(s=c),Fr(l,["tfhd"]).map(function(f){var m=vr(f,4),v=16777215&vr(f,0),b=0,I=0!=(16&v),_=0,Q=0!=(32&v),j=8;m===n&&(1&v&&(j+=8),2&v&&(j+=4),8&v&&(b=vr(f,j),j+=4),I&&(_=vr(f,j),j+=4),Q&&(j+=4),"video"===A.type&&(i=Xe(A.codec)),Fr(l,["trun"]).map(function(At){var yt=At[0],Ot=16777215&vr(At,0),Ft=0!=(1&Ot),xt=0,Wt=0!=(4&Ot),Pt=0!=(256&Ot),Gt=0,he=0!=(512&Ot),ye=0,He=0!=(1024&Ot),je=0!=(2048&Ot),Re=0,Ze=vr(At,4),Ge=8;Ft&&(xt=vr(At,Ge),Ge+=4),Wt&&(Ge+=4);for(var tr=xt+o,Or=0;Or<Ze;Or++){if(Pt?(Gt=vr(At,Ge),Ge+=4):Gt=b,he?(ye=vr(At,Ge),Ge+=4):ye=_,He&&(Ge+=4),je&&(Re=0===yt?vr(At,Ge):vn(At,Ge),Ge+=4),A.type===ji)for(var sr=0;sr<ye;){var Cr=vr(t,tr);Qe(i,t[tr+=4])&&er(t.subarray(tr,tr+Cr),i?2:1,s+Re/e,r),tr+=Cr,sr+=Cr+4}s+=Gt/e}}))})})}),r}function Xe(s){if(!s)return!1;var A=s.substring(0,4);return"hvc1"===A||"hev1"===A||"dvh1"===A||"dvhe"===A}function Qe(s,A){if(s){var r=A>>1&63;return 39===r||40===r}return 6==(31&A)}function er(s,A,r,t){var e=Oe(s),n=0;n+=A;for(var i=0,a=0,o=0;n<e.length;){i=0;do{if(n>=e.length)break;i+=o=e[n++]}while(255===o);a=0;do{if(n>=e.length)break;a+=o=e[n++]}while(255===o);var l=e.length-n,c=n;if(a<l)n+=a;else if(a>l){Yr.error("Malformed SEI payload. "+a+" is too small, only "+l+" bytes left to parse.");break}if(4===i){if(181===e[c++]){var f=mA(e,c);if(c+=2,49===f){var m=vr(e,c);if(c+=4,1195456820===m){var v=e[c++];if(3===v){var b=e[c++],I=64&b,_=I?2+3*(31&b):0,Q=new Uint8Array(_);if(I){Q[0]=b;for(var j=1;j<_;j++)Q[j]=e[c++]}t.push({type:v,payloadType:i,pts:r,bytes:Q})}}}}}else if(5===i&&a>16){for(var At=[],yt=0;yt<16;yt++){var Ot=e[c++].toString(16);At.push(1==Ot.length?"0"+Ot:Ot),3!==yt&&5!==yt&&7!==yt&&9!==yt||At.push("-")}for(var Ft=a-16,xt=new Uint8Array(Ft),Wt=0;Wt<Ft;Wt++)xt[Wt]=e[c++];t.push({payloadType:i,pts:r,uuid:At.join(""),userData:zn(xt),userDataBytes:xt})}}}function Oe(s){for(var A=s.byteLength,r=[],t=1;t<A-2;)0===s[t]&&0===s[t+1]&&3===s[t+2]?(r.push(t+2),t+=2):t++;if(0===r.length)return s;var e=A-r.length,n=new Uint8Array(e),i=0;for(t=0;t<e;i++,t++)i===r[0]&&(i++,r.shift()),n[t]=s[i];return n}var cr=function(){return/\(Windows.+Firefox\//i.test(navigator.userAgent)},p={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function C(s,A){var r=p[A];return!!r&&!!r[s.slice(0,4)]}function k(s,A,r){return void 0===r&&(r=!0),!s.split(",").some(function(t){return!N(t,A,r)})}function N(s,A,r){var t;return void 0===r&&(r=!0),null!=(t=Gi(r)?.isTypeSupported(U(s,A)))&&t}function U(s,A){return A+"/mp4;codecs="+s}function x(s){if(s){var A=s.substring(0,4);return p.video[A]}return 2}function M(s){var A=cr();return s.split(",").reduce(function(r,t){var e=A&&Xe(t)?9:p.video[t];return e?(2*e+r)/(r?3:2):(p.audio[t]+r)/(r?2:1)},0)}var q={},P=/flac|opus|mp4a\.40\.34/i;function dt(s,A){return void 0===A&&(A=!0),s.replace(P,function(r){return function(t,e){if(void 0===e&&(e=!0),q[t])return q[t];for(var n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[t],i=0;i<n.length;i++){var a;if(N(n[i],"audio",e))return q[t]=n[i],n[i];if("mp3"===n[i]&&null!=(a=Gi(e))&&a.isTypeSupported("audio/mpeg"))return""}return t}(r.toLowerCase(),A)})}function pt(s,A){if(s&&(s.length>4||-1!==["ac-3","ec-3","alac","fLaC","Opus"].indexOf(s))&&(Tt(s,"audio")||Tt(s,"video")))return s;if(A){var r=A.split(",");if(r.length>1){if(s)for(var t=r.length;t--;)if(r[t].substring(0,4)===s.substring(0,4))return r[t];return r[0]}}return A||s}function Tt(s,A){return C(s,A)&&N(s,A)}function T(s){if(s.startsWith("av01.")){for(var A=s.split("."),r=["0","111","01","01","01","0"],t=A.length;t>4&&t<10;t++)A[t]=r[t-4];return A.join(".")}return s}function G(s){var A=Gi(s)||{isTypeSupported:function(){return!1}};return{mpeg:A.isTypeSupported("audio/mpeg"),mp3:A.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:A.isTypeSupported('audio/mp4; codecs="ac-3"')}}function W(s){return s.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}var Z={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]};function at(s,A){return{supported:!1,configurations:A,decodingInfoResults:[{supported:!1,smooth:!1,powerEfficient:!1}],error:s}}function ft(s,A,r,t){void 0===t&&(t={});var e=s.videoCodec;if(!e&&!s.audioCodec||!r)return Promise.resolve(Z);for(var n=[],i=function(b){var I,_=null==(I=b.videoCodec)?void 0:I.split(","),Q=Mt(b),j=b.width||640,At=b.height||480,yt=b.frameRate||30,Ot=b.videoRange.toLowerCase();return _?_.map(function(Ft){var xt={contentType:U(T(Ft),"video"),width:j,height:At,bitrate:Q,framerate:yt};return"sdr"!==Ot&&(xt.transferFunction=Ot),xt}):[]}(s),a=i.length,o=function(b,I,_){var Q,j=null==(Q=b.audioCodec)?void 0:Q.split(","),At=Mt(b);return j&&b.audioGroups?b.audioGroups.reduce(function(yt,Ot){var Ft,xt=Ot?null==(Ft=I.groups[Ot])?void 0:Ft.tracks:null;return xt?xt.reduce(function(Wt,Pt){if(Pt.groupId===Ot){var Gt=parseFloat(Pt.channels||"");j.forEach(function(he){var ye={contentType:U(he,"audio"),bitrate:_?It(he,At):At};Gt&&(ye.channels=""+Gt),Wt.push(ye)})}return Wt},yt):yt},[]):[]}(s,A,a>0),l=o.length,c=a||1*l||1;c--;){var f={type:"media-source"};if(a&&(f.video=i[c%a]),l){f.audio=o[c%l];var m=f.audio.bitrate;f.video&&m&&(f.video.bitrate-=m)}n.push(f)}if(e){var v=navigator.userAgent;if(e.split(",").some(function(b){return Xe(b)})&&cr())return Promise.resolve(at(new Error("Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: ("+v+")"),n))}return Promise.all(n.map(function(b){var I,_,Q,j,At=(_="",Q=(I=b).audio,(j=I.video)&&(_+=W(j.contentType)+"_r"+j.height+"x"+j.width+"f"+Math.ceil(j.framerate)+(j.transferFunction||"sd")+"_"+Math.ceil(j.bitrate/1e5)),Q&&(_+=(j?"_":"")+W(Q.contentType)+"_c"+Q.channels),_);return t[At]||(t[At]=r.decodingInfo(b))})).then(function(b){return{supported:!b.some(function(I){return!I.supported}),configurations:n,decodingInfoResults:b}}).catch(function(b){return{supported:!1,configurations:n,decodingInfoResults:[],error:b}})}function It(s,A){if(A<=1)return 1;var r=128e3;return"ec-3"===s?r=768e3:"ac-3"===s&&(r=64e4),Math.min(A/2,r)}function Mt(s){return 1e3*Math.ceil(Math.max(.9*s.bitrate,s.averageBitrate)/1e3)||1}var Nt=["NONE","TYPE-0","TYPE-1",null],oe=["SDR","PQ","HLG"],ne="",bt="YES",J="v2";function qt(s){var A=s.canSkipUntil;return A&&s.age<A/2?s.canSkipDateRanges?J:bt:ne}var ht=function(){function s(A,r,t){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=A,this.part=r,this.skip=t}return s.prototype.addDirectives=function(A){var r=new self.URL(A);return void 0!==this.msn&&r.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&r.searchParams.set("_HLS_part",this.part.toString()),this.skip&&r.searchParams.set("_HLS_skip",this.skip),r.href},s}(),st=function(){function s(r){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[r.url],this._attrs=[r.attrs],this.bitrate=r.bitrate,r.details&&(this.details=r.details),this.id=r.id||0,this.name=r.name,this.width=r.width||0,this.height=r.height||0,this.frameRate=r.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=r.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=r.audioCodec,this.videoCodec=r.videoCodec,this.codecSet=[r.videoCodec,r.audioCodec].filter(function(n){return!!n}).map(function(n){return n.substring(0,4)}).join(","),"supplemental"in r){var t;this.supplemental=r.supplemental;var e=null==(t=r.supplemental)?void 0:t.videoCodec;e&&e!==r.videoCodec&&(this.codecSet+=","+e.substring(0,4))}this.addGroupId("audio",r.attrs.AUDIO),this.addGroupId("text",r.attrs.SUBTITLES)}var A=s.prototype;return A.hasAudioGroup=function(r){return wt(this._audioGroups,r)},A.hasSubtitleGroup=function(r){return wt(this._subtitleGroups,r)},A.addGroupId=function(r,t){if(t)if("audio"===r){var e=this._audioGroups;e||(e=this._audioGroups=[]),-1===e.indexOf(t)&&e.push(t)}else if("text"===r){var n=this._subtitleGroups;n||(n=this._subtitleGroups=[]),-1===n.indexOf(t)&&n.push(t)}},A.addFallback=function(){},Xr(s,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"averageBitrate",get:function(){return this._avgBitrate||this.realBitrate||this.bitrate}},{key:"attrs",get:function(){return this._attrs[0]}},{key:"codecs",get:function(){return this.attrs.CODECS||""}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"videoRange",get:function(){return this.attrs["VIDEO-RANGE"]||"SDR"}},{key:"score",get:function(){return this.attrs.optionalFloat("SCORE",0)}},{key:"uri",get:function(){return this.url[0]||""}},{key:"audioGroups",get:function(){return this._audioGroups}},{key:"subtitleGroups",get:function(){return this._subtitleGroups}},{key:"urlId",get:function(){return 0},set:function(r){}},{key:"audioGroupIds",get:function(){return this.audioGroups?[this.audioGroupId]:void 0}},{key:"textGroupIds",get:function(){return this.subtitleGroups?[this.textGroupId]:void 0}},{key:"audioGroupId",get:function(){var r;return null==(r=this.audioGroups)?void 0:r[0]}},{key:"textGroupId",get:function(){var r;return null==(r=this.subtitleGroups)?void 0:r[0]}}])}();function wt(s,A){return!(!A||!s)&&-1!==s.indexOf(A)}var mt=function(s,A){return JSON.stringify(s,function(r){var t=new WeakSet;return function(e,n){if(r&&(n=r(e,n)),"object"==typeof n&&null!==n){if(t.has(n))return;t.add(n)}return n}}(A))};function lt(s,A){Yr.log('[abr] start candidates with "'+s+'" ignored because '+A)}function H(s){return s.reduce(function(A,r){var t=A.groups[r.groupId];t||(t=A.groups[r.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),t.tracks.push(r);var e=r.channels||"2";return t.channels[e]=(t.channels[e]||0)+1,t.hasDefault=t.hasDefault||r.default,t.hasAutoSelect=t.hasAutoSelect||r.autoselect,t.hasDefault&&(A.hasDefaultAudio=!0),t.hasAutoSelect&&(A.hasAutoSelectAudio=!0),A},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function $(s){return s?{lang:s.lang,assocLang:s.assocLang,characteristics:s.characteristics,channels:s.channels,audioCodec:s.audioCodec}:s}function ot(s,A,r){if("attrs"in s){var t=A.indexOf(s);if(-1!==t)return t}for(var e=0;e<A.length;e++)if(S(s,A[e],r))return e;return-1}function S(s,A,r){var t,e,n=s.groupId,i=s.name,a=s.lang,o=s.assocLang,l=s.default,c=s.forced;return(void 0===n||A.groupId===n)&&(void 0===i||A.name===i)&&(void 0===a||(void 0===(e=A.lang)&&(e="--"),(t=a).length===e.length?t===e:t.startsWith(e)||e.startsWith(t)))&&(void 0===a||A.assocLang===o)&&(void 0===l||A.default===l)&&(void 0===c||A.forced===c)&&(!("characteristics"in s)||function(f,m){void 0===m&&(m="");var v=f.split(","),b=m.split(",");return v.length===b.length&&!v.some(function(I){return-1===b.indexOf(I)})}(s.characteristics||"",A.characteristics))&&(void 0===r||r(s,A))}function V(s,A){var r=s.audioCodec,t=s.channels;return!(void 0!==r&&(A.audioCodec||"").substring(0,4)!==r.substring(0,4)||void 0!==t&&t!==(A.channels||"2"))}function rt(s,A,r){for(var t=A;t>-1;t--)if(r(s[t]))return t;for(var e=A+1;e<s.length;e++)if(r(s[e]))return e;return-1}function it(s,A){var r;return!!s&&s!==(null==(r=A.loadLevelObj)?void 0:r.uri)}var gt=function(s){function A(t){var e;return(e=s.call(this,"abr",t.logger)||this).hls=void 0,e.lastLevelLoadSec=0,e.lastLoadedFragLevel=-1,e.firstSelection=-1,e._nextAutoLevel=-1,e.nextAutoLevelKey="",e.audioTracksByGroup=null,e.codecTiers=null,e.timer=-1,e.fragCurrent=null,e.partCurrent=null,e.bitrateTestDelay=0,e.rebufferNotice=-1,e.supportedCache={},e.bwEstimator=void 0,e._abandonRulesCheck=function(n){var i,o=e.fragCurrent,l=e.partCurrent,c=e.hls,f=c.autoLevelEnabled,m=c.media;if(o&&m){var v=performance.now(),b=l?l.stats:o.stats,I=l?l.duration:o.duration,_=v-b.loading.start,Q=c.minAutoLevel,j=o.level,At=e._nextAutoLevel;if(b.aborted||b.loaded&&b.loaded===b.total||j<=Q)return e.clearTimer(),void(e._nextAutoLevel=-1);if(f){var yt=At>-1&&At!==j,Ot=!!n||yt;if(Ot||!m.paused&&m.playbackRate&&m.readyState){var Ft=c.mainForwardBufferInfo;if(Ot||null!==Ft){var xt=e.bwEstimator.getEstimateTTFB(),Wt=Math.abs(m.playbackRate);if(!(_<=Math.max(xt,I/(2*Wt)*1e3))){var Pt=Ft?Ft.len/Wt:0,Gt=b.loading.first?b.loading.first-b.loading.start:-1,he=b.loaded&&Gt>-1,ye=e.getBwEstimate(),He=c.levels,Re=Math.max(b.loaded,Math.round(I*(o.bitrate||He[j].averageBitrate)/8)),Ze=he?_-Gt:_;Ze<1&&he&&(Ze=Math.min(_,8*b.loaded/ye));var Ge=he?1e3*b.loaded/Ze:0,tr=xt/1e3,Or=Ge?(Re-b.loaded)/Ge:8*Re/ye+tr;if(!(Or<=Pt)){var sr,Cr=Ge?8*Ge:ye,an=!0===(null==(i=n?.details||e.hls.latestLevelDetails)?void 0:i.live),gn=e.hls.config.abrBandWidthUpFactor,qr=Number.POSITIVE_INFINITY;for(sr=j-1;sr>Q&&!((qr=e.getTimeToLoadFrag(tr,Cr,I*He[sr].maxBitrate,!He[sr].details||an))<Math.min(Pt,I+tr));sr--);if(!(qr>=Or||qr>10*I)){he?e.bwEstimator.sample(_-Math.min(xt,Gt),b.loaded):e.bwEstimator.sampleTTFB(_);var Mr=He[sr].maxBitrate;e.getBwEstimate()*gn>Mr&&e.resetEstimator(Mr);var Ri=e.findBestLevel(Mr,Q,sr,0,Pt,1,1);Ri>-1&&(sr=Ri),e.warn("Fragment "+o.sn+(l?" part "+l.index:"")+" of level "+j+" is loading too slowly;\n      Fragment duration: "+o.duration.toFixed(3)+"\n      Time to underbuffer: "+Pt.toFixed(3)+" s\n      Estimated load time for current fragment: "+Or.toFixed(3)+" s\n      Estimated load time for down switch fragment: "+qr.toFixed(3)+" s\n      TTFB estimate: "+(0|Gt)+" ms\n      Current BW estimate: "+(ke(ye)?0|ye:"Unknown")+" bps\n      New BW estimate: "+(0|e.getBwEstimate())+" bps\n      Switching to level "+sr+" @ "+(0|Mr)+" bps"),c.nextLoadLevel=c.nextAutoLevel=sr,e.clearTimer();var dn=function(){if(e.clearTimer(),e.fragCurrent===o&&e.hls.loadLevel===sr&&sr>0){var Vn=e.getStarvationDelay();if(e.warn("Aborting inflight request "+(sr>0?"and switching down":"")+"\n      Fragment duration: "+o.duration.toFixed(3)+" s\n      Time to underbuffer: "+Vn.toFixed(3)+" s"),o.abortRequests(),e.fragCurrent=e.partCurrent=null,sr>Q){var Wr=e.findBestLevel(e.hls.levels[Q].bitrate,Q,sr,0,Vn,1,1);-1===Wr&&(Wr=Q),e.hls.nextLoadLevel=e.hls.nextAutoLevel=Wr,e.resetEstimator(e.hls.levels[Wr].bitrate)}}};yt||Or>2*qr?dn():e.timer=self.setInterval(dn,1e3*qr),c.trigger(D.FRAG_LOAD_EMERGENCY_ABORTED,{frag:o,part:l,stats:b})}}}}}}}},e.hls=t,e.bwEstimator=e.initEstimator(),e.registerListeners(),e}Kr(A,s);var r=A.prototype;return r.resetEstimator=function(t){t&&(this.log("setting initial bwe to "+t),this.hls.config.abrEwmaDefaultEstimate=t),this.firstSelection=-1,this.bwEstimator=this.initEstimator()},r.initEstimator=function(){var t=this.hls.config;return new KA(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate)},r.registerListeners=function(){var t=this.hls;t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.FRAG_LOADING,this.onFragLoading,this),t.on(D.FRAG_LOADED,this.onFragLoaded,this),t.on(D.FRAG_BUFFERED,this.onFragBuffered,this),t.on(D.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(D.LEVEL_LOADED,this.onLevelLoaded,this),t.on(D.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(D.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.on(D.ERROR,this.onError,this)},r.unregisterListeners=function(){var t=this.hls;t&&(t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.FRAG_LOADING,this.onFragLoading,this),t.off(D.FRAG_LOADED,this.onFragLoaded,this),t.off(D.FRAG_BUFFERED,this.onFragBuffered,this),t.off(D.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(D.LEVEL_LOADED,this.onLevelLoaded,this),t.off(D.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(D.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.off(D.ERROR,this.onError,this))},r.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null},r.onManifestLoading=function(t,e){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()},r.onLevelsUpdated=function(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null},r.onMaxAutoLevelUpdated=function(){this.firstSelection=-1,this.nextAutoLevelKey=""},r.onFragLoading=function(t,e){var n,i=e.frag;this.ignoreFragment(i)||(i.bitrateTest||(this.fragCurrent=i,this.partCurrent=null!=(n=e.part)?n:null),this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100))},r.onLevelSwitching=function(t,e){this.clearTimer()},r.onError=function(t,e){if(!e.fatal)switch(e.details){case Ht.BUFFER_ADD_CODEC_ERROR:case Ht.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Ht.FRAG_LOAD_TIMEOUT:var n=e.frag,i=this.fragCurrent,a=this.partCurrent;if(n&&i&&n.sn===i.sn&&n.level===i.level){var o=performance.now(),l=a?a.stats:n.stats,c=o-l.loading.start,f=l.loading.first?l.loading.first-l.loading.start:-1;if(l.loaded&&f>-1){var m=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(c-Math.min(m,f),l.loaded)}else this.bwEstimator.sampleTTFB(c)}}},r.getTimeToLoadFrag=function(t,e,n,i){return t+n/e+(i?t+this.lastLevelLoadSec:0)},r.onLevelLoaded=function(t,e){var n=this.hls.config,i=e.stats.loading,a=i.end-i.first;ke(a)&&(this.lastLevelLoadSec=a/1e3),e.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(e.levelInfo)},r.onFragLoaded=function(t,e){var n=e.frag,i=e.part,a=i?i.stats:n.stats;if(n.type===Sr&&this.bwEstimator.sampleTTFB(a.loading.first-a.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){var l=this.hls.levels[n.level],c=(l.loaded?l.loaded.bytes:0)+a.loaded,f=(l.loaded?l.loaded.duration:0)+(i?i.duration:n.duration);l.loaded={bytes:c,duration:f},l.realBitrate=Math.round(8*c/f)}n.bitrateTest?(this.onFragBuffered(D.FRAG_BUFFERED,{stats:a,frag:n,part:i,id:n.type}),n.bitrateTest=!1):this.lastLoadedFragLevel=n.level}},r.onFragBuffered=function(t,e){var n=e.frag,i=e.part,a=null!=i&&i.stats.loaded?i.stats:n.stats;if(!a.aborted&&!this.ignoreFragment(n)){var o=a.parsing.end-a.loading.start-Math.min(a.loading.first-a.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,a.loaded),a.bwEstimate=this.getBwEstimate(),this.bitrateTestDelay=n.bitrateTest?o/1e3:0}},r.ignoreFragment=function(t){return t.type!==Sr||"initSegment"===t.sn},r.clearTimer=function(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)},r.getAutoLevelKey=function(){return this.getBwEstimate()+"_"+this.getStarvationDelay().toFixed(2)},r.getNextABRAutoLevel=function(){var t=this.fragCurrent,e=this.partCurrent,n=this.hls;if(n.levels.length<=1)return n.loadLevel;var i=n.maxAutoLevel,a=n.config,o=n.minAutoLevel,l=e?e.duration:t?t.duration:0,c=this.getBwEstimate(),f=this.getStarvationDelay(),m=a.abrBandWidthFactor,v=a.abrBandWidthUpFactor;if(f){var b=this.findBestLevel(c,o,i,f,0,m,v);if(b>=0)return this.rebufferNotice=-1,b}var I=l?Math.min(l,a.maxStarvationDelay):a.maxStarvationDelay;if(!f){var _=this.bitrateTestDelay;_&&(I=(l?Math.min(l,a.maxLoadingDelay):a.maxLoadingDelay)-_,this.info("bitrate test took "+Math.round(1e3*_)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*I)+" ms"),m=v=1)}var Q=this.findBestLevel(c,o,i,f,I,m,v);if(this.rebufferNotice!==Q&&(this.rebufferNotice=Q,this.info((f?"rebuffering expected":"buffer is empty")+", optimal quality level "+Q)),Q>-1)return Q;var At=n.loadLevelObj;return At&&n.levels[o]?.bitrate<At.bitrate?o:n.loadLevel},r.getStarvationDelay=function(){var t=this.hls,e=t.media;if(!e)return 1/0;var n=e&&0!==e.playbackRate?Math.abs(e.playbackRate):1,i=t.mainForwardBufferInfo;return(i?i.len:0)/n},r.getBwEstimate=function(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate},r.findBestLevel=function(t,e,n,i,a,o,l){var c,f=this,m=i+a,v=this.lastLoadedFragLevel,b=-1===v?this.hls.firstLevel:v,I=this.fragCurrent,_=this.partCurrent,Q=this.hls,j=Q.levels,yt=Q.loadLevel,Ot=Q.config;if(1===j.length)return 0;var Ft,Wr,xt=j[b],Wt=!(null==(c=this.hls.latestLevelDetails)||!c.live),Pt=-1===yt||-1===v,Gt="SDR",he=xt?.frameRate||0,ye=Ot.audioPreference,He=Ot.videoPreference,je=this.audioTracksByGroup||(this.audioTracksByGroup=H(Q.allAudioTracks)),Re=-1;if(Pt){if(-1!==this.firstSelection)return this.firstSelection;var Ge=function(Vn,Wr,ai,AA,Un){for(var Bn=Object.keys(Vn),fA=AA?.channels,qn=AA?.audioCodec,Jr=Un?.videoCodec,DA=fA&&2===parseInt(fA),on=!1,Bi=!1,ni=1/0,Pi=1/0,Hi=1/0,LA=1/0,Wn=0,gA=[],cs=function Ut(s,A){var r=!1,t=[];if(s&&(r="SDR"!==s,t=[s]),A){var e="SDR"!==(t=A.allowedVideoRanges||oe.slice(0)).join("")&&!A.videoCodec;(r=void 0!==A.preferHDR?A.preferHDR:e&&function(){if("function"==typeof matchMedia){var n=matchMedia("(dynamic-range: high)"),i=matchMedia("bad query");if(n.media!==i.media)return!0===n.matches}return!1}())||(t=["SDR"])}return{preferHDR:r,allowedVideoRanges:t}}(Wr,Un),ys=cs.preferHDR,hs=cs.allowedVideoRanges,ws=function(){var ii=Vn[Bn[QA]];on||(on=ii.channels[2]>0),ni=Math.min(ni,ii.minHeight),Pi=Math.min(Pi,ii.minFramerate),Hi=Math.min(Hi,ii.minBitrate),hs.filter(function(Ui){return ii.videoRanges[Ui]>0}).length>0&&(Bi=!0)},QA=Bn.length;QA--;)ws();ni=ke(ni)?ni:0,Pi=ke(Pi)?Pi:0;var ss=Math.max(1080,ni),sA=Math.max(30,Pi);Hi=ke(Hi)?Hi:ai,ai=Math.max(Hi,ai),Bi||(Wr=void 0);var Xi=Bn.length>1;return{codecSet:Bn.reduce(function(ii,Ui){var bi=Vn[Ui];if(Ui===ii)return ii;if(gA=Bi?hs.filter(function(Ps){return bi.videoRanges[Ps]>0}):[],Xi){if(bi.minBitrate>ai)return lt(Ui,"min bitrate of "+bi.minBitrate+" > current estimate of "+ai),ii;if(!bi.hasDefaultAudio)return lt(Ui,"no renditions with default or auto-select sound found"),ii;if(qn&&Ui.indexOf(qn.substring(0,4))%5!=0)return lt(Ui,'audio codec preference "'+qn+'" not found'),ii;if(fA&&!DA){if(!bi.channels[fA])return lt(Ui,"no renditions with "+fA+" channel sound found (channels options: "+Object.keys(bi.channels)+")"),ii}else if((!qn||DA)&&on&&0===bi.channels[2])return lt(Ui,"no renditions with stereo sound found"),ii;if(bi.minHeight>ss)return lt(Ui,"min resolution of "+bi.minHeight+" > maximum of "+ss),ii;if(bi.minFramerate>sA)return lt(Ui,"min framerate of "+bi.minFramerate+" > maximum of "+sA),ii;if(!gA.some(function(Ps){return bi.videoRanges[Ps]>0}))return lt(Ui,"no variants with VIDEO-RANGE of "+mt(gA)+" found"),ii;if(Jr&&Ui.indexOf(Jr.substring(0,4))%5!=0)return lt(Ui,'video codec preference "'+Jr+'" not found'),ii;if(bi.maxScore<Wn)return lt(Ui,"max score of "+bi.maxScore+" < selected max of "+Wn),ii}return ii&&(M(Ui)>=M(ii)||bi.fragmentError>Vn[ii].fragmentError)?ii:(LA=bi.minIndex,Wn=bi.maxScore,Ui)},void 0),videoRanges:gA,preferHDR:ys,minFramerate:Pi,minBitrate:Hi,minIndex:LA}}(this.codecTiers||(this.codecTiers=(Wr=je,j.slice(e,n+1).reduce(function(Un,Bn,fA){if(!Bn.codecSet)return Un;var qn=Bn.audioGroups,Jr=Un[Bn.codecSet];Jr||(Un[Bn.codecSet]=Jr={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:fA,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!qn,fragmentError:0}),Jr.minBitrate=Math.min(Jr.minBitrate,Bn.bitrate);var DA=Math.min(Bn.height,Bn.width);return Jr.minHeight=Math.min(Jr.minHeight,DA),Jr.minFramerate=Math.min(Jr.minFramerate,Bn.frameRate),Jr.minIndex=Math.min(Jr.minIndex,fA),Jr.maxScore=Math.max(Jr.maxScore,Bn.score),Jr.fragmentError+=Bn.fragmentError,Jr.videoRanges[Bn.videoRange]=(Jr.videoRanges[Bn.videoRange]||0)+1,qn&&qn.forEach(function(on){if(on){var Bi=Wr.groups[on];Bi&&(Jr.hasDefaultAudio=Jr.hasDefaultAudio||Wr.hasDefaultAudio?Bi.hasDefault:Bi.hasAutoSelect||!Wr.hasDefaultAudio&&!Wr.hasAutoSelectAudio,Object.keys(Bi.channels).forEach(function(ni){Jr.channels[ni]=(Jr.channels[ni]||0)+Bi.channels[ni]}))}}),Un},{}))),Gt,t,ye,He),Or=Ge.videoRanges;Re=Ge.minIndex,Ft=Ge.codecSet,Gt=Ge.preferHDR?Or[Or.length-1]:Or[0],he=Ge.minFramerate,t=Math.max(t,Ge.minBitrate),this.log("picked start tier "+mt(Ge))}else Ft=xt?.codecSet,Gt=xt?.videoRange;for(var qr,si=_?_.duration:I?I.duration:0,In=this.bwEstimator.getEstimateTTFB()/1e3,Mr=[],Ri=function(){var Vn,Wr=j[dn],ai=dn>b;if(!Wr)return 0;if(Ot.useMediaCapabilities&&!Wr.supportedResult&&!Wr.supportedPromise){var AA=navigator.mediaCapabilities;"function"==typeof AA?.decodingInfo&&function(on,Bi,ni,Pi,Hi,LA){var Wn=on.videoCodec,gA=on.audioCodec?on.audioGroups:null,cs=LA?.audioCodec,ys=LA?.channels,hs=ys?parseInt(ys):cs?1/0:2,ws=null;if(null!=gA&&gA.length)try{ws=1===gA.length&&gA[0]?Bi.groups[gA[0]].channels:gA.reduce(function(QA,ss){if(ss){var sA=Bi.groups[ss];if(!sA)throw new Error("Audio track group "+ss+" not found");Object.keys(sA.channels).forEach(function(Xi){QA[Xi]=(QA[Xi]||0)+sA.channels[Xi]})}return QA},{2:0})}catch{return!0}return void 0!==Wn&&(Wn.split(",").some(function(QA){return Xe(QA)})||on.width>1920&&on.height>1088||on.height>1920&&on.width>1088||on.frameRate>Math.max(Pi,30)||"SDR"!==on.videoRange&&on.videoRange!==ni||on.bitrate>Math.max(Hi,8e6))||!!ws&&ke(hs)&&Object.keys(ws).some(function(QA){return parseInt(QA)>hs})}(Wr,je,Gt,he,t,ye)?(Wr.supportedPromise=ft(Wr,je,AA,f.supportedCache),Wr.supportedPromise.then(function(on){if(f.hls){Wr.supportedResult=on;var Bi=f.hls.levels,ni=Bi.indexOf(Wr);on.error?f.warn('MediaCapabilities decodingInfo error: "'+on.error+'" for level '+ni+" "+mt(on)):on.supported?on.decodingInfoResults.some(function(Pi){return!1===Pi.smooth||!1===Pi.powerEfficient})&&f.log("MediaCapabilities decodingInfo for level "+ni+" not smooth or powerEfficient: "+mt(on)):(f.warn("Unsupported MediaCapabilities decodingInfo result for level "+ni+" "+mt(on)),ni>-1&&Bi.length>1&&(f.log("Removing unsupported level "+ni),f.hls.removeLevel(ni),-1===f.hls.loadLevel&&(f.hls.nextLoadLevel=0)))}})):Wr.supportedResult=Z}if((Ft&&Wr.codecSet!==Ft||Gt&&Wr.videoRange!==Gt||ai&&he>Wr.frameRate||!ai&&he>0&&he<Wr.frameRate||null!=(Vn=Wr.supportedResult)&&null!=(Vn=Vn.decodingInfoResults)&&Vn.some(function(on){return!1===on.smooth}))&&(!Pt||dn!==Re))return Mr.push(dn),0;var Un,Bn=Wr.details,fA=(_?Bn?.partTarget:Bn?.averagetargetduration)||si,qn=si&&i>=2*si&&0===a?Wr.averageBitrate:Wr.maxBitrate,Jr=f.getTimeToLoadFrag(In,Un=ai?l*t:o*t,qn*fA,void 0===Bn);if(Un>=qn&&(dn===v||0===Wr.loadError&&0===Wr.fragmentError)&&(Jr<=In||!ke(Jr)||Wt&&!f.bitrateTestDelay||Jr<m)){var DA=f.forcedAutoLevel;return dn===yt||-1!==DA&&DA===yt||(Mr.length&&f.trace("Skipped level(s) "+Mr.join(",")+" of "+n+' max with CODECS and VIDEO-RANGE:"'+j[Mr[0]].codecs+'" '+j[Mr[0]].videoRange+'; not compatible with "'+Ft+'" '+Gt),f.info("switch candidate:"+b+"->"+dn+" adjustedbw("+Math.round(Un)+")-bitrate="+Math.round(Un-qn)+" ttfb:"+In.toFixed(1)+" avgDuration:"+fA.toFixed(1)+" maxFetchDuration:"+m.toFixed(1)+" fetchDuration:"+Jr.toFixed(1)+" firstSelection:"+Pt+" codecSet:"+Wr.codecSet+" videoRange:"+Wr.videoRange+" hls.loadLevel:"+yt)),Pt&&(f.firstSelection=dn),{v:dn}}},dn=n;dn>=e;dn--)if(0!==(qr=Ri())&&qr)return qr.v;return-1},r.deriveNextAutoLevel=function(t){var e=this.hls,n=e.maxAutoLevel;return Math.min(Math.max(t,e.minAutoLevel),n)},Xr(A,[{key:"firstAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,n=t.minAutoLevel,i=this.getBwEstimate(),o=this.findBestLevel(i,n,e,0,this.hls.config.maxStarvationDelay,1,1);if(o>-1)return o;var l=this.hls.firstLevel,c=Math.min(Math.max(l,n),e);return this.warn("Could not find best starting auto level. Defaulting to first in playlist "+l+" clamped to "+c),c}},{key:"forcedAutoLevel",get:function(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}},{key:"nextAutoLevel",get:function(){var t=this.forcedAutoLevel,e=this.bwEstimator.canEstimate(),n=this.lastLoadedFragLevel>-1;if(!(-1===t||e&&n&&this.nextAutoLevelKey!==this.getAutoLevelKey()))return t;var i=e&&n?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==t){var a=this.hls.levels;if(a.length>Math.max(t,i)&&a[t].loadError<=a[i].loadError)return t}return this._nextAutoLevel=i,this.nextAutoLevelKey=this.getAutoLevelKey(),i},set:function(t){var e=this.deriveNextAutoLevel(t);this._nextAutoLevel!==e&&(this.nextAutoLevelKey="",this._nextAutoLevel=e)}}])}(mi),tt=function(s,A){for(var r=0,t=s.length-1,e=null,n=null;r<=t;){var i=A(n=s[e=(r+t)/2|0]);if(i>0)r=e+1;else{if(!(i<0))return n;t=e-1}}return null};function kt(s,A,r,t,e){void 0===r&&(r=0),void 0===t&&(t=0),void 0===e&&(e=.005);var n=null;if(s){var i=s.endDTS-r;i>0&&i<15e-7&&(r+=15e-7),(n=A[1+s.sn-A[0].sn]||null)&&s.level!==n.level&&n.end<=s.end&&(n=A[2+s.sn-A[0].sn]||null)}else 0===r&&0===A[0].start&&(n=A[0]);if(n&&((!s||s.level===n.level)&&0===Yt(r,t,n)||function(o,l,c){if(l&&0===l.start&&l.level<o.level&&(l.endPTS||0)>0){var f=l.tagList.reduce(function(m,v){return"INF"===v[0]&&(m+=parseFloat(v[1])),m},c);return o.start<=f}return!1}(n,s,Math.min(e,t))))return n;var a=tt(A,Yt.bind(null,r,t));return!a||a===s&&n?n:a}function Yt(s,A,r){if(void 0===s&&(s=0),void 0===A&&(A=0),r.start<=s&&r.start+r.duration>s)return 0;var t=Math.min(A,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-t<=s?1:r.start-t>s&&r.start?-1:0}function le(s,A,r){var t=1e3*Math.min(A,r.duration+(r.deltaPTS?r.deltaPTS:0));return(r.endProgramDateTime||0)-t>s}function we(s,A,r){if(s&&s.startCC<=A&&s.endCC>=A){var t,e=s.fragments,n=s.fragmentHint;return n&&(e=e.concat(n)),tt(e,function(i){return i.cc<A?1:i.cc>A?-1:(t=i,i.end<=r?1:i.start>r?-1:0)}),t||null}return null}function Jt(s){switch(s.details){case Ht.FRAG_LOAD_TIMEOUT:case Ht.KEY_LOAD_TIMEOUT:case Ht.LEVEL_LOAD_TIMEOUT:case Ht.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function de(s,A){var r=Jt(A);return s.default[(r?"timeout":"error")+"Retry"]}function Ae(s,A){var r="linear"===s.backoff?1:Math.pow(2,A);return Math.min(r*s.retryDelayMs,s.maxRetryDelayMs)}function De(s){return tn(tn({},s),{errorRetry:null,timeoutRetry:null})}function nt(s,A,r,t){if(!s)return!1;var e=t?.code,n=A<s.maxNumRetry&&(function(i){return 0===i&&!1===navigator.onLine||!!i&&(i<400||i>499)}(e)||!!r);return s.shouldRetry?s.shouldRetry(s,A,r,t,n):n}var Bt=0,ee=0,Ir=function(s){function A(t){var e;return(e=s.call(this,"error-controller",t.logger)||this).hls=void 0,e.playlistError=0,e.penalizedRenditions={},e.hls=t,e.registerListeners(),e}Kr(A,s);var r=A.prototype;return r.registerListeners=function(){var t=this.hls;t.on(D.ERROR,this.onError,this),t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.LEVEL_UPDATED,this.onLevelUpdated,this)},r.unregisterListeners=function(){var t=this.hls;t&&(t.off(D.ERROR,this.onError,this),t.off(D.ERROR,this.onErrorOut,this),t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.LEVEL_UPDATED,this.onLevelUpdated,this))},r.destroy=function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}},r.startLoad=function(t){},r.stopLoad=function(){this.playlistError=0},r.getVariantLevelIndex=function(t){return t?.type===Sr?t.level:this.hls.loadLevel},r.onManifestLoading=function(){this.playlistError=0,this.penalizedRenditions={}},r.onLevelUpdated=function(){this.playlistError=0},r.onError=function(t,e){var n;if(!e.fatal){var i=this.hls,a=e.context;switch(e.details){case Ht.FRAG_LOAD_ERROR:case Ht.FRAG_LOAD_TIMEOUT:case Ht.KEY_LOAD_ERROR:case Ht.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case Ht.FRAG_PARSING_ERROR:if(null!=(n=e.frag)&&n.gap)return void(e.errorAction=$e());case Ht.FRAG_GAP:case Ht.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=2);case Ht.LEVEL_EMPTY_ERROR:case Ht.LEVEL_PARSING_ERROR:var o,l=e.parent===Sr?e.level:i.loadLevel;return void(e.details===Ht.LEVEL_EMPTY_ERROR&&null!=(o=e.context)&&null!=(o=o.levelDetails)&&o.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,l):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,l)));case Ht.LEVEL_LOAD_ERROR:case Ht.LEVEL_LOAD_TIMEOUT:return void("number"==typeof a?.level&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,a.level)));case Ht.AUDIO_TRACK_LOAD_ERROR:case Ht.AUDIO_TRACK_LOAD_TIMEOUT:case Ht.SUBTITLE_LOAD_ERROR:case Ht.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){var c=i.loadLevelObj;if(c&&(a.type===Fn&&c.hasAudioGroup(a.groupId)||a.type===pi&&c.hasSubtitleGroup(a.groupId)))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,i.loadLevel),e.errorAction.action=2,void(e.errorAction.flags=1)}return;case Ht.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var m=i.loadLevelObj?.attrs["HDCP-LEVEL"];return void(m?e.errorAction={action:2,flags:2,hdcpLevel:m}:this.keySystemError(e));case Ht.BUFFER_ADD_CODEC_ERROR:case Ht.REMUX_ALLOC_ERROR:case Ht.BUFFER_APPEND_ERROR:var v;return void(e.errorAction||(e.errorAction=this.getLevelSwitchAction(e,null!=(v=e.level)?v:i.loadLevel)));case Ht.INTERNAL_EXCEPTION:case Ht.BUFFER_APPENDING_ERROR:case Ht.BUFFER_FULL_ERROR:case Ht.LEVEL_SWITCH_ERROR:case Ht.BUFFER_STALLED_ERROR:case Ht.BUFFER_SEEK_OVER_HOLE:case Ht.BUFFER_NUDGE_ON_STALL:return void(e.errorAction=$e())}e.type===Ve.KEY_SYSTEM_ERROR&&this.keySystemError(e)}},r.keySystemError=function(t){var e=this.getVariantLevelIndex(t.frag);t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,e)},r.getPlaylistRetryOrSwitchAction=function(t,e){var n=de(this.hls.config.playlistLoadPolicy,t),i=this.playlistError++;if(nt(n,i,Jt(t),t.response))return{action:5,flags:ee,retryConfig:n,retryCount:i};var a=this.getLevelSwitchAction(t,e);return n&&(a.retryConfig=n,a.retryCount=i),a},r.getFragRetryOrSwitchAction=function(t){var e=this.hls,n=this.getVariantLevelIndex(t.frag),i=e.levels[n],a=e.config,o=a.fragLoadPolicy,l=a.keyLoadPolicy,c=de(t.details.startsWith("key")?l:o,t),f=e.levels.reduce(function(v,b){return v+b.fragmentError},0);if(i&&(t.details!==Ht.FRAG_GAP&&i.fragmentError++,nt(c,f,Jt(t),t.response)))return{action:5,flags:ee,retryConfig:c,retryCount:f};var m=this.getLevelSwitchAction(t,n);return c&&(m.retryConfig=c,m.retryCount=f),m},r.getLevelSwitchAction=function(t,e){var n=this.hls;null==e&&(e=n.loadLevel);var i=this.hls.levels[e];if(i){var a,o,l=t.details;i.loadError++,l===Ht.BUFFER_APPEND_ERROR&&i.fragmentError++;var c=-1,f=n.levels,m=n.loadLevel,v=n.minAutoLevel,b=n.maxAutoLevel;n.autoLevelEnabled||n.config.preserveManualLevelOnError||(n.loadLevel=-1);for(var I,_=null==(a=t.frag)?void 0:a.type,Q=(_===$n&&l===Ht.FRAG_PARSING_ERROR||"audio"===t.sourceBufferName&&(l===Ht.BUFFER_ADD_CODEC_ERROR||l===Ht.BUFFER_APPEND_ERROR))&&f.some(function(Wt){return i.audioCodec!==Wt.audioCodec}),j="video"===t.sourceBufferName&&(l===Ht.BUFFER_ADD_CODEC_ERROR||l===Ht.BUFFER_APPEND_ERROR)&&f.some(function(Wt){return i.codecSet!==Wt.codecSet&&i.audioCodec===Wt.audioCodec}),At=null!=(o=t.context)?o:{},yt=At.type,Ot=At.groupId,Ft=function(){var Wt=(xt+m)%f.length;if(Wt!==m&&Wt>=v&&Wt<=b&&0===f[Wt].loadError){var Pt,Gt,he=f[Wt];if(l===Ht.FRAG_GAP&&_===Sr&&t.frag){var ye=f[Wt].details;if(ye){var He=kt(t.frag,ye.fragments,t.frag.start);if(null!=He&&He.gap)return 0}}else if(yt===Fn&&he.hasAudioGroup(Ot)||yt===pi&&he.hasSubtitleGroup(Ot)||_===$n&&null!=(Pt=i.audioGroups)&&Pt.some(function(je){return he.hasAudioGroup(je)})||_===Di&&null!=(Gt=i.subtitleGroups)&&Gt.some(function(je){return he.hasSubtitleGroup(je)})||Q&&i.audioCodec===he.audioCodec||j&&i.codecSet===he.codecSet||!Q&&i.codecSet!==he.codecSet)return 0;return c=Wt,1}},xt=f.length;xt--&&(0===(I=Ft())||1!==I););if(c>-1&&n.loadLevel!==c)return t.levelRetry=!0,this.playlistError=0,{action:2,flags:ee,nextAutoLevel:c}}return{action:2,flags:1}},r.onErrorOut=function(t,e){var n;switch(null==(n=e.errorAction)?void 0:n.action){case Bt:break;case 2:this.sendAlternateToPenaltyBox(e),e.errorAction.resolved||e.details===Ht.FRAG_GAP?/MediaSource readyState: ended/.test(e.error.message)&&(this.warn('MediaSource ended after "'+e.sourceBufferName+'" sourceBuffer append error. Attempting to recover from media error.'),this.hls.recoverMediaError()):e.fatal=!0}e.fatal&&this.hls.stopLoad()},r.sendAlternateToPenaltyBox=function(t){var e=this.hls,n=t.errorAction;if(n){var a=n.hdcpLevel,o=n.nextAutoLevel;switch(n.flags){case ee:this.switchLevel(t,o);break;case 2:a&&(e.maxHdcpLevel=Nt[Nt.indexOf(a)-1],n.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'+e.maxHdcpLevel+'" or lower')}n.resolved||this.switchLevel(t,o)}},r.switchLevel=function(t,e){if(void 0!==e&&t.errorAction&&(this.warn("switching to level "+e+" after "+t.details),this.hls.nextAutoLevel=e,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,t.details===Ht.BUFFER_ADD_CODEC_ERROR&&t.mimeType&&"audiovideo"!==t.sourceBufferName))for(var n=W(t.mimeType),i=this.hls.levels,a=i.length;a--;)i[a][t.sourceBufferName+"Codec"]===n&&this.hls.removeLevel(a)},A}(mi);function $e(s){var A={action:Bt,flags:ee};return s&&(A.resolved=!0),A}var Pr="NOT_LOADED",Ar="APPENDING",fr="PARTIAL",pr="OK",ln=function(){function s(r){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=r,this._registerListeners()}var A=s.prototype;return A._registerListeners=function(){var r=this.hls;r&&(r.on(D.MANIFEST_LOADING,this.onManifestLoading,this),r.on(D.BUFFER_APPENDED,this.onBufferAppended,this),r.on(D.FRAG_BUFFERED,this.onFragBuffered,this),r.on(D.FRAG_LOADED,this.onFragLoaded,this))},A._unregisterListeners=function(){var r=this.hls;r&&(r.off(D.MANIFEST_LOADING,this.onManifestLoading,this),r.off(D.BUFFER_APPENDED,this.onBufferAppended,this),r.off(D.FRAG_BUFFERED,this.onFragBuffered,this),r.off(D.FRAG_LOADED,this.onFragLoaded,this))},A.destroy=function(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null},A.getAppendedFrag=function(r,t){var e=this.activePartLists[t];if(e)for(var n=e.length;n--;){var i=e[n];if(!i)break;if(i.start<=r&&r<=i.end&&i.loaded)return i}return this.getBufferedFrag(r,t)},A.getBufferedFrag=function(r,t){return this.getFragAtPos(r,t,!0)},A.getFragAtPos=function(r,t,e){for(var n=this.fragments,i=Object.keys(n),a=i.length;a--;){var o=n[i[a]];if(o?.body.type===t&&(!e||o.buffered)){var l=o.body;if(l.start<=r&&r<=l.end)return l}}return null},A.detectEvictedFragments=function(r,t,e,n,i){var a=this;this.timeRanges&&(this.timeRanges[r]=t);var o=n?.fragment.sn||-1;Object.keys(this.fragments).forEach(function(l){var c=a.fragments[l];if(c&&!(o>=c.body.sn))if(c.buffered||c.loaded&&!i){var f=c.range[r];f&&(0!==f.time.length?f.time.some(function(m){var v=!a.isTimeBuffered(m.startPTS,m.endPTS,t);return v&&a.removeFragment(c.body),v}):a.removeFragment(c.body))}else c.body.type===e&&a.removeFragment(c.body)})},A.detectPartialFragments=function(r){var t=this,e=this.timeRanges;if(e&&"initSegment"!==r.frag.sn){var n=r.frag,i=Qr(n),a=this.fragments[i];if(!(!a||a.buffered&&n.gap)){var o=!n.relurl;Object.keys(e).forEach(function(l){var c=n.elementaryStreams[l];c&&(a.range[l]=t.getBufferedTimes(n,r.part,o||!0===c.partial,e[l]))}),a.loaded=null,Object.keys(a.range).length?(a.buffered=!0,(a.body.endList=n.endList||a.body.endList)&&(this.endListFragments[a.body.type]=a),un(a)||this.removeParts(n.sn-1,n.type)):this.removeFragment(a.body)}}},A.removeParts=function(r,t){var e=this.activePartLists[t];e&&(this.activePartLists[t]=Te(e,function(n){return n.fragment.sn>=r}))},A.fragBuffered=function(r,t){var e=Qr(r),n=this.fragments[e];!n&&t&&(n=this.fragments[e]={body:r,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},r.gap&&(this.hasGaps=!0)),n&&(n.loaded=null,n.buffered=!0)},A.getBufferedTimes=function(r,t,e,n){for(var i={time:[],partial:e},a=r.start,o=r.end,l=r.minEndPTS||o,c=r.maxStartPTS||a,f=0;f<n.length;f++){var m=n.start(f)-this.bufferPadding,v=n.end(f)+this.bufferPadding;if(c>=m&&l<=v){i.time.push({startPTS:Math.max(a,n.start(f)),endPTS:Math.min(o,n.end(f))});break}if(a<v&&o>m){var b=Math.max(a,n.start(f)),I=Math.min(o,n.end(f));I>b&&(i.partial=!0,i.time.push({startPTS:b,endPTS:I}))}else if(o<=m)break}return i},A.getPartialFragment=function(r){var t,e,n,i=null,a=0,o=this.bufferPadding,l=this.fragments;return Object.keys(l).forEach(function(c){var f=l[c];f&&un(f)&&(n=f.body.end+o,r>=(e=f.body.start-o)&&r<=n&&(t=Math.min(r-e,n-r),a<=t&&(i=f.body,a=t)))}),i},A.isEndListAppended=function(r){var t=this.endListFragments[r];return void 0!==t&&(t.buffered||un(t))},A.getState=function(r){var t=Qr(r),e=this.fragments[t];return e?e.buffered?un(e)?fr:pr:Ar:Pr},A.isTimeBuffered=function(r,t,e){for(var n,i,a=0;a<e.length;a++){if(n=e.start(a)-this.bufferPadding,i=e.end(a)+this.bufferPadding,r>=n&&t<=i)return!0;if(t<=n)return!1}return!1},A.onManifestLoading=function(){this.removeAllFragments()},A.onFragLoaded=function(r,t){if("initSegment"!==t.frag.sn&&!t.frag.bitrateTest){var e=t.frag,n=t.part?null:t,i=Qr(e);this.fragments[i]={body:e,appendedPTS:null,loaded:n,buffered:!1,range:Object.create(null)}}},A.onBufferAppended=function(r,t){var e=t.frag,n=t.part,i=t.timeRanges,a=t.type;if("initSegment"!==e.sn){var o=e.type;if(n){var l=this.activePartLists[o];l||(this.activePartLists[o]=l=[]),l.push(n)}this.timeRanges=i,this.detectEvictedFragments(a,i[a],o,n)}},A.onFragBuffered=function(r,t){this.detectPartialFragments(t)},A.hasFragment=function(r){var t=Qr(r);return!!this.fragments[t]},A.hasFragments=function(r){var t=this.fragments,e=Object.keys(t);if(!r)return e.length>0;for(var n=e.length;n--;)if(t[e[n]]?.body.type===r)return!0;return!1},A.hasParts=function(r){var t;return!(null==(t=this.activePartLists[r])||!t.length)},A.removeFragmentsInRange=function(r,t,e,n,i){var a=this;n&&!this.hasGaps||Object.keys(this.fragments).forEach(function(o){var l=a.fragments[o];if(l){var c=l.body;c.type!==e||n&&!c.gap||c.start<t&&c.end>r&&(l.buffered||i)&&a.removeFragment(c)}})},A.removeFragment=function(r){var t=Qr(r);r.clearElementaryStreamInfo();var e=this.activePartLists[r.type];if(e){var n=r.sn;this.activePartLists[r.type]=Te(e,function(i){return i.fragment.sn!==n})}delete this.fragments[t],r.endList&&delete this.endListFragments[r.type]},A.removeAllFragments=function(){var r;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;var t=null==(r=this.hls)||null==(r=r.latestLevelDetails)?void 0:r.partList;t&&t.forEach(function(e){return e.clearElementaryStreamInfo()})},s}();function un(s){var A,r,t;return s.buffered&&!!(s.body.gap||null!=(A=s.range.video)&&A.partial||null!=(r=s.range.audio)&&r.partial||null!=(t=s.range.audiovideo)&&t.partial)}function Qr(s){return s.type+"_"+s.level+"_"+s.sn}function Te(s,A){return s.filter(function(r){var t=A(r);return t||r.clearElementaryStreamInfo(),t})}var yr=0,li=1,ui=function(){function s(A,r,t){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=A,this.aesIV=r,this.aesMode=t}return s.prototype.decrypt=function(A,r){switch(this.aesMode){case yr:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},r,A);case li:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},r,A);default:throw new Error("[AESCrypto] invalid aes mode "+this.aesMode)}},s}(),$i=function(){function s(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var A=s.prototype;return A.uint8ArrayToUint32Array_=function(r){for(var t=new DataView(r),e=new Uint32Array(4),n=0;n<4;n++)e[n]=t.getUint32(4*n);return e},A.initTable=function(){var r=this.sBox,t=this.invSBox,e=this.subMix,n=e[0],i=e[1],a=e[2],o=e[3],l=this.invSubMix,c=l[0],f=l[1],m=l[2],v=l[3],b=new Uint32Array(256),I=0,_=0,Q=0;for(Q=0;Q<256;Q++)b[Q]=Q<128?Q<<1:Q<<1^283;for(Q=0;Q<256;Q++){var j=_^_<<1^_<<2^_<<3^_<<4;r[I]=j=j>>>8^255&j^99,t[j]=I;var At=b[I],yt=b[At],Ot=b[yt],Ft=257*b[j]^16843008*j;n[I]=Ft<<24|Ft>>>8,i[I]=Ft<<16|Ft>>>16,a[I]=Ft<<8|Ft>>>24,o[I]=Ft,c[j]=(Ft=16843009*Ot^65537*yt^257*At^16843008*I)<<24|Ft>>>8,f[j]=Ft<<16|Ft>>>16,m[j]=Ft<<8|Ft>>>24,v[j]=Ft,I?(I=At^b[b[b[Ot^At]]],_^=b[b[_]]):I=_=1}},A.expandKey=function(r){for(var t=this.uint8ArrayToUint32Array_(r),e=!0,n=0;n<t.length&&e;)e=t[n]===this.key[n],n++;if(!e){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,o,l,c,f=this.ksRows=4*(i+6+1),m=this.keySchedule=new Uint32Array(f),v=this.invKeySchedule=new Uint32Array(f),b=this.sBox,I=this.rcon,_=this.invSubMix,Q=_[0],j=_[1],At=_[2],yt=_[3];for(a=0;a<f;a++)a<i?l=m[a]=t[a]:(c=l,a%i==0?(c=b[(c=c<<8|c>>>24)>>>24]<<24|b[c>>>16&255]<<16|b[c>>>8&255]<<8|b[255&c],c^=I[a/i|0]<<24):i>6&&a%i==4&&(c=b[c>>>24]<<24|b[c>>>16&255]<<16|b[c>>>8&255]<<8|b[255&c]),m[a]=l=(m[a-i]^c)>>>0);for(o=0;o<f;o++)a=f-o,c=3&o?m[a]:m[a-4],v[o]=o<4||a<=4?c:Q[b[c>>>24]]^j[b[c>>>16&255]]^At[b[c>>>8&255]]^yt[b[255&c]],v[o]=v[o]>>>0}},A.networkToHostOrderSwap=function(r){return r<<24|(65280&r)<<8|(16711680&r)>>8|r>>>24},A.decrypt=function(r,t,e){for(var i,a,o,l,c,f,m,v,b,I,_,Q,j,At=this.keySize+6,yt=this.invKeySchedule,Ot=this.invSBox,Ft=this.invSubMix,xt=Ft[0],Wt=Ft[1],Pt=Ft[2],Gt=Ft[3],he=this.uint8ArrayToUint32Array_(e),ye=he[0],He=he[1],je=he[2],Re=he[3],Ze=new Int32Array(r),Ge=new Int32Array(Ze.length),tr=this.networkToHostOrderSwap;t<Ze.length;){for(v=tr(Ze[t]),b=tr(Ze[t+1]),I=tr(Ze[t+2]),_=tr(Ze[t+3]),l=v^yt[0],c=_^yt[1],f=I^yt[2],m=b^yt[3],Q=4,j=1;j<At;j++)i=xt[c>>>24]^Wt[f>>16&255]^Pt[m>>8&255]^Gt[255&l]^yt[Q+1],a=xt[f>>>24]^Wt[m>>16&255]^Pt[l>>8&255]^Gt[255&c]^yt[Q+2],o=xt[m>>>24]^Wt[l>>16&255]^Pt[c>>8&255]^Gt[255&f]^yt[Q+3],l=xt[l>>>24]^Wt[c>>16&255]^Pt[f>>8&255]^Gt[255&m]^yt[Q],c=i,f=a,m=o,Q+=4;i=Ot[c>>>24]<<24^Ot[f>>16&255]<<16^Ot[m>>8&255]<<8^Ot[255&l]^yt[Q+1],a=Ot[f>>>24]<<24^Ot[m>>16&255]<<16^Ot[l>>8&255]<<8^Ot[255&c]^yt[Q+2],o=Ot[m>>>24]<<24^Ot[l>>16&255]<<16^Ot[c>>8&255]<<8^Ot[255&f]^yt[Q+3],Ge[t]=tr(Ot[l>>>24]<<24^Ot[c>>16&255]<<16^Ot[f>>8&255]<<8^Ot[255&m]^yt[Q]^ye),Ge[t+1]=tr(o^He),Ge[t+2]=tr(a^je),Ge[t+3]=tr(i^Re),ye=v,He=b,je=I,Re=_,t+=4}return Ge.buffer},s}(),xn=function(){function s(A,r,t){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=A,this.key=r,this.aesMode=t}return s.prototype.expandKey=function(){var A=function(r){switch(r){case yr:return"AES-CBC";case li:return"AES-CTR";default:throw new Error("[FastAESKey] invalid aes mode "+r)}}(this.aesMode);return this.subtle.importKey("raw",this.key,{name:A},!1,["encrypt","decrypt"])},s}(),vi=function(){function s(r,t){var e=(void 0===t?{}:t).removePKCS7Padding,n=void 0===e||e;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=r.enableSoftwareAES,this.removePKCS7Padding=n,n)try{var i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch{}this.useSoftware=!this.subtle}var A=s.prototype;return A.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},A.isSync=function(){return this.useSoftware},A.flush=function(){var r=this.currentResult;if(!r||this.remainderData)return this.reset(),null;var e,n,i,a=new Uint8Array(r);return this.reset(),this.removePKCS7Padding?(i=(n=(e=a).byteLength)&&new DataView(e.buffer).getUint8(n-1))?e.slice(0,n-i):e:a},A.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},A.decrypt=function(r,t,e,n){var i=this;return this.useSoftware?new Promise(function(a,o){var l=ArrayBuffer.isView(r)?r:new Uint8Array(r);i.softwareDecrypt(l,t,e,n);var c=i.flush();c?a(c.buffer):o(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(r),t,e,n)},A.softwareDecrypt=function(r,t,e,n){var i=this.currentIV,a=this.currentResult,o=this.remainderData;if(n!==yr||16!==t.byteLength)return Yr.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),o&&(r=re(o,r),this.remainderData=null);var l=this.getValidChunk(r);if(!l.length)return null;i&&(e=i);var c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new $i),c.expandKey(t);var f=a;return this.currentResult=c.decrypt(l.buffer,0,e),this.currentIV=l.slice(-16).buffer,f||null},A.webCryptoDecrypt=function(r,t,e,n){var i=this;if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(r,t,e,n));this.key=t,this.fastAesKey=new xn(this.subtle,t,n)}return this.fastAesKey.expandKey().then(function(a){return i.subtle?(i.logOnce("WebCrypto AES decrypt"),new ui(i.subtle,new Uint8Array(e),n).decrypt(r.buffer,a)):Promise.reject(new Error("web crypto not initialized"))}).catch(function(a){return Yr.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+a.name+": "+a.message),i.onWebCryptoError(r,t,e,n)})},A.onWebCryptoError=function(r,t,e,n){var i=this.enableSoftwareAES;if(i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(r,t,e,n);var a=this.flush();if(a)return a.buffer}throw new Error("WebCrypto"+(i?" and softwareDecrypt":"")+": failed to decrypt data")},A.getValidChunk=function(r){var t=r,e=r.length-r.length%16;return e!==r.length&&(t=r.slice(0,e),this.remainderData=r.slice(e)),t},A.logOnce=function(r){this.logEnabled&&(Yr.log("[decrypter]: "+r),this.logEnabled=!1)},s}(),Mi=Math.pow(2,17),yi=function(){function s(r){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=r}var A=s.prototype;return A.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},A.abort=function(){this.loader&&this.loader.abort()},A.load=function(r,t){var e=this,n=r.url;if(!n)return Promise.reject(new qe({type:Ve.NETWORK_ERROR,details:Ht.FRAG_LOAD_ERROR,fatal:!1,frag:r,error:new Error("Fragment does not have a "+(n?"part list":"url")),networkDetails:null}));this.abort();var i=this.config,a=i.fLoader,o=i.loader;return new Promise(function(l,c){if(e.loader&&e.loader.destroy(),r.gap){if(r.tagList.some(function(_){return"GAP"===_[0]}))return void c(Ne(r));r.gap=!1}var f=e.loader=a?new a(i):new o(i),m=xe(r);r.loader=f;var v=De(i.fragLoadPolicy.default),b={loadPolicy:v,timeout:v.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===r.sn?1/0:Mi};r.stats=f.stats;var I={onSuccess:function(_,Q,j,At){e.resetLoader(r,f);var yt=_.data;j.resetIV&&r.decryptdata&&(r.decryptdata.iv=new Uint8Array(yt.slice(0,16)),yt=yt.slice(16)),l({frag:r,part:null,payload:yt,networkDetails:At})},onError:function(_,Q,j,At){e.resetLoader(r,f),c(new qe({type:Ve.NETWORK_ERROR,details:Ht.FRAG_LOAD_ERROR,fatal:!1,frag:r,response:tn({url:n,data:void 0},_),error:new Error("HTTP Error "+_.code+" "+_.text),networkDetails:j,stats:At}))},onAbort:function(_,Q,j){e.resetLoader(r,f),c(new qe({type:Ve.NETWORK_ERROR,details:Ht.INTERNAL_ABORTED,fatal:!1,frag:r,error:new Error("Aborted"),networkDetails:j,stats:_}))},onTimeout:function(_,Q,j){e.resetLoader(r,f),c(new qe({type:Ve.NETWORK_ERROR,details:Ht.FRAG_LOAD_TIMEOUT,fatal:!1,frag:r,error:new Error("Timeout after "+b.timeout+"ms"),networkDetails:j,stats:_}))}};t&&(I.onProgress=function(_,Q,j,At){return t({frag:r,part:null,payload:j,networkDetails:At})}),f.load(m,b,I)})},A.loadPart=function(r,t,e){var n=this;this.abort();var i=this.config,a=i.fLoader,o=i.loader;return new Promise(function(l,c){if(n.loader&&n.loader.destroy(),r.gap||t.gap)c(Ne(r,t));else{var f=n.loader=a?new a(i):new o(i),m=xe(r,t);r.loader=f;var v=De(i.fragLoadPolicy.default),b={loadPolicy:v,timeout:v.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Mi};t.stats=f.stats,f.load(m,b,{onSuccess:function(I,_,Q,j){n.resetLoader(r,f),n.updateStatsFromPart(r,t);var At={frag:r,part:t,payload:I.data,networkDetails:j};e(At),l(At)},onError:function(I,_,Q,j){n.resetLoader(r,f),c(new qe({type:Ve.NETWORK_ERROR,details:Ht.FRAG_LOAD_ERROR,fatal:!1,frag:r,part:t,response:tn({url:m.url,data:void 0},I),error:new Error("HTTP Error "+I.code+" "+I.text),networkDetails:Q,stats:j}))},onAbort:function(I,_,Q){r.stats.aborted=t.stats.aborted,n.resetLoader(r,f),c(new qe({type:Ve.NETWORK_ERROR,details:Ht.INTERNAL_ABORTED,fatal:!1,frag:r,part:t,error:new Error("Aborted"),networkDetails:Q,stats:I}))},onTimeout:function(I,_,Q){n.resetLoader(r,f),c(new qe({type:Ve.NETWORK_ERROR,details:Ht.FRAG_LOAD_TIMEOUT,fatal:!1,frag:r,part:t,error:new Error("Timeout after "+b.timeout+"ms"),networkDetails:Q,stats:I}))}})}})},A.updateStatsFromPart=function(r,t){var e=r.stats,n=t.stats,i=n.total;if(e.loaded+=n.loaded,i){var a=Math.round(r.duration/t.duration),o=Math.min(Math.round(e.loaded/i),a),l=(a-o)*Math.round(e.loaded/o);e.total=e.loaded+l}else e.total=Math.max(e.loaded,e.total);var c=e.loading,f=n.loading;c.start?c.first+=f.first-f.start:(c.start=f.start,c.first=f.first),c.end=f.end},A.resetLoader=function(r,t){r.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()},s}();function xe(s,A){void 0===A&&(A=null);var r,t=A||s,e={frag:s,part:A,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},n=t.byteRangeStartOffset,i=t.byteRangeEndOffset;if(ke(n)&&ke(i)){var a,o=n,l=i;if("initSegment"===s.sn&&("AES-128"===(r=null==(a=s.decryptdata)?void 0:a.method)||"AES-256"===r)){var c=i-n;c%16&&(l=i+(16-c%16)),0!==n&&(e.resetIV=!0,o=n-16)}e.rangeStart=o,e.rangeEnd=l}return e}function Ne(s,A){var r=new Error("GAP "+(s.gap?"tag":"attribute")+" found"),t={type:Ve.MEDIA_ERROR,details:Ht.FRAG_GAP,fatal:!1,frag:s,error:r,networkDetails:null};return A&&(t.part=A),(A||s).stats.aborted=!0,new qe(t)}var qe=function(s){function A(r){var t;return(t=s.call(this,r.error.message)||this).data=void 0,t.data=r,t}return Kr(A,s),A}(Rn(Error)),We=function(s){function A(t,e){var n;return(n=s.call(this,t,e)||this)._boundTick=void 0,n._tickTimer=null,n._tickInterval=null,n._tickCallCount=0,n._boundTick=n.tick.bind(n),n}Kr(A,s);var r=A.prototype;return r.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},r.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},r.onHandlerDestroyed=function(){},r.hasInterval=function(){return!!this._tickInterval},r.hasNextTick=function(){return!!this._tickTimer},r.setInterval=function(t){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,t),!0)},r.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},r.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},r.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},r.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},r.doTick=function(){},A}(mi),h=function(s,A,r,t,e,n){void 0===t&&(t=0),void 0===e&&(e=-1),void 0===n&&(n=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=s,this.sn=A,this.id=r,this.size=t,this.part=e,this.partial=n},g={length:0,start:function(){return 0},end:function(){return 0}},w=function(){function s(){}return s.isBuffered=function(A,r){if(A)for(var t=s.getBuffered(A),e=t.length;e--;)if(r>=t.start(e)&&r<=t.end(e))return!0;return!1},s.bufferedRanges=function(A){if(A){var r=s.getBuffered(A);return s.timeRangesToArray(r)}return[]},s.timeRangesToArray=function(A){for(var r=[],t=0;t<A.length;t++)r.push({start:A.start(t),end:A.end(t)});return r},s.bufferInfo=function(A,r,t){if(A){var e=s.bufferedRanges(A);if(e.length)return s.bufferedInfo(e,r,t)}return{len:0,start:r,end:r,bufferedIndex:-1}},s.bufferedInfo=function(A,r,t){r=Math.max(0,r),A.length>1&&A.sort(function(_,Q){return _.start-Q.start||Q.end-_.end});var e=-1,n=[];if(t)for(var i=0;i<A.length;i++){r>=A[i].start&&r<=A[i].end&&(e=i);var a=n.length;if(a){var o=n[a-1].end;A[i].start-o<t?A[i].end>o&&(n[a-1].end=A[i].end):n.push(A[i])}else n.push(A[i])}else n=A;for(var l,c=0,f=r,m=r,v=0;v<n.length;v++){var b=n[v].start,I=n[v].end;if(-1===e&&r>=b&&r<=I&&(e=v),r+t>=b&&r<I)f=b,c=(m=I)-r;else if(r+t<b){l=b;break}}return{len:c,start:f||0,end:m||0,nextStart:l,buffered:A,bufferedIndex:e}},s.getBuffered=function(A){try{return A.buffered||g}catch(r){return Yr.log("failed to get media.buffered",r),g}},s}(),F=/\{\$([a-zA-Z0-9-_]+)\}/g;function K(s){return F.test(s)}function Y(s,A){if(null!==s.variableList||s.hasVariableRefs){var r=s.variableList;return A.replace(F,function(t){var e=t.substring(2,t.length-1),n=r?.[e];return void 0===n?(s.playlistParsingError||(s.playlistParsingError=new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'+e+'"')),t):n})}return A}function ut(s,A,r){var t,e,n=s.variableList;if(n||(s.variableList=n={}),"QUERYPARAM"in A){t=A.QUERYPARAM;try{var i=new self.URL(r).searchParams;if(!i.has(t))throw new Error('"'+t+'" does not match any query parameter in URI: "'+r+'"');e=i.get(t)}catch(a){s.playlistParsingError||(s.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: "+a.message))}}else t=A.NAME,e=A.VALUE;t in n?s.playlistParsingError||(s.playlistParsingError=new Error('EXT-X-DEFINE duplicate Variable Name declarations: "'+t+'"')):n[t]=e||""}function Dt(s,A,r){var t=A.IMPORT;if(r&&t in r){var e=s.variableList;e||(s.variableList=e={}),e[t]=r[t]}else s.playlistParsingError||(s.playlistParsingError=new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'+t+'"'))}var _t=/^(\d+)x(\d+)$/,te=/(.+?)=(".*?"|.*?)(?:,|$)/g,se=function(){function s(r,t){"string"==typeof r&&(r=s.parseAttrList(r,t)),Lr(this,r)}var A=s.prototype;return A.decimalInteger=function(r){var t=parseInt(this[r],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},A.hexadecimalInteger=function(r){if(this[r]){var t=(this[r]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var e=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)e[n]=parseInt(t.slice(2*n,2*n+2),16);return e}return null},A.hexadecimalIntegerAsNumber=function(r){var t=parseInt(this[r],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},A.decimalFloatingPoint=function(r){return parseFloat(this[r])},A.optionalFloat=function(r,t){var e=this[r];return e?parseFloat(e):t},A.enumeratedString=function(r){return this[r]},A.enumeratedStringList=function(r,t){var e=this[r];return(e?e.split(/[ ,]+/):[]).reduce(function(n,i){return n[i.toLowerCase()]=!0,n},t)},A.bool=function(r){return"YES"===this[r]},A.decimalResolution=function(r){var t=_t.exec(this[r]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},s.parseAttrList=function(r,t){var e,n={};for(te.lastIndex=0;null!==(e=te.exec(r));){var i=e[1].trim(),a=e[2],o=0===a.indexOf('"')&&a.lastIndexOf('"')===a.length-1,l=!1;if(o)a=a.slice(1,-1);else switch(i){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":l=!0}if(t&&(o||l))a=Y(t,a);else if(!l&&!o)switch(i){case"CLOSED-CAPTIONS":if("NONE"===a)break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":Yr.warn(r+": attribute "+i+" is missing quotes")}n[i]=a}return n},Xr(s,[{key:"clientAttrs",get:function(){return Object.keys(this).filter(function(r){return"X-"===r.substring(0,2)})}}])}();function Ce(s){return"SCTE35-OUT"===s||"SCTE35-IN"===s||"SCTE35-CMD"===s}var ue=Xr(function(s,A,r){var t;if(void 0===r&&(r=0),this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=A?.tagAnchor||null,this.tagOrder=null!=(t=A?.tagOrder)?t:r,A){var e=A.attr;for(var n in e)if(Object.prototype.hasOwnProperty.call(s,n)&&s[n]!==e[n]){Yr.warn('DATERANGE tag attribute: "'+n+'" does not match for tags with ID: "'+s.ID+'"'),this._badValueForSameId=n;break}s=Lr(new se({}),e,s)}if(this.attr=s,A?(this._startDate=A._startDate,this._cue=A._cue,this._endDate=A._endDate,this._dateAtEnd=A._dateAtEnd):this._startDate=new Date(s["START-DATE"]),"END-DATE"in this.attr){var i=A?.endDate||new Date(this.attr["END-DATE"]);ke(i.getTime())&&(this._endDate=i)}},[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"cue",get:function(){var s=this._cue;return void 0===s?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):s}},{key:"startTime",get:function(){var s=this.tagAnchor;return null===s||null===s.programDateTime?(Yr.warn('Expected tagAnchor Fragment with PDT set for DateRange "'+this.id+'": '+s),NaN):s.start+(this.startDate.getTime()-s.programDateTime)/1e3}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){var s=this._endDate||this._dateAtEnd;if(s)return s;var A=this.duration;return null!==A?this._dateAtEnd=new Date(this._startDate.getTime()+1e3*A):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var s=this.attr.decimalFloatingPoint("DURATION");if(ke(s))return s}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isInterstitial",get:function(){return"com.apple.hls.interstitial"===this.class}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&ke(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}]),Se=function(){function s(A){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=A}return s.prototype.reloaded=function(A){if(!A)return this.advanced=!0,void(this.updated=!0);var r=this.lastPartSn-A.lastPartSn,t=this.lastPartIndex-A.lastPartIndex;this.updated=this.endSN!==A.endSN||!!t||!!r||!this.live,this.advanced=this.endSN>A.endSN||r>0||0===r&&t>0,this.misses=this.updated||this.advanced?Math.floor(.6*A.misses):A.misses+1},Xr(s,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&ke(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var A=this.driftEndTime-this.driftStartTime;return A>0?1e3*(this.driftEnd-this.driftStart)/A:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var A;return null!=(A=this.partList)&&A.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}},{key:"fragmentStart",get:function(){return this.fragments.length?this.fragments[0].start:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var A;return null!=(A=this.partList)&&A.length?this.partList[this.partList.length-1].index:-1}},{key:"maxPartIndex",get:function(){var A=this.partList;if(A){var r=this.lastPartIndex;if(-1!==r){for(var t=A.length;t--;)if(A[t].index>r)return A[t].index;return r}}return 0}},{key:"lastPartSn",get:function(){var A;return null!=(A=this.partList)&&A.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}},{key:"expired",get:function(){return!!(this.live&&this.age&&this.misses<3)&&this.age>Math.max(this.partEnd-this.fragmentStart,this.totalduration)+this.levelTargetDuration}}])}();function ar(s){return"AES-128"===s||"AES-256"===s||"AES-256-CTR"===s}function xr(s){switch(s){case"AES-128":case"AES-256":return yr;case"AES-256-CTR":return li;default:throw new Error("invalid full segment method "+s)}}function Br(s){return Uint8Array.from(atob(s),function(A){return A.charCodeAt(0)})}function Mn(s){return Uint8Array.from(unescape(encodeURIComponent(s)),function(A){return A.charCodeAt(0)})}var Ci=typeof self<"u"?self:void 0,fn={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},rn="org.w3.clearkey",cn="com.apple.streamingkeydelivery",hr="com.microsoft.playready",yn="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function PA(s){switch(s){case cn:return fn.FAIRPLAY;case hr:return fn.PLAYREADY;case yn:return fn.WIDEVINE;case rn:return fn.CLEARKEY}}function SA(s){switch(s){case fn.FAIRPLAY:return cn;case fn.PLAYREADY:return hr;case fn.WIDEVINE:return yn;case fn.CLEARKEY:return rn}}function qi(s){var A=s.drmSystems,r=s.widevineLicenseUrl,t=A?[fn.FAIRPLAY,fn.WIDEVINE,fn.PLAYREADY,fn.CLEARKEY].filter(function(e){return!!A[e]}):[];return!t[fn.WIDEVINE]&&r&&t.push(fn.WIDEVINE),t}var FA,TA=null!=Ci&&null!=(FA=Ci.navigator)&&FA.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null,oA={},ZA=function(){function s(r,t,e,n,i,a){void 0===n&&(n=[1]),void 0===i&&(i=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=r,this.uri=t,this.keyFormat=e,this.keyFormatVersions=n,this.iv=i,this.encrypted=!!r&&"NONE"!==r,this.isCommonEncryption=this.encrypted&&!ar(r),null!=a&&a.startsWith("0x")&&(this.keyId=new Uint8Array(En(a)))}s.clearKeyUriToKeyIdMap=function(){oA={}};var A=s.prototype;return A.matches=function(r){var t,e;return r.uri===this.uri&&r.method===this.method&&r.encrypted===this.encrypted&&r.keyFormat===this.keyFormat&&r.keyFormatVersions.join(",")===this.keyFormatVersions.join(",")&&(null==(t=r.iv)?void 0:t.join(","))===(null==(e=this.iv)?void 0:e.join(","))},A.isSupported=function(){if(this.method){if(ar(this.method)||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case cn:case yn:case hr:case rn:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1},A.getDecryptData=function(r){if(!this.encrypted||!this.uri)return null;if(ar(this.method)&&this.uri&&!this.iv){"number"!=typeof r&&(Yr.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),r=0);var t=function(f){for(var m=new Uint8Array(16),v=12;v<16;v++)m[v]=f>>8*(15-v)&255;return m}(r);return new s(this.method,this.uri,"identity",this.keyFormatVersions,t)}if(this.pssh&&this.keyId)return this;var e=function ci(s){var A,r,t=s.split(":"),e=null;if("data"===t[0]&&2===t.length){var n=t[1].split(";"),i=n[n.length-1].split(",");if(2===i.length){var o=i[1];"base64"===i[0]?(n.splice(-1,1),e=Br(o)):(A=Mn(o).subarray(0,16),(r=new Uint8Array(16)).set(A,16-A.length),e=r)}}return e}(this.uri);if(e)switch(this.keyFormat){case yn:if(this.pssh=e,!this.keyId&&e.length>=22){var n=e.length-22;this.keyId=e.subarray(n,n+16)}break;case hr:var i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function ze(s,A,r){if(16!==s.byteLength)throw new RangeError("Invalid system id");var t,e;t=new Uint8Array,e=new Uint8Array;var n=new Uint8Array(4);return r.byteLength>0&&new DataView(n.buffer).setUint32(0,r.byteLength,!1),function(i){for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];for(var c=o.length,f=8,m=c;m--;)f+=o[m].byteLength;var v=new Uint8Array(f);for(v[0]=f>>24&255,v[1]=f>>16&255,v[2]=f>>8&255,v[3]=255&f,v.set(i,4),m=0,f=8;m<c;m++)v.set(o[m],f),f+=o[m].byteLength;return v}([112,115,115,104],new Uint8Array([0,0,0,0]),s,e,t,n,r)}(i,0,e),this.keyId=function(f){var j,At,m=new Uint16Array(f.buffer,f.byteOffset,f.byteLength/2),v=String.fromCharCode.apply(null,Array.from(m)),b=v.substring(v.indexOf("<"),v.length),I=(new DOMParser).parseFromString(b,"text/xml").getElementsByTagName("KID")[0];if(I){var _=I.childNodes[0]?I.childNodes[0].nodeValue:I.getAttribute("VALUE");if(_){var Q=Br(_).subarray(0,16);return(At=function(yt,Ot,Ft){var xt=yt[Ot];yt[Ot]=yt[Ft],yt[Ft]=xt})(j=Q,0,3),At(j,1,2),At(j,4,5),At(j,6,7),Q}}return null}(e);break;default:var a=e.subarray(0,16);if(16!==a.length){var o=new Uint8Array(16);o.set(a,16-a.length),a=o}this.keyId=a}if(!this.keyId||16!==this.keyId.byteLength){var l=oA[this.uri];if(!l){var c=Object.keys(oA).length%Number.MAX_SAFE_INTEGER;l=new Uint8Array(16),new DataView(l.buffer,12,4).setUint32(0,c),oA[this.uri]=l}this.keyId=l}return this},s}(),lA=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Li=/#EXT-X-MEDIA:(.*)/g,_n=/^#EXT(?:INF|-X-TARGETDURATION):/m,Si=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),O=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),Ct=function(){function s(){}return s.findGroup=function(A,r){for(var t=0;t<A.length;t++){var e=A[t];if(e.id===r)return e}},s.resolve=function(A,r){return pA.buildAbsoluteURL(r,A,{alwaysNormalize:!0})},s.isMediaPlaylist=function(A){return _n.test(A)},s.parseMasterPlaylist=function(A,r){var t,e={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:K(A)},n=[];for(lA.lastIndex=0;null!=(t=lA.exec(A));)if(t[1]){var i,a=new se(t[1],e),o=Y(e,t[2]),l={attrs:a,bitrate:a.decimalInteger("BANDWIDTH")||a.decimalInteger("AVERAGE-BANDWIDTH"),name:a.NAME,url:s.resolve(o,r)},c=a.decimalResolution("RESOLUTION");c&&(l.width=c.width,l.height=c.height),dr(a.CODECS,l);var f=a["SUPPLEMENTAL-CODECS"];f&&(l.supplemental={},dr(f,l.supplemental)),null!=(i=l.unknownCodecs)&&i.length||n.push(l),e.levels.push(l)}else if(t[3]){var v=t[4];switch(t[3]){case"SESSION-DATA":var b=new se(v,e),I=b["DATA-ID"];I&&(null===e.sessionData&&(e.sessionData={}),e.sessionData[I]=b);break;case"SESSION-KEY":var _=ve(v,r,e);_.encrypted&&_.isSupported()?(null===e.sessionKeys&&(e.sessionKeys=[]),e.sessionKeys.push(_)):Yr.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+v+'"');break;case"DEFINE":ut(e,new se(v,e),r);break;case"CONTENT-STEERING":var Q=new se(v,e);e.contentSteering={uri:s.resolve(Q["SERVER-URI"],r),pathwayId:Q["PATHWAY-ID"]||"."};break;case"START":e.startTimeOffset=Pe(v)}}return e.levels=n.length>0&&n.length<e.levels.length?n:e.levels,0===e.levels.length&&(e.playlistParsingError=new Error("no levels found in manifest")),e},s.parseMasterPlaylistMedia=function(A,r,t){var e,n={},i=t.levels,a={AUDIO:i.map(function(yt){return{id:yt.attrs.AUDIO,audioCodec:yt.audioCodec}}),SUBTITLES:i.map(function(yt){return{id:yt.attrs.SUBTITLES,textCodec:yt.textCodec}}),"CLOSED-CAPTIONS":[]},o=0;for(Li.lastIndex=0;null!==(e=Li.exec(A));){var l=new se(e[1],t),c=l.TYPE;if(c){var f=a[c],m=n[c]||[];n[c]=m;var v=l.LANGUAGE,b=l["ASSOC-LANGUAGE"],I=l.CHANNELS,_=l.CHARACTERISTICS,Q=l["INSTREAM-ID"],j={attrs:l,bitrate:0,id:o++,groupId:l["GROUP-ID"]||"",name:l.NAME||v||"",type:c,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:v,url:l.URI?s.resolve(l.URI,r):""};if(b&&(j.assocLang=b),I&&(j.channels=I),_&&(j.characteristics=_),Q&&(j.instreamId=Q),null!=f&&f.length){var At=s.findGroup(f,j.groupId)||f[0];Gr(j,At,"audioCodec"),Gr(j,At,"textCodec")}m.push(j)}}return n},s.parseLevelPlaylist=function(A,r,t,e,n,i){var a,o,l,c,f,m={url:r},v=new Se(r),b=v.fragments,I=[],_=null,Q=0,j=0,At=0,yt=0,Ot=0,Ft=null,xt=new ir(e,m),Wt=-1,Pt=!1,Gt=null;if(Si.lastIndex=0,v.m3u8=A,v.hasVariableRefs=K(A),"#EXTM3U"!==(null==(a=Si.exec(A))?void 0:a[0]))return v.playlistParsingError=new Error("Missing format identifier #EXTM3U"),v;for(;null!==(o=Si.exec(A));){Pt&&(Pt=!1,(xt=new ir(e,m)).playlistOffset=At,xt.setStart(At),xt.sn=Q,xt.cc=yt,Ot&&(xt.bitrate=Ot),xt.level=t,_&&(xt.initSegment=_,_.rawProgramDateTime&&(xt.rawProgramDateTime=_.rawProgramDateTime,_.rawProgramDateTime=null),Gt&&(xt.setByteRange(Gt),Gt=null)));var he=o[1];if(he){xt.duration=parseFloat(he);var ye=(" "+o[2]).slice(1);xt.title=ye||null,xt.tagList.push(ye?["INF",he,ye]:["INF",he])}else if(o[3]){if(ke(xt.duration)){xt.playlistOffset=At,xt.setStart(At),c&&hi(xt,c,v),xt.sn=Q,xt.level=t,xt.cc=yt,b.push(xt);var He=(" "+o[3]).slice(1);xt.relurl=Y(v,He),nn(xt,Ft,I),Ft=xt,At+=xt.duration,Q++,j=0,Pt=!0}}else{if(!(o=o[0].match(O))){Yr.warn("No matches on slow regex match for level playlist!");continue}for(l=1;l<o.length&&void 0===o[l];l++);var je=(" "+o[l]).slice(1),Re=(" "+o[l+1]).slice(1),Ze=o[l+2]?(" "+o[l+2]).slice(1):null;switch(je){case"BYTERANGE":Ft?xt.setByteRange(Re,Ft):xt.setByteRange(Re);break;case"PROGRAM-DATE-TIME":xt.rawProgramDateTime=Re,xt.tagList.push(["PROGRAM-DATE-TIME",Re]),-1===Wt&&(Wt=b.length);break;case"PLAYLIST-TYPE":v.type&&pn(v,je,o),v.type=Re.toUpperCase();break;case"MEDIA-SEQUENCE":0!==v.startSN?pn(v,je,o):b.length>0&&NA(v,je,o),Q=v.startSN=parseInt(Re);break;case"SKIP":v.skippedSegments&&pn(v,je,o);var Ge=new se(Re,v),tr=Ge.decimalInteger("SKIPPED-SEGMENTS");if(ke(tr)){v.skippedSegments+=tr;for(var Or=tr;Or--;)b.push(null);Q+=tr}var sr=Ge.enumeratedString("RECENTLY-REMOVED-DATERANGES");sr&&(v.recentlyRemovedDateranges=(v.recentlyRemovedDateranges||[]).concat(sr.split("\t")));break;case"TARGETDURATION":0!==v.targetduration&&pn(v,je,o),v.targetduration=Math.max(parseInt(Re),1);break;case"VERSION":null!==v.version&&pn(v,je,o),v.version=parseInt(Re);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":v.live||pn(v,je,o),v.live=!1;break;case"#":(Re||Ze)&&xt.tagList.push(Ze?[Re,Ze]:[Re]);break;case"DISCONTINUITY":yt++,xt.tagList.push(["DIS"]);break;case"GAP":xt.gap=!0,xt.tagList.push([je]);break;case"BITRATE":xt.tagList.push([je,Re]),Ot=1e3*parseInt(Re),ke(Ot)?xt.bitrate=Ot:Ot=0;break;case"DATERANGE":var Cr=new se(Re,v),an=new ue(Cr,v.dateRanges[Cr.ID],v.dateRangeTagCount);v.dateRangeTagCount++,an.isValid||v.skippedSegments?v.dateRanges[an.id]=an:Yr.warn('Ignoring invalid DATERANGE tag: "'+Re+'"'),xt.tagList.push(["EXT-X-DATERANGE",Re]);break;case"DEFINE":var gn=new se(Re,v);"IMPORT"in gn?Dt(v,gn,i):ut(v,gn,r);break;case"DISCONTINUITY-SEQUENCE":0!==v.startCC?pn(v,je,o):b.length>0&&NA(v,je,o),v.startCC=yt=parseInt(Re);break;case"KEY":var qr=ve(Re,r,v);if(qr.isSupported()){if("NONE"===qr.method){c=void 0;break}c||(c={});var si=c[qr.keyFormat];null!=si&&si.matches(qr)||(si&&(c=Lr({},c)),c[qr.keyFormat]=qr)}else Yr.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+Re+'"');break;case"START":v.startTimeOffset=Pe(Re);break;case"MAP":var In=new se(Re,v);if(xt.duration){var Mr=new ir(e,m);wn(Mr,In,t,c),xt.initSegment=_=Mr,_.rawProgramDateTime&&!xt.rawProgramDateTime&&(xt.rawProgramDateTime=_.rawProgramDateTime)}else{var Ri=xt.byteRangeEndOffset;if(Ri){var dn=xt.byteRangeStartOffset;Gt=Ri-dn+"@"+dn}else Gt=null;wn(xt,In,t,c),_=xt,Pt=!0}_.cc=yt;break;case"SERVER-CONTROL":f&&pn(v,je,o),f=new se(Re),v.canBlockReload=f.bool("CAN-BLOCK-RELOAD"),v.canSkipUntil=f.optionalFloat("CAN-SKIP-UNTIL",0),v.canSkipDateRanges=v.canSkipUntil>0&&f.bool("CAN-SKIP-DATERANGES"),v.partHoldBack=f.optionalFloat("PART-HOLD-BACK",0),v.holdBack=f.optionalFloat("HOLD-BACK",0);break;case"PART-INF":v.partTarget&&pn(v,je,o);var Vn=new se(Re);v.partTarget=Vn.decimalFloatingPoint("PART-TARGET");break;case"PART":var Wr=v.partList;Wr||(Wr=v.partList=[]);var ai=j>0?Wr[Wr.length-1]:void 0,AA=j++,Un=new se(Re,v),Bn=new oi(Un,xt,m,AA,ai);Wr.push(Bn),xt.duration+=Bn.duration;break;case"PRELOAD-HINT":var fA=new se(Re,v);v.preloadHint=fA;break;case"RENDITION-REPORT":var qn=new se(Re,v);v.renditionReports=v.renditionReports||[],v.renditionReports.push(qn);break;default:Yr.warn("line parsed but not handled: "+o)}}}Ft&&!Ft.relurl?(b.pop(),At-=Ft.duration,v.partList&&(v.fragmentHint=Ft)):v.partList&&(nn(xt,Ft,I),xt.cc=yt,v.fragmentHint=xt,c&&hi(xt,c,v)),v.targetduration||(v.playlistParsingError=new Error("#EXT-X-TARGETDURATION is required"));var Jr=b.length,DA=b[0],on=b[Jr-1];if((At+=v.skippedSegments*v.targetduration)>0&&Jr&&on){v.averagetargetduration=At/Jr;var Bi=on.sn;v.endSN="initSegment"!==Bi?Bi:0,v.live||(on.endList=!0),Wt>0&&(function(ni,Pi){for(var Hi=ni[Pi],LA=Pi;LA--;){var Wn=ni[LA];if(!Wn)return;Wn.programDateTime=Hi.programDateTime-1e3*Wn.duration,Hi=Wn}}(b,Wt),DA&&I.unshift(DA))}return v.fragmentHint&&(At+=v.fragmentHint.duration),v.totalduration=At,I.length&&v.dateRangeTagCount&&DA&&Rt(I,v),v.endCC=yt,v},s}();function Rt(s,A){var r=s.length;if(!r){if(!A.hasProgramDateTime)return;s.push(A.fragments[A.fragments.length-1]),r++}for(var e=s[r-1],n=A.live?1/0:A.totalduration,i=Object.keys(A.dateRanges),a=i.length;a--;){var o=A.dateRanges[i[a]],l=o.startDate.getTime();o.tagAnchor=e.ref;for(var c=r;c--;){var f;if((null==(f=s[c])?void 0:f.sn)<A.startSN)break;var m=ie(A,l,s,c,n);if(-1!==m){o.tagAnchor=A.fragments[m].ref;break}}}}function ie(s,A,r,t,e){var n=r[t];if(n){var i,a=n.programDateTime;if((A>=a||0===t)&&A<=a+1e3*(((null==(i=r[t+1])?void 0:i.start)||e)-n.start)){var o=r[t].sn-s.startSN;if(o<0)return-1;var l=s.fragments;if(l.length>r.length)for(var c=(r[t+1]||l[l.length-1]).sn-s.startSN;c>o;c--){var f=l[c].programDateTime;if(A>=f&&A<f+1e3*l[c].duration)return c}return o}}return-1}function ve(s,A,r){var t,e,n=new se(s,r),i=null!=(t=n.METHOD)?t:"",a=n.URI,o=n.hexadecimalInteger("IV"),l=n.KEYFORMATVERSIONS,c=null!=(e=n.KEYFORMAT)?e:"identity";a&&n.IV&&!o&&Yr.error("Invalid IV: "+n.IV);var f=a?Ct.resolve(a,A):"",m=(l||"1").split("/").map(Number).filter(Number.isFinite);return new ZA(i,f,c,m,o,n.KEYID)}function Pe(s){var A=new se(s).decimalFloatingPoint("TIME-OFFSET");return ke(A)?A:null}function dr(s,A){var r=(s||"").split(/[ ,]+/).filter(function(t){return t});["video","audio","text"].forEach(function(t){var e=r.filter(function(n){return C(n,t)});e.length&&(A[t+"Codec"]=e.map(function(n){return n.split("/")[0]}).join(","),r=r.filter(function(n){return-1===e.indexOf(n)}))}),A.unknownCodecs=r}function Gr(s,A,r){var t=A[r];t&&(s[r]=t)}function nn(s,A,r){s.rawProgramDateTime?r.push(s):null!=A&&A.programDateTime&&(s.programDateTime=A.endProgramDateTime)}function wn(s,A,r,t){s.relurl=A.URI,A.BYTERANGE&&s.setByteRange(A.BYTERANGE),s.level=r,s.sn="initSegment",t&&(s.levelkeys=t),s.initSegment=null}function hi(s,A,r){s.levelkeys=A;var t=r.encryptedFragments;t.length&&t[t.length-1].levelkeys===A||!Object.keys(A).some(function(e){return A[e].isCommonEncryption})||t.push(s)}function pn(s,A,r){s.playlistParsingError=new Error("#EXT-X-"+A+" must not appear more than once ("+r[0]+")")}function NA(s,A,r){s.playlistParsingError=new Error("#EXT-X-"+A+" must appear before the first Media Segment ("+r[0]+")")}function OA(s,A){var r=A.startPTS;if(ke(r)){var t,e=0;A.sn>s.sn?(e=r-s.start,t=s):(e=s.start-r,t=A),t.duration!==e&&t.setDuration(e)}else A.setStart(A.sn>s.sn?s.cc===A.cc&&s.minEndPTS?s.start+(s.minEndPTS-s.start):s.start+s.duration:Math.max(s.start-A.duration,0))}function dA(s,A,r,t,e,n,i){t-r<=0&&(i.warn("Fragment should have a positive duration",A),t=r+A.duration,n=e+A.duration);var a=r,o=t,l=A.startPTS,c=A.endPTS;if(ke(l)){var f=Math.abs(l-r);s&&f>s.totalduration?i.warn("media timestamps and playlist times differ by "+f+"s for level "+A.level+" "+s.url):A.deltaPTS=ke(A.deltaPTS)?Math.max(f,A.deltaPTS):f,a=Math.max(r,l),r=Math.min(r,l),e=void 0!==A.startDTS?Math.min(e,A.startDTS):e,o=Math.min(t,c),t=Math.max(t,c),n=void 0!==A.endDTS?Math.max(n,A.endDTS):n}var m=r-A.start;0!==A.start&&A.setStart(r),A.setDuration(t-A.start),A.startPTS=r,A.maxStartPTS=a,A.startDTS=e,A.endPTS=t,A.minEndPTS=o,A.endDTS=n;var v,b=A.sn;if(!s||b<s.startSN||b>s.endSN)return 0;var I=b-s.startSN,_=s.fragments;for(_[I]=A,v=I;v>0;v--)OA(_[v],_[v-1]);for(v=I;v<_.length-1;v++)OA(_[v],_[v+1]);return s.fragmentHint&&OA(_[_.length-1],s.fragmentHint),s.PTSKnown=s.alignedSliding=!0,m}function tA(s,A,r,t,e){return new Error(s+" "+e.url+"\nPlaylist starting @"+A.startSN+"\n"+A.m3u8+"\n\nPlaylist starting @"+r.startSN+"\n"+r.m3u8)}function qA(s,A,r){void 0===r&&(r=!0);var t=A.startSN+A.skippedSegments-s.startSN,e=s.fragments,n=t>=0,i=0;if(n&&t<e.length)i=e[t].start;else if(n&&A.startSN===s.endSN+1)i=s.fragmentEnd;else if(n&&r)i=s.fragmentStart+t*A.levelTargetDuration;else{if(A.skippedSegments||0!==A.fragmentStart)return;i=s.fragmentStart}di(A,i)}function di(s,A){if(A){for(var r=s.fragments,t=s.skippedSegments;t<r.length;t++)r[t].addStart(A);s.fragmentHint&&s.fragmentHint.addStart(A)}}function uA(s,A){void 0===A&&(A=1/0);var r=1e3*s.targetduration;if(s.updated){var t=s.fragments;if(t.length&&4*r>A){var e=1e3*t[t.length-1].duration;e<r&&(r=e)}}else r/=2;return Math.round(r)}function fs(s,A,r){if(!s)return null;var t=s.fragments[A-s.startSN];return t||((t=s.fragmentHint)&&t.sn===A?t:A<s.startSN&&r&&r.sn===A?r:null)}function as(s,A,r){return s?Lt(s.partList,A,r):null}function Lt(s,A,r){if(s)for(var t=s.length;t--;){var e=s[t];if(e.index===r&&e.fragment.sn===A)return e}return null}function zt(s){s.forEach(function(A,r){var t;null==(t=A.details)||t.fragments.forEach(function(e){e.level=r,e.initSegment&&(e.initSegment.level=r)})})}function ce(s,A){return!(s===A||!A)&&ge(s)!==ge(A)}function ge(s){return s.replace(/\?[^?]*$/,"")}function Le(s,A){for(var r=0,t=s.length;r<t;r++){var e;if((null==(e=s[r])?void 0:e.cc)===A)return s[r]}return null}function or(s,A){var r=s.start+A;s.startPTS=r,s.setStart(r),s.endPTS=r+s.duration}function Je(s,A){for(var r=A.fragments,t=0,e=r.length;t<e;t++)or(r[t],s);A.fragmentHint&&or(A.fragmentHint,s),A.alignedSliding=!0}function Be(s,A){if(function(n,i){return!!(n&&i.startCC<n.endCC&&i.endCC>n.startCC)}(A,s)){var r=Math.min(A.endCC,s.endCC),t=Le(A.fragments,r),e=Le(s.fragments,r);t&&e&&(Yr.log("Aligning playlist at start of dicontinuity sequence "+r),Je(t.start-e.start,s))}}function rr(s,A){if(s.hasProgramDateTime&&A.hasProgramDateTime){var r=s.fragments,t=A.fragments;if(r.length&&t.length){var e,n,i=Math.min(A.endCC,s.endCC);A.startCC<i&&s.startCC<i&&(e=Le(t,i),n=Le(r,i)),e&&n||(n=Le(r,(e=t[Math.floor(t.length/2)]).cc)||r[Math.floor(r.length/2)]);var a=e.programDateTime,o=n.programDateTime;a&&o&&Je((o-a)/1e3-(n.start-e.start),s)}}}var ae={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},Nr=function(s){function A(t,e,n,i,a){var o;return(o=s.call(this,i,t.logger)||this).hls=void 0,o.fragPrevious=null,o.fragCurrent=null,o.fragmentTracker=void 0,o.transmuxer=null,o._state=ae.STOPPED,o.playlistType=void 0,o.media=null,o.mediaBuffer=null,o.config=void 0,o.bitrateTest=!1,o.lastCurrentTime=0,o.nextLoadPosition=0,o.startPosition=0,o.startTimeOffset=null,o.retryDate=0,o.levels=null,o.fragmentLoader=void 0,o.keyLoader=void 0,o.levelLastLoaded=null,o.startFragRequested=!1,o.decrypter=void 0,o.initPTS=[],o.buffering=!0,o.loadingParts=!1,o.loopSn=void 0,o.onMediaSeeking=function(){var c=o.config,f=o.fragCurrent,m=o.media,b=o.state,I=m?m.currentTime:0,_=w.bufferInfo(o.mediaBuffer||m,I,c.maxBufferHole),Q=!_.len;if(o.log("Media seeking to "+(ke(I)?I.toFixed(3):I)+", state: "+b+", "+(Q?"out of":"in")+" buffer"),o.state===ae.ENDED)o.resetLoadingState();else if(f){var j=c.maxFragLookUpTolerance,At=f.start-j,yt=f.start+f.duration+j;if(Q||yt<_.start||At>_.end){var Ot=I>yt;(I<At||Ot)&&(Ot&&f.loader&&(o.log("Cancelling fragment load for seek (sn: "+f.sn+")"),f.abortRequests(),o.resetLoadingState()),o.fragPrevious=null)}}if(m&&(o.fragmentTracker.removeFragmentsInRange(I,1/0,o.playlistType,!0),I>o.lastCurrentTime&&(o.lastCurrentTime=I),!o.loadingParts)){var Ft=Math.max(_.end,I),xt=o.shouldLoadParts(o.getLevelDetails(),Ft);xt&&(o.log("LL-Part loading ON after seeking to "+I.toFixed(2)+" with buffer @"+Ft.toFixed(2)),o.loadingParts=xt)}o.hls.hasEnoughToStart||(o.log("Setting "+(Q?"startPosition":"nextLoadPosition")+" to "+I+" for seek without enough to start"),o.nextLoadPosition=I,Q&&(o.startPosition=I)),o.tickImmediate()},o.onMediaEnded=function(){o.log("setting startPosition to 0 because media ended"),o.startPosition=o.lastCurrentTime=0},o.playlistType=a,o.hls=t,o.fragmentLoader=new yi(t.config),o.keyLoader=n,o.fragmentTracker=e,o.config=t.config,o.decrypter=new vi(t.config),o}Kr(A,s);var r=A.prototype;return r.registerListeners=function(){var t=this.hls;t.on(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(D.ERROR,this.onError,this)},r.unregisterListeners=function(){var t=this.hls;t.off(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(D.ERROR,this.onError,this)},r.doTick=function(){this.onTickEnd()},r.onTickEnd=function(){},r.startLoad=function(t){},r.stopLoad=function(){if(this.state!==ae.STOPPED){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var t=this.fragCurrent;null!=t&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=ae.STOPPED}},r.pauseBuffering=function(){this.buffering=!1},r.resumeBuffering=function(){this.buffering=!0},r._streamEnded=function(t,e){if(e.live||!this.media)return!1;var i=this.config.timelineOffset||0;if((t.end||0)<=i)return!1;var a=t.buffered;this.config.maxBufferHole&&a&&a.length>1&&(t=w.bufferedInfo(a,t.start,0));var o=t.nextStart;if(o&&o>i&&o<e.edge||this.media.currentTime<t.start)return!1;var l=e.partList;if(null!=l&&l.length){var c=l[l.length-1];return w.isBuffered(this.media,c.start+c.duration/2)}return this.fragmentTracker.isEndListAppended(e.fragments[e.fragments.length-1].type)},r.getLevelDetails=function(){if(this.levels&&null!==this.levelLastLoaded)return this.levelLastLoaded.details},r.onMediaAttached=function(t,e){var n=this.media=this.mediaBuffer=e.media;n.removeEventListener("seeking",this.onMediaSeeking),n.removeEventListener("ended",this.onMediaEnded),n.addEventListener("seeking",this.onMediaSeeking),n.addEventListener("ended",this.onMediaEnded);var i=this.config;this.levels&&i.autoStartLoad&&this.state===ae.STOPPED&&this.startLoad(i.startPosition)},r.onMediaDetaching=function(t,e){var n=!!e.transferMedia,i=this.media;if(null!==i){if(i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),i.removeEventListener("seeking",this.onMediaSeeking),i.removeEventListener("ended",this.onMediaEnded),this.keyLoader&&!n&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,n)return this.resetLoadingState(),void this.resetTransmuxer();this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}},r.onManifestLoading=function(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1},r.onError=function(t,e){},r.onManifestLoaded=function(t,e){this.startTimeOffset=e.startTimeOffset},r.onHandlerDestroying=function(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),s.prototype.onHandlerDestroying.call(this),this.hls=this.onMediaSeeking=this.onMediaEnded=null},r.onHandlerDestroyed=function(){this.state=ae.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,s.prototype.onHandlerDestroyed.call(this)},r.loadFragment=function(t,e,n){this.startFragRequested=!0,this._loadFragForPlayback(t,e,n)},r._loadFragForPlayback=function(t,e,n){var i=this;this._doFragLoad(t,e,n,function(a){var o=a.frag;if(i.fragContextChanged(o))return i.warn(o.type+" sn: "+o.sn+(a.part?" part: "+a.part.index:"")+" of "+i.fragInfo(o,!1,a.part)+") was dropped during download."),void i.fragmentTracker.removeFragment(o);o.stats.chunkCount++,i._handleFragmentLoadProgress(a)}).then(function(a){if(a){var o=i.state,l=a.frag;i.fragContextChanged(l)?(o===ae.FRAG_LOADING||!i.fragCurrent&&o===ae.PARSING)&&(i.fragmentTracker.removeFragment(l),i.state=ae.IDLE):("payload"in a&&(i.log("Loaded "+l.type+" sn: "+l.sn+" of "+i.playlistLabel()+" "+l.level),i.hls.trigger(D.FRAG_LOADED,a)),i._handleFragmentLoadComplete(a))}}).catch(function(a){i.state!==ae.STOPPED&&i.state!==ae.ERROR&&(i.warn("Frag error: "+(a?.message||a)),i.resetFragmentLoading(t))})},r.clearTrackerIfNeeded=function(t){var e,n=this.fragmentTracker;if(n.getState(t)===Ar){var a=this.getFwdBufferInfo(this.mediaBuffer,t.type),o=Math.max(t.duration,a?a.len:this.config.maxBufferLength),l=this.backtrackFragment;(1==(l?t.sn-l.sn:0)||this.reduceMaxBufferLength(o,t.duration))&&n.removeFragment(t)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?n.removeAllFragments():n.hasParts(t.type)&&(n.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),n.getState(t)===fr&&n.removeFragment(t))},r.checkLiveUpdate=function(t){if(t.updated&&!t.live){var e=t.fragments[t.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type})}t.fragments[0]||(t.deltaUpdateFailed=!0)},r.waitForLive=function(t){var e=t.details;return e?.live&&"EVENT"!==e.type&&(this.levelLastLoaded!==t||e.expired)},r.flushMainBuffer=function(t,e,n){void 0===n&&(n=null),t-e&&this.hls.trigger(D.BUFFER_FLUSHING,{startOffset:t,endOffset:e,type:n})},r._loadInitSegment=function(t,e){var n=this;this._doFragLoad(t,e).then(function(i){var a=i?.frag;if(!a||n.fragContextChanged(a)||!n.levels)throw new Error("init load aborted");return i}).then(function(i){var a=n.hls,o=i.frag,l=i.payload,c=o.decryptdata;if(l&&l.byteLength>0&&null!=c&&c.key&&c.iv&&ar(c.method)){var f=self.performance.now();return n.decrypter.decrypt(new Uint8Array(l),c.key.buffer,c.iv.buffer,xr(c.method)).catch(function(m){throw a.trigger(D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.FRAG_DECRYPT_ERROR,fatal:!1,error:m,reason:m.message,frag:o}),m}).then(function(m){var v=self.performance.now();return a.trigger(D.FRAG_DECRYPTED,{frag:o,payload:m,stats:{tstart:f,tdecrypt:v}}),i.payload=m,n.completeInitSegmentLoad(i)})}return n.completeInitSegmentLoad(i)}).catch(function(i){n.state!==ae.STOPPED&&n.state!==ae.ERROR&&(n.warn(i),n.resetFragmentLoading(t))})},r.completeInitSegmentLoad=function(t){if(!this.levels)throw new Error("init load aborted, missing levels");var e=t.frag.stats;this.state!==ae.STOPPED&&(this.state=ae.IDLE),t.frag.data=new Uint8Array(t.payload),e.parsing.start=e.buffering.start=self.performance.now(),e.parsing.end=e.buffering.end=self.performance.now(),this.tick()},r.unhandledEncryptionError=function(t,e){var n,i,a=t.tracks;if(a&&!e.encrypted&&(null!=(n=a.audio)&&n.encrypted||null!=(i=a.video)&&i.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){var o=this.media,l=new Error("Encrypted track with no key in "+this.fragInfo(e)+" (media "+(o?"attached mediaKeys: "+o.mediaKeys:"detached")+")");return this.warn(l.message),!(!o||o.mediaKeys||(this.hls.trigger(D.ERROR,{type:Ve.KEY_SYSTEM_ERROR,details:Ht.KEY_SYSTEM_NO_KEYS,fatal:!1,error:l,frag:e}),this.resetTransmuxer(),0))}return!1},r.fragContextChanged=function(t){var e=this.fragCurrent;return!t||!e||t.sn!==e.sn||t.level!==e.level},r.fragBufferedComplete=function(t,e){var n=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log("Buffered "+t.type+" sn: "+t.sn+(e?" part: "+e.index:"")+" of "+this.fragInfo(t,!1,e)+" > buffer:"+(n?function(s){for(var A="",r=s.length,t=0;t<r;t++)A+="["+s.start(t).toFixed(3)+"-"+s.end(t).toFixed(3)+"]";return A}(w.getBuffered(n)):"(detached)")+")"),Cn(t)){var i;if(t.type!==Di){var a=t.elementaryStreams;if(!Object.keys(a).some(function(l){return!!a[l]}))return void(this.state=ae.IDLE)}var o=null==(i=this.levels)?void 0:i[t.level];null!=o&&o.fragmentError&&(this.log("Resetting level fragment error count of "+o.fragmentError+" on frag buffered"),o.fragmentError=0)}this.state=ae.IDLE},r._handleFragmentLoadComplete=function(t){var e=this.transmuxer;if(e){var n=t.frag,i=t.part,a=t.partsLoaded,o=!a||0===a.length||a.some(function(c){return!c}),l=new h(n.level,n.sn,n.stats.chunkCount+1,0,i?i.index:-1,!o);e.flush(l)}},r._handleFragmentLoadProgress=function(t){},r._doFragLoad=function(t,e,n,i){var a,o=this;void 0===n&&(n=null),this.fragCurrent=t;var l=e.details;if(!this.levels||!l)throw new Error("frag load aborted, missing level"+(l?"":" detail")+"s");var c=null;!t.encrypted||null!=(a=t.decryptdata)&&a.key?t.encrypted||(c=this.keyLoader.loadClear(t,l.encryptedFragments,this.startFragRequested))&&this.log("[eme] blocking frag load until media-keys acquired"):(this.log("Loading key for "+t.sn+" of ["+l.startSN+"-"+l.endSN+"], "+this.playlistLabel()+" "+t.level),this.state=ae.KEY_LOADING,this.fragCurrent=t,c=this.keyLoader.load(t).then(function(yt){if(!o.fragContextChanged(yt.frag))return o.hls.trigger(D.KEY_LOADED,yt),o.state===ae.KEY_LOADING&&(o.state=ae.IDLE),yt}),this.hls.trigger(D.KEY_LOADING,{frag:t}),null===this.fragCurrent&&(c=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING"))));var f,m=this.fragPrevious;if(Cn(t)&&(!m||t.sn!==m.sn)){var v=this.shouldLoadParts(e.details,t.end);v!==this.loadingParts&&(this.log("LL-Part loading "+(v?"ON":"OFF")+" loading sn "+m?.sn+"->"+t.sn),this.loadingParts=v)}if(n=Math.max(t.start,n||0),this.loadingParts&&Cn(t)){var b=l.partList;if(b&&i){n>l.fragmentEnd&&l.fragmentHint&&(t=l.fragmentHint);var I=this.getNextPart(b,t,n);if(I>-1){var _,Q=b[I];return t=this.fragCurrent=Q.fragment,this.log("Loading "+t.type+" sn: "+t.sn+" part: "+Q.index+" ("+I+"/"+(b.length-1)+") of "+this.fragInfo(t,!1,Q)+") cc: "+t.cc+" ["+l.startSN+"-"+l.endSN+"], target: "+parseFloat(n.toFixed(3))),this.nextLoadPosition=Q.start+Q.duration,this.state=ae.FRAG_LOADING,_=c?c.then(function(yt){return!yt||o.fragContextChanged(yt.frag)?null:o.doFragPartsLoad(t,Q,e,i)}).catch(function(yt){return o.handleFragLoadError(yt)}):this.doFragPartsLoad(t,Q,e,i).catch(function(yt){return o.handleFragLoadError(yt)}),this.hls.trigger(D.FRAG_LOADING,{frag:t,part:Q,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):_}if(!t.url||this.loadedEndOfParts(b,n))return Promise.resolve(null)}}if(Cn(t)&&this.loadingParts)this.log("LL-Part loading OFF after next part miss @"+n.toFixed(2)+" Check buffer at sn: "+t.sn+" loaded parts: "+(null==(f=l.partList)?void 0:f.filter(function(yt){return yt.loaded}).map(function(yt){return"["+yt.start+"-"+yt.end+"]"}))),this.loadingParts=!1;else if(!t.url)return Promise.resolve(null);this.log("Loading "+t.type+" sn: "+t.sn+" of "+this.fragInfo(t,!1)+") cc: "+t.cc+" ["+l.startSN+"-"+l.endSN+"], target: "+parseFloat(n.toFixed(3))),ke(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=ae.FRAG_LOADING;var j,At=this.config.progressive;return j=At&&c?c.then(function(yt){return!yt||o.fragContextChanged(yt.frag)?null:o.fragmentLoader.load(t,i)}).catch(function(yt){return o.handleFragLoadError(yt)}):Promise.all([this.fragmentLoader.load(t,At?i:void 0),c]).then(function(yt){var Ot=yt[0];return!At&&i&&i(Ot),Ot}).catch(function(yt){return o.handleFragLoadError(yt)}),this.hls.trigger(D.FRAG_LOADING,{frag:t,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):j},r.doFragPartsLoad=function(t,e,n,i){var a=this;return new Promise(function(o,l){var c,f=[],m=null==(c=n.details)?void 0:c.partList,v=function(b){a.fragmentLoader.loadPart(t,b,i).then(function(I){f[b.index]=I;var _=I.part;a.hls.trigger(D.FRAG_LOADED,I);var Q=as(n.details,t.sn,b.index+1)||Lt(m,t.sn,b.index+1);if(!Q)return o({frag:t,part:_,partsLoaded:f});v(Q)}).catch(l)};v(e)})},r.handleFragLoadError=function(t){if("data"in t){var e=t.data;e&&e.details===Ht.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(D.ERROR,e)}else this.hls.trigger(D.ERROR,{type:Ve.OTHER_ERROR,details:Ht.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null},r._handleTransmuxerFlush=function(t){var e=this.getCurrentContext(t);if(e&&this.state===ae.PARSING){var n=e.frag,i=e.part,a=e.level,o=self.performance.now();n.stats.parsing.end=o,i&&(i.stats.parsing.end=o);var l=this.getLevelDetails(),c=l&&n.sn>l.endSN||this.shouldLoadParts(l,n.end);c!==this.loadingParts&&(this.log("LL-Part loading "+(c?"ON":"OFF")+" after parsing segment ending @"+n.end.toFixed(2)),this.loadingParts=c),this.updateLevelTiming(n,i,a,t.partial)}else this.fragCurrent||this.state===ae.STOPPED||this.state===ae.ERROR||(this.state=ae.IDLE)},r.shouldLoadParts=function(t,e){if(this.config.lowLatencyMode){if(!t)return this.loadingParts;if(t.partList){var n,i,a=t.partList[0];if(a.fragment.type===Di)return!1;if(e>=a.end+((null==(n=t.fragmentHint)?void 0:n.duration)||0)&&(this.hls.hasEnoughToStart?(null==(i=this.media)?void 0:i.currentTime)||this.lastCurrentTime:this.getLoadPosition())>a.start-a.fragment.duration)return!0}}return!1},r.getCurrentContext=function(t){var e=this.levels,n=this.fragCurrent,i=t.level,a=t.sn,o=t.part;if(null==e||!e[i])return this.warn("Levels object was unset while buffering fragment "+a+" of "+this.playlistLabel()+" "+i+". The current chunk will not be buffered."),null;var l=e[i],c=l.details,f=o>-1?as(c,a,o):null,m=f?f.fragment:fs(c,a,n);return m?(n&&n!==m&&(m.stats=n.stats),{frag:m,part:f,level:l}):null},r.bufferFragmentData=function(t,e,n,i,a){if(this.state===ae.PARSING){var o=t.data1,l=t.data2,c=o;if(l&&(c=re(o,l)),c.length){var f=this.initPTS[e.cc];if(this.hls.trigger(D.BUFFER_APPENDING,{type:t.type,frag:e,part:n,chunkMeta:i,offset:f?-f.baseTime/f.timescale:void 0,parent:e.type,data:c}),t.dropped&&t.independent&&!n){if(a)return;this.flushBufferGap(e)}}}},r.flushBufferGap=function(t){var e=this.media;if(e)if(w.isBuffered(e,e.currentTime)){var n=e.currentTime,i=w.bufferInfo(e,n,0),o=Math.min(2*this.config.maxFragLookUpTolerance,.25*t.duration),l=Math.max(Math.min(t.start-o,i.end-o),n+o);t.start-l>o&&this.flushMainBuffer(l,t.start)}else this.flushMainBuffer(0,t.start)},r.getFwdBufferInfo=function(t,e){var n,i=this.getLoadPosition();if(!ke(i))return null;var a=this.lastCurrentTime>i||null!=(n=this.media)&&n.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(t,i,e,a)},r.getFwdBufferInfoAtPos=function(t,e,n,i){var a=w.bufferInfo(t,e,i);if(0===a.len&&void 0!==a.nextStart){var o=this.fragmentTracker.getBufferedFrag(e,n);if(o&&(a.nextStart<=o.end||o.gap)){var l=Math.max(Math.min(a.nextStart,o.end)-e,i);return w.bufferInfo(t,e,l)}}return a},r.getMaxBufferLength=function(t){var e,n=this.config;return e=t?Math.max(8*n.maxBufferSize/t,n.maxBufferLength):n.maxBufferLength,Math.min(e,n.maxMaxBufferLength)},r.reduceMaxBufferLength=function(t,e){var n=this.config,i=Math.max(Math.min(t-e,n.maxBufferLength),e),a=Math.max(t-3*e,n.maxMaxBufferLength/2,i);return a>=i&&(n.maxMaxBufferLength=a,this.warn("Reduce max buffer length to "+a+"s"),!0)},r.getAppendedFrag=function(t,e){void 0===e&&(e=Sr);var n=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(t,e):null;return n&&"fragment"in n?n.fragment:n},r.getNextFragment=function(t,e){var n=e.fragments,i=n.length;if(!i)return null;var a=this.config,o=n[0].start,l=a.lowLatencyMode&&!!e.partList,c=null;if(e.live){var f=a.initialLiveManifestSize;if(i<f)return this.warn("Not enough fragments to start playback (have: "+i+", need: "+f+")"),null;if(!e.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||t<o){var m;l&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),c=this.getInitialLiveFragment(e);var v=this.hls.startPosition,b=this.hls.liveSyncPosition,I=c?(-1!==v&&v>=o?v:b)||c.start:t;this.log("Setting startPosition to "+I+" to match start frag at live edge. mainStart: "+v+" liveSyncPosition: "+b+" frag.start: "+(null==(m=c)?void 0:m.start)),this.startPosition=this.nextLoadPosition=I}}else t<=o&&(c=n[0]);c||(c=this.getFragmentAtPosition(t,this.loadingParts?e.partEnd:e.fragmentEnd,e));var Q=this.filterReplacedPrimary(c,e);return!Q&&c&&(Q=this.filterReplacedPrimary(n[c.sn-e.startSN+1]||null,e)),this.mapToInitFragWhenRequired(Q)},r.isLoopLoading=function(t,e){var n=this.fragmentTracker.getState(t);return(n===pr||n===fr&&!!t.gap)&&this.nextLoadPosition>e},r.getNextFragmentLoopLoading=function(t,e,n,i,a){var o=null;if(t.gap&&(o=this.getNextFragment(this.nextLoadPosition,e))&&!o.gap&&n.nextStart){var l=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,i,0);if(null!==l&&n.len+l.len>=a){var c=o.sn;return this.loopSn!==c&&(this.log('buffer full after gaps in "'+i+'" playlist starting at sn: '+c),this.loopSn=c),null}}return this.loopSn=void 0,o},r.filterReplacedPrimary=function(t,e){if(!t)return t;if(sn(this.config)&&t.type!==Di){var n=this.hls.interstitialsManager,i=n?.bufferingItem;if(i){var a=i.event;if(a){if(a.appendInPlace||Math.abs(t.start-i.start)>1||0===i.start)return null}else if(t.end<=i.start&&!1===e?.live||t.start>i.end&&i.nextEvent&&(i.nextEvent.appendInPlace||t.start-i.end>1))return null}var o=n?.playerQueue;if(o)for(var l=o.length;l--;){var c=o[l].interstitial;if(c.appendInPlace&&t.start>=c.startTime&&t.end<=c.resumeTime)return null}}return t},r.mapToInitFragWhenRequired=function(t){return null==t||!t.initSegment||t.initSegment.data||this.bitrateTest?t:t.initSegment},r.getNextPart=function(t,e,n){for(var i=-1,a=!1,o=!0,l=0,c=t.length;l<c;l++){var f=t[l];if(o=o&&!f.independent,i>-1&&n<f.start)break;var m=f.loaded;m?i=-1:(a||(f.independent||o)&&f.fragment===e)&&(f.fragment!==e&&this.warn("Need buffer at "+n+" but next unloaded part starts at "+f.start),i=l),a=m}return i},r.loadedEndOfParts=function(t,e){for(var n,i=t.length;i--;){if(!(n=t[i]).loaded)return!1;if(e>n.start)return!0}return!1},r.getInitialLiveFragment=function(t){var e=t.fragments,n=this.fragPrevious,i=null;if(n){if(t.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),i=function(c,f,m){if(null===f||!Array.isArray(c)||!c.length||!ke(f)||f<(c[0].programDateTime||0)||f>=(c[c.length-1].endProgramDateTime||0))return null;for(var v=0;v<c.length;++v){var b=c[v];if(le(f,m,b))return b}return null}(e,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){var a=n.sn+1;if(a>=t.startSN&&a<=t.endSN){var o=e[a-t.startSN];n.cc===o.cc&&this.log("Live playlist, switching playlist, load frag with next SN: "+(i=o).sn)}i||(i=we(t,n.cc,n.end))&&this.log("Live playlist, switching playlist, load frag with same CC: "+i.sn)}}else{var l=this.hls.liveSyncPosition;null!==l&&(i=this.getFragmentAtPosition(l,this.bitrateTest?t.fragmentEnd:t.edge,t))}return i},r.getFragmentAtPosition=function(t,e,n){var i,a,l=this.fragPrevious,c=n.fragments,f=n.endSN,m=n.fragmentHint,v=this.config.maxFragLookUpTolerance,b=n.partList,I=!!(this.loadingParts&&null!=b&&b.length&&m);if(I&&!this.bitrateTest&&b[b.length-1].fragment.sn===m.sn&&(c=c.concat(m),f=m.sn),i=t<e?kt(l,c,t,t<this.lastCurrentTime||t>e-v||null!=(a=this.media)&&a.paused||!this.startFragRequested?0:v):c[c.length-1]){var _=i.sn-n.startSN,Q=this.fragmentTracker.getState(i);if((Q===pr||Q===fr&&i.gap)&&(l=i),l&&i.sn===l.sn&&(!I||b[0].fragment.sn>i.sn||!n.live)&&i.level===l.level){var j=c[_+1];i=i.sn<f&&this.fragmentTracker.getState(j)!==pr?j:null}}return i},r.alignPlaylists=function(t,e,n){var i=t.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;var f,m,a=t.fragmentStart,o=!e,l=t.alignedSliding&&ke(a);if(o||!l&&!a){m=t,(f=n)&&(Be(m,f),m.alignedSliding||rr(m,f),m.alignedSliding||m.skippedSegments||qA(f,m,!1));var c=t.fragmentStart;return this.log("Live playlist sliding: "+c.toFixed(2)+" start-sn: "+(e?e.startSN:"na")+"->"+t.startSN+" fragments: "+i),c}return a},r.waitForCdnTuneIn=function(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)},r.setStartPosition=function(t,e){var n=this.startPosition;n<e&&(n=-1);var i=this.timelineOffset;if(-1===n){var a=null!==this.startTimeOffset,o=a?this.startTimeOffset:t.startTimeOffset;null!==o&&ke(o)?(n=e+o,o<0&&(n+=t.edge),n=Math.min(Math.max(e,n),e+t.totalduration),this.log("Setting startPosition to "+n+" for start time offset "+o+" found in "+(a?"multivariant":"media")+" playlist"),this.startPosition=n):t.live?(this.log("Setting startPosition to -1 to start at live edge "+(n=this.hls.liveSyncPosition||e)),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=n=0),this.lastCurrentTime=n+i}this.nextLoadPosition=n+i},r.getLoadPosition=function(){var t,e=this.media,n=0;return null!=(t=this.hls)&&t.hasEnoughToStart&&e?n=e.currentTime:this.nextLoadPosition>=0&&(n=this.nextLoadPosition),n},r.handleFragLoadAborted=function(t,e){this.transmuxer&&t.type===this.playlistType&&Cn(t)&&t.stats.aborted&&(this.log("Fragment "+t.sn+(e?" part "+e.index:"")+" of "+this.playlistLabel()+" "+t.level+" was aborted"),this.resetFragmentLoading(t))},r.resetFragmentLoading=function(t){this.fragCurrent&&(this.fragContextChanged(t)||this.state===ae.FRAG_LOADING_WAITING_RETRY)||(this.state=ae.IDLE)},r.onFragmentOrKeyLoadError=function(t,e){var n;if(e.chunkMeta&&!e.frag){var i=this.getCurrentContext(e.chunkMeta);i&&(e.frag=i.frag)}var a=e.frag;if(a&&a.type===t&&this.levels)if(this.fragContextChanged(a)){var o;this.warn("Frag load error must match current frag to retry "+a.url+" > "+(null==(o=this.fragCurrent)?void 0:o.url))}else{var l=e.details===Ht.FRAG_GAP;l&&this.fragmentTracker.fragBuffered(a,!0);var c=e.errorAction,f=c||{},m=f.action,b=f.retryCount,I=void 0===b?0:b,_=f.retryConfig,Q=!!c&&!!_,j=Q&&5===m,At=Q&&!c.resolved&&1===f.flags,yt=(null==(n=e.response)?void 0:n.code)||0;if(!j&&At&&Cn(a)&&!a.endList&&0!==yt)this.resetFragmentErrors(t),this.treatAsGap(a),c.resolved=!0;else if((j||At)&&I<_.maxNumRetry){this.resetStartWhenNotLoaded(this.levelLastLoaded);var Ot=Ae(_,I);this.warn("Fragment "+a.sn+" of "+t+" "+a.level+" errored with "+e.details+", retrying loading "+(I+1)+"/"+_.maxNumRetry+" in "+Ot+"ms"),c.resolved=!0,this.retryDate=self.performance.now()+Ot,this.state=ae.FRAG_LOADING_WAITING_RETRY}else if(_&&c){if(this.resetFragmentErrors(t),!(I<_.maxNumRetry))return void this.warn(e.details+" reached or exceeded max retry ("+I+")");l||3===m||(c.resolved=!0)}else this.state=2===m?ae.WAITING_LEVEL:ae.ERROR;this.tickImmediate()}},r.reduceLengthAndFlushBuffer=function(t){if(this.state===ae.PARSING||this.state===ae.PARSED){var e=t.frag,n=t.parent,i=this.getFwdBufferInfo(this.mediaBuffer,n),a=i&&i.len>.5;a&&this.reduceMaxBufferLength(i.len,e?.duration||10);var o=!a;return o&&this.warn("Buffer full error while media.currentTime ("+this.getLoadPosition()+") is not buffered, flush "+n+" buffer"),e&&(this.fragmentTracker.removeFragment(e),this.nextLoadPosition=e.start),this.resetLoadingState(),o}return!1},r.resetFragmentErrors=function(t){t===$n&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==ae.STOPPED&&(this.state=ae.IDLE)},r.afterBufferFlushed=function(t,e,n){if(t){var i=w.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,i,n),this.state===ae.ENDED&&this.resetLoadingState()}},r.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==ae.STOPPED&&(this.state=ae.IDLE)},r.resetStartWhenNotLoaded=function(t){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;var e=t?t.details:null;null!=e&&e.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(e,e.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},r.resetWhenMissingContext=function(t){this.warn("The loading context changed while buffering fragment "+t.sn+" of "+this.playlistLabel()+" "+t.level+". This chunk will not be buffered."),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()},r.removeUnbufferedFrags=function(t){void 0===t&&(t=0),this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0)},r.updateLevelTiming=function(t,e,n,i){var a=this,o=n.details;if(o){var l;if(!Object.keys(t.elementaryStreams).reduce(function(f,m){var v=t.elementaryStreams[m];if(v){var b=v.endPTS-v.startPTS;if(b<=0)return a.warn("Could not parse fragment "+t.sn+" "+m+" duration reliably ("+b+")"),f||!1;var I=i?0:dA(o,t,v.startPTS,v.endPTS,v.startDTS,v.endDTS,a);return a.hls.trigger(D.LEVEL_PTS_UPDATED,{details:o,level:n,drift:I,type:m,frag:t,start:v.startPTS,end:v.endPTS}),!0}return f},!1)&&(0===n.fragmentError&&this.treatAsGap(t,n),null===(null==(l=this.transmuxer)?void 0:l.error))){var c=new Error("Found no media in fragment "+t.sn+" of "+this.playlistLabel()+" "+t.level+" resetting transmuxer to fallback to playlist timing");if(this.warn(c.message),this.hls.trigger(D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.FRAG_PARSING_ERROR,fatal:!1,error:c,frag:t,reason:"Found no media in msn "+t.sn+" of "+this.playlistLabel()+' "'+n.url+'"'}),!this.hls)return;this.resetTransmuxer()}this.state=ae.PARSED,this.log("Parsed "+t.type+" sn: "+t.sn+(e?" part: "+e.index:"")+" of "+this.fragInfo(t,!1,e)+")"),this.hls.trigger(D.FRAG_PARSED,{frag:t,part:e})}else this.warn("level.details undefined")},r.playlistLabel=function(){return this.playlistType===Sr?"level":"track"},r.fragInfo=function(t,e,n){var i,a;return void 0===e&&(e=!0),this.playlistLabel()+" "+t.level+" ("+(n?"part":"frag")+":["+(null!=(i=e&&!n?t.startPTS:(n||t).start)?i:NaN).toFixed(3)+"-"+(null!=(a=e&&!n?t.endPTS:(n||t).end)?a:NaN).toFixed(3)+"]"+(n&&"main"===t.type?"INDEPENDENT="+(n.independent?"YES":"NO"):"")},r.treatAsGap=function(t,e){e&&e.fragmentError++,t.gap=!0,this.fragmentTracker.removeFragment(t),this.fragmentTracker.fragBuffered(t,!0)},r.resetTransmuxer=function(){var t;null==(t=this.transmuxer)||t.reset()},r.recoverWorkerError=function(t){"demuxerWorker"===t.event&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())},Xr(A,[{key:"startPositionValue",get:function(){var t=this.nextLoadPosition,e=this.startPosition;return-1===e&&t?t:e}},{key:"bufferingEnabled",get:function(){return this.buffering}},{key:"inFlightFrag",get:function(){return{frag:this.fragCurrent,state:this.state}}},{key:"timelineOffset",get:function(){var t,e=this.config.timelineOffset;return e?(null==(t=this.getLevelDetails())?void 0:t.appliedTimelineOffset)||e:0}},{key:"primaryPrefetch",get:function(){var t;return!(!sn(this.config)||null==(t=this.hls.interstitialsManager)||null==(t=t.playingItem)||!t.event)}},{key:"state",get:function(){return this._state},set:function(t){var e=this._state;e!==t&&(this._state=t,this.log(e+"->"+t))}}])}(We);function sn(s){return!!s.interstitialsController&&!1!==s.enableInterstitialPlayback}var _r=function(){function s(){this.chunks=[],this.dataLength=0}var A=s.prototype;return A.push=function(r){this.chunks.push(r),this.dataLength+=r.length},A.flush=function(){var r,t=this.chunks;return t.length?(r=1===t.length?t[0]:function(n,i){for(var a=new Uint8Array(i),o=0,l=0;l<n.length;l++){var c=n[l];a.set(c,o),o+=c.length}return a}(t,this.dataLength),this.reset(),r):new Uint8Array(0)},A.reset=function(){this.chunks.length=0,this.dataLength=0},s}();function jn(s,A){return A+10<=s.length&&51===s[A]&&68===s[A+1]&&73===s[A+2]&&s[A+3]<255&&s[A+4]<255&&s[A+6]<128&&s[A+7]<128&&s[A+8]<128&&s[A+9]<128}function kn(s,A){return A+10<=s.length&&73===s[A]&&68===s[A+1]&&51===s[A+2]&&s[A+3]<255&&s[A+4]<255&&s[A+6]<128&&s[A+7]<128&&s[A+8]<128&&s[A+9]<128}function hn(s,A){var r=0;return r=(127&s[A])<<21,r|=(127&s[A+1])<<14,(r|=(127&s[A+2])<<7)|127&s[A+3]}function Dn(s,A){for(var r=A,t=0;kn(s,A);)t+=10,t+=hn(s,A+6),jn(s,A+10)&&(t+=10),A+=t;if(t>0)return s.subarray(r,r+t)}function Jn(s,A){return 255===s[A]&&240==(246&s[A+1])}function wA(s,A){return 1&s[A+1]?7:9}function Ln(s,A){return(3&s[A+3])<<11|s[A+4]<<3|(224&s[A+5])>>>5}function Rr(s,A){return A+1<s.length&&Jn(s,A)}function eA(s,A){if(Rr(s,A)){var r=wA(s,A);if(A+r>=s.length)return!1;var t=Ln(s,A);if(t<=r)return!1;var e=A+t;return e===s.length||Rr(s,e)}return!1}function MA(s,A,r,t,e){if(!s.samplerate){var n=function(i,a,o,l){var c=a[o+2],f=c>>2&15;if(!(f>12)){var m=1+(c>>6&3),v=a[o+3]>>6&3|(1&c)<<2,b="mp4a.40."+m,I=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350][f],_=f;5!==m&&29!==m||(_-=3);var Q=[m<<3|(14&_)>>1,(1&_)<<7|v<<3];return Yr.log("manifest codec:"+l+", parsed codec:"+b+", channels:"+v+", rate:"+I+" (ADTS object type:"+m+" sampling index:"+f+")"),{config:Q,samplerate:I,channelCount:v,codec:b,parsedCodec:b,manifestCodec:l}}var j=new Error("invalid ADTS sampling index:"+f);i.emit(D.ERROR,D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.FRAG_PARSING_ERROR,fatal:!0,error:j,reason:j.message})}(A,r,t,e);if(!n)return;Lr(s,n)}}function Wi(s){return 9216e4/s}function rA(s,A,r,t,e){var n,i=t+e*Wi(s.samplerate),a=function(b,I){var _=wA(b,I);if(I+_<=b.length){var Q=Ln(b,I)-_;if(Q>0)return{headerLength:_,frameLength:Q}}}(A,r);if(a){var l=a.headerLength,c=l+a.frameLength,f=Math.max(0,r+c-A.length);f?(n=new Uint8Array(c-l)).set(A.subarray(r+l,A.length),0):n=A.subarray(r+l,r+c);var m={unit:n,pts:i};return f||s.samples.push(m),{sample:m,length:c,missing:f}}var v=A.length-r;return(n=new Uint8Array(v)).set(A.subarray(r,A.length),0),{sample:{unit:n,pts:i},length:v,missing:-1}}function BA(s,A){return kn(s,A)&&hn(s,A+6)+10<=s.length-A}function $A(s,A,r){return void 0===A&&(A=0),void 0===r&&(r=1/0),function(t,e,n,i){var I,a=(I=t)instanceof ArrayBuffer?I:I.buffer,o=1;"BYTES_PER_ELEMENT"in i&&(o=i.BYTES_PER_ELEMENT);var l,c=(l=t)&&l.buffer instanceof ArrayBuffer&&void 0!==l.byteLength&&void 0!==l.byteOffset?t.byteOffset:0,f=(c+t.byteLength)/o,v=Math.floor(Math.max(0,Math.min((c+e)/o,f)));return new i(a,v,Math.floor(Math.min(v+Math.max(n,0),f))-v)}(s,A,r,Uint8Array)}function cA(s){return"PRIV"===s.type?function(A){if(!(A.size<2)){var r=zn(A.data,!0),t=new Uint8Array(A.data.subarray(r.length+1));return{key:A.type,info:r,data:t.buffer}}}(s):"W"===s.type[0]?function(A){if("WXXX"===A.type){if(A.size<2)return;var r=1,t=zn(A.data.subarray(r),!0),e=zn(A.data.subarray(r+=t.length+1));return{key:A.type,info:t,data:e}}var n=zn(A.data);return{key:A.type,info:"",data:n}}(s):"APIC"===s.type?function IA(s){var o,A={key:s.type,description:"",data:"",mimeType:null,pictureType:null};if(!(s.size<2))if(3===s.data[0]){var r=s.data.subarray(1).indexOf(0);if(-1!==r){var t=zn($A(s.data,1,r)),e=s.data[2+r],n=s.data.subarray(3+r).indexOf(0);if(-1!==n){var i,a=zn($A(s.data,3+r,n));return i="--\x3e"===t?zn($A(s.data,4+r+n)):(o=s.data.subarray(4+r+n))instanceof ArrayBuffer?o:0==o.byteOffset&&o.byteLength==o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer,A.mimeType=t,A.pictureType=e,A.description=a,A.data=i,A}}}else console.log("Ignore frame with unrecognized character encoding")}(s):function(A){if(!(A.size<2)){if("TXXX"===A.type){var r=1,t=zn(A.data.subarray(r),!0),e=zn(A.data.subarray(r+=t.length+1));return{key:A.type,info:t,data:e}}var n=zn(A.data.subarray(1));return{key:A.type,info:"",data:n}}}(s)}function bA(s){var A=String.fromCharCode(s[0],s[1],s[2],s[3]),r=hn(s,4);return{type:A,size:r,data:s.subarray(10,10+r)}}var Qt=10,B=10;function z(s){for(var A=0,r=[];kn(s,A);){var t=hn(s,A+6);s[A+5]>>6&1&&(A+=Qt);for(var e=(A+=Qt)+t;A+B<e;){var n=bA(s.subarray(A)),i=cA(n);i&&r.push(i),A+=n.size+Qt}jn(s,A)&&(A+=Qt)}return r}function Kt(s){return s&&"PRIV"===s.key&&"com.apple.streaming.transportStreamTimestamp"===s.info}function Ie(s){if(8===s.data.byteLength){var A=new Uint8Array(s.data),t=(A[4]<<23)+(A[5]<<15)+(A[6]<<7)+A[7];return t/=45,1&A[3]&&(t+=47721858.84),Math.round(t)}}function Ke(s){for(var A=z(s),r=0;r<A.length;r++){var t=A[r];if(Kt(t))return Ie(t)}}var nr=function(s){return s.audioId3="org.id3",s.dateRange="com.apple.quicktime.HLS",s.emsg="https://aomedia.org/emsg/ID3",s.misbklv="urn:misb:KLV:bin:1910.1",s}({});function An(s,A){return void 0===s&&(s=""),void 0===A&&(A=9e4),{type:s,id:-1,pid:-1,inputTimeScale:A,sequenceNumber:-1,samples:[],dropped:0}}var fi=function(){function s(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var A=s.prototype;return A.resetInitSegment=function(r,t,e,n){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},A.resetTimeStamp=function(r){this.initPTS=r,this.resetContiguity()},A.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},A.canParse=function(r,t){return!1},A.appendFrame=function(r,t,e){},A.demux=function(r,t){this.cachedData&&(r=re(this.cachedData,r),this.cachedData=null);var e,n=Dn(r,0),i=n?n.length:0,a=this._audioTrack,o=this._id3Track,l=n?Ke(n):void 0,c=r.length;for((null===this.basePTS||0===this.frameIndex&&ke(l))&&(this.basePTS=UA(l,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),n&&n.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:nr.audioId3,duration:Number.POSITIVE_INFINITY});i<c;){if(this.canParse(r,i)){var f=this.appendFrame(a,r,i);f?(this.frameIndex++,this.lastPTS=f.sample.pts,e=i+=f.length):i=c}else BA(r,i)?(n=Dn(r,i),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:nr.audioId3,duration:Number.POSITIVE_INFINITY}),e=i+=n.length):i++;if(i===c&&e!==c){var m=r.slice(e);this.cachedData=this.cachedData?re(this.cachedData,m):m}}return{audioTrack:a,videoTrack:An(),id3Track:o,textTrack:An()}},A.demuxSampleAes=function(r,t,e){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},A.flush=function(r){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:An(),id3Track:this._id3Track,textTrack:An()}},A.destroy=function(){this.cachedData=null,this._audioTrack=this._id3Track=void 0},s}(),UA=function(s,A,r){return ke(s)?90*s:9e4*A+(r?9e4*r.baseTime/r.timescale:0)},xA=null,ts=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],gs=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],ps=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Ss=[0,1,1,4];function XA(s,A,r,t,e){if(!(r+24>A.length)){var n=ks(A,r);if(n&&r+n.frameLength<=A.length){var i=t+e*(9e4*n.samplesPerFrame/n.sampleRate),a={unit:A.subarray(r,r+n.frameLength),pts:i,dts:i};return s.config=[],s.channelCount=n.channelCount,s.samplerate=n.sampleRate,s.samples.push(a),{sample:a,length:n.frameLength,missing:0}}}}function ks(s,A){var r=s[A+1]>>3&3,t=s[A+1]>>1&3,e=s[A+2]>>4&15,n=s[A+2]>>2&3;if(1!==r&&0!==e&&15!==e&&3!==n){var a=s[A+3]>>6,o=1e3*ts[14*(3===r?3-t:3===t?3:4)+e-1],l=gs[3*(3===r?0:2===r?1:2)+n],c=3===a?1:2,f=ps[r][t],m=Ss[t],v=8*f*m,b=Math.floor(f*o/l+(s[A+2]>>1&1))*m;if(null===xA){var I=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);xA=I?parseInt(I[1]):0}return xA&&xA<=87&&2===t&&o>=224e3&&0===a&&(s[A+3]=128|s[A+3]),{sampleRate:l,channelCount:c,frameLength:b,samplesPerFrame:v}}}function Fs(s,A){return 255===s[A]&&224==(224&s[A+1])&&0!=(6&s[A+1])}function Aa(s,A){return A+1<s.length&&Fs(s,A)}function ms(s,A){if(A+1<s.length&&Fs(s,A)){var r=ks(s,A),t=4;null!=r&&r.frameLength&&(t=r.frameLength);var e=A+t;return e===s.length||Aa(s,e)}return!1}var va=function(s){function A(t,e){var n;return(n=s.call(this)||this).observer=void 0,n.config=void 0,n.observer=t,n.config=e,n}Kr(A,s);var r=A.prototype;return r.resetInitSegment=function(t,e,n,i){s.prototype.resetInitSegment.call(this,t,e,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:i,inputTimeScale:9e4,dropped:0}},A.probe=function(t,e){if(!t)return!1;var i=Dn(t,0)?.length||0;if(ms(t,i))return!1;for(var a=t.length;i<a;i++)if(eA(t,i))return e.log("ADTS sync word found !"),!0;return!1},r.canParse=function(t,e){return function(n,i){return i+5<n.length&&Jn(n,i)&&Ln(n,i)<=n.length-i}(t,e)},r.appendFrame=function(t,e,n){MA(t,this.observer,e,n,t.manifestCodec);var i=rA(t,e,n,this.basePTS,this.frameIndex);if(i&&0===i.missing)return i},A}(fi),Ma=function(s,A){var r=0,t=5;A+=t;for(var e=new Uint32Array(1),n=new Uint32Array(1),i=new Uint8Array(1);t>0;){i[0]=s[A];var a=Math.min(t,8),o=8-a;n[0]=4278190080>>>24+o<<o,e[0]=(i[0]&n[0])>>o,r=r?r<<a|e[0]:e[0],A+=1,t-=a}return r},lo=function(s){function A(t){var e;return(e=s.call(this)||this).observer=void 0,e.observer=t,e}Kr(A,s);var r=A.prototype;return r.resetInitSegment=function(t,e,n,i){s.prototype.resetInitSegment.call(this,t,e,n,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:e,duration:i,inputTimeScale:9e4,dropped:0}},r.canParse=function(t,e){return e+64<t.length},r.appendFrame=function(t,e,n){var i=Ha(t,e,n,this.basePTS,this.frameIndex);if(-1!==i)return{sample:t.samples[t.samples.length-1],length:i,missing:0}},A.probe=function(t){if(!t)return!1;var e=Dn(t,0);if(!e)return!1;var n=e.length;return 11===t[n]&&119===t[n+1]&&void 0!==Ke(e)&&Ma(t,n)<16},A}(fi);function Ha(s,A,r,t,e){if(r+8>A.length||11!==A[r]||119!==A[r+1])return-1;var n=A[r+4]>>6;if(n>=3)return-1;var i=[48e3,44100,32e3][n],a=63&A[r+4],o=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*a+n];if(r+o>A.length)return-1;var l=A[r+6]>>5,c=0;2===l?c+=2:(1&l&&1!==l&&(c+=2),4&l&&(c+=2));var f=(A[r+6]<<8|A[r+7])>>12-c&1,m=[2,1,2,3,3,4,4,5][l]+f,b=7&A[r+5],I=new Uint8Array([n<<6|A[r+5]>>3<<1|b>>2,(3&b)<<6|l<<3|f<<2|a>>4,a<<4&224]),_=t+e*(1536/i*9e4),Q=A.subarray(r,r+o);return s.config=I,s.channelCount=m,s.samplerate=i,s.samples.push({unit:Q,pts:_}),o}var uo=function(s){function A(){return s.apply(this,arguments)||this}Kr(A,s);var r=A.prototype;return r.resetInitSegment=function(t,e,n,i){s.prototype.resetInitSegment.call(this,t,e,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:i,inputTimeScale:9e4,dropped:0}},A.probe=function(t){if(!t)return!1;var e=Dn(t,0),n=e?.length||0;if(e&&11===t[n]&&119===t[n+1]&&void 0!==Ke(e)&&Ma(t,n)<=16)return!1;for(var i=t.length;n<i;n++)if(ms(t,n))return Yr.log("MPEG Audio sync word found !"),!0;return!1},r.canParse=function(t,e){return function(n,i){return Fs(n,i)&&4<=n.length-i}(t,e)},r.appendFrame=function(t,e,n){if(null!==this.basePTS)return XA(t,e,n,this.basePTS,this.frameIndex)},A}(fi),co=/\/emsg[-/]ID3/i,ho=function(){function s(r,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}var A=s.prototype;return A.resetTimeStamp=function(){},A.resetInitSegment=function(r,t,e,n){var i=this.videoTrack=An("video",1),a=this.audioTrack=An("audio",1),o=this.txtTrack=An("text",1);if(this.id3Track=An("id3",1),this.timeOffset=0,null!=r&&r.byteLength){var l=hA(r);if(l.video){var c=l.video,m=c.timescale,v=c.codec,b=c.supplemental;i.id=c.id,i.timescale=o.timescale=m,i.codec=v,i.supplemental=b}if(l.audio){var I=l.audio,Q=I.timescale,j=I.codec;a.id=I.id,a.timescale=Q,a.codec=j}o.id=en.text,i.sampleDuration=0,i.duration=a.duration=n}},A.resetContiguity=function(){this.remainderData=null},s.probe=function(r){return function(t){for(var e=t.byteLength,n=0;n<e;){var i=vr(t,n);if(i>8&&109===t[n+4]&&111===t[n+5]&&111===t[n+6]&&102===t[n+7])return!0;n=i>1?n+i:e}return!1}(r)},A.demux=function(r,t){this.timeOffset=t;var e=r,n=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(e=re(this.remainderData,r));var a=function(l){var c={valid:null,remainder:null},f=Fr(l,["moof"]);if(f.length<2)return c.remainder=l,c;var m=f[f.length-1];return c.valid=l.slice(0,m.byteOffset-8),c.remainder=l.slice(m.byteOffset-8),c}(e);this.remainderData=a.remainder,n.samples=a.valid||new Uint8Array}else n.samples=e;var o=this.extractID3Track(n,t);return i.samples=me(t,n),{videoTrack:n,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}},A.flush=function(){var r=this.timeOffset,t=this.videoTrack,e=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;var n=this.extractID3Track(t,this.timeOffset);return e.samples=me(r,t),{videoTrack:t,audioTrack:An(),id3Track:n,textTrack:An()}},A.extractID3Track=function(r,t){var e=this,n=this.id3Track;if(r.samples.length){var i=Fr(r.samples,["emsg"]);i&&i.forEach(function(a){var o=function(v){var b=v[0],I="",_="",Q=0,j=0,At=0,yt=0,Ot=0,Ft=0;if(0===b){for(;"\0"!==On(v.subarray(Ft,Ft+1));)I+=On(v.subarray(Ft,Ft+1)),Ft+=1;for(I+=On(v.subarray(Ft,Ft+1)),Ft+=1;"\0"!==On(v.subarray(Ft,Ft+1));)_+=On(v.subarray(Ft,Ft+1)),Ft+=1;_+=On(v.subarray(Ft,Ft+1)),Ft+=1,Q=vr(v,12),j=vr(v,16),yt=vr(v,20),Ot=vr(v,24),Ft=28}else if(1===b){Q=vr(v,Ft+=4);var xt=vr(v,Ft+=4),Wt=vr(v,Ft+=4);for(Ft+=4,At=Math.pow(2,32)*xt+Wt,_i(At)||(At=Number.MAX_SAFE_INTEGER,Yr.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),yt=vr(v,Ft),Ot=vr(v,Ft+=4),Ft+=4;"\0"!==On(v.subarray(Ft,Ft+1));)I+=On(v.subarray(Ft,Ft+1)),Ft+=1;for(I+=On(v.subarray(Ft,Ft+1)),Ft+=1;"\0"!==On(v.subarray(Ft,Ft+1));)_+=On(v.subarray(Ft,Ft+1)),Ft+=1;_+=On(v.subarray(Ft,Ft+1)),Ft+=1}return{schemeIdUri:I,value:_,timeScale:Q,presentationTime:At,presentationTimeDelta:j,eventDuration:yt,id:Ot,payload:v.subarray(Ft,v.byteLength)}}(a);if(co.test(o.schemeIdUri)){var l=Ka(o,t),c=4294967295===o.eventDuration?Number.POSITIVE_INFINITY:o.eventDuration/o.timeScale;c<=.001&&(c=Number.POSITIVE_INFINITY);var f=o.payload;n.samples.push({data:f,len:f.byteLength,dts:l,pts:l,type:nr.emsg,duration:c})}else if(e.config.enableEmsgKLVMetadata&&o.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){var m=Ka(o,t);n.samples.push({data:o.payload,len:o.payload.byteLength,dts:m,pts:m,type:nr.misbklv,duration:Number.POSITIVE_INFINITY})}})}return n},A.demuxSampleAes=function(r,t,e){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},A.destroy=function(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0},s}();function Ka(s,A){return ke(s.presentationTime)?s.presentationTime/s.timeScale:A+s.presentationTimeDelta/s.timeScale}var fo=function(){function s(r,t,e){this.keyData=void 0,this.decrypter=void 0,this.keyData=e,this.decrypter=new vi(t,{removePKCS7Padding:!1})}var A=s.prototype;return A.decryptBuffer=function(r){return this.decrypter.decrypt(r,this.keyData.key.buffer,this.keyData.iv.buffer,yr)},A.decryptAacSample=function(r,t,e){var n=this,i=r[t].unit;if(!(i.length<=16)){var a=i.subarray(16,i.length-i.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(o).then(function(l){var c=new Uint8Array(l);i.set(c,16),n.decrypter.isSync()||n.decryptAacSamples(r,t+1,e)})}},A.decryptAacSamples=function(r,t,e){for(;;t++){if(t>=r.length)return void e();if(!(r[t].unit.length<32||(this.decryptAacSample(r,t,e),this.decrypter.isSync())))return}},A.getAvcEncryptedData=function(r){for(var t=16*Math.floor((r.length-48)/160)+16,e=new Int8Array(t),n=0,i=32;i<r.length-16;i+=160,n+=16)e.set(r.subarray(i,i+16),n);return e},A.getAvcDecryptedUnit=function(r,t){for(var e=new Uint8Array(t),n=0,i=32;i<r.length-16;i+=160,n+=16)r.set(e.subarray(n,n+16),i);return r},A.decryptAvcSample=function(r,t,e,n,i){var a=this,o=Oe(i.data),l=this.getAvcEncryptedData(o);this.decryptBuffer(l.buffer).then(function(c){i.data=a.getAvcDecryptedUnit(o,c),a.decrypter.isSync()||a.decryptAvcSamples(r,t,e+1,n)})},A.decryptAvcSamples=function(r,t,e,n){if(r instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,e=0){if(t>=r.length)return void n();for(var i=r[t].units;!(e>=i.length);e++){var a=i[e];if(!(a.data.length<=48||1!==a.type&&5!==a.type||(this.decryptAvcSample(r,t,e,n,a),this.decrypter.isSync())))return}}},s}(),ya=function(){function s(){this.VideoSample=null}var A=s.prototype;return A.createVideoSample=function(r,t,e){return{key:r,frame:!1,pts:t,dts:e,units:[],length:0}},A.getLastNalUnit=function(r){var t,e,n=this.VideoSample;if(n&&0!==n.units.length||(n=r[r.length-1]),null!=(t=n)&&t.units){var i=n.units;e=i[i.length-1]}return e},A.pushAccessUnit=function(r,t){if(r.units.length&&r.frame){if(void 0===r.pts){var e=t.samples,n=e.length;if(!n)return void t.dropped++;var i=e[n-1];r.pts=i.pts,r.dts=i.dts}t.samples.push(r)}},A.parseNALu=function(r,t,e){var n,i,a=t.byteLength,o=r.naluState||0,l=o,c=[],f=0,m=-1,v=0;for(-1===o&&(m=0,v=this.getNALuType(t,0),o=0,f=1);f<a;)if(n=t[f++],o)if(1!==o)if(n)if(1===n){if(i=f-o-1,m>=0){var b={data:t.subarray(m,i),type:v};c.push(b)}else{var I=this.getLastNalUnit(r.samples);I&&(l&&f<=4-l&&I.state&&(I.data=I.data.subarray(0,I.data.byteLength-l)),i>0&&(I.data=re(I.data,t.subarray(0,i)),I.state=0))}f<a?(m=f,v=this.getNALuType(t,f),o=0):o=-1}else o=0;else o=3;else o=n?0:2;else o=n?0:1;if(m>=0&&o>=0){var _={data:t.subarray(m,a),type:v,state:o};c.push(_)}if(0===c.length){var Q=this.getLastNalUnit(r.samples);Q&&(Q.data=re(Q.data,t))}return r.naluState=o,c},s}(),Xs=function(){function s(r){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=r,this.bytesAvailable=r.byteLength,this.word=0,this.bitsAvailable=0}var A=s.prototype;return A.loadWord=function(){var r=this.data,t=this.bytesAvailable,e=r.byteLength-t,n=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");n.set(r.subarray(e,e+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},A.skipBits=function(r){var t;r=Math.min(r,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>r?(this.word<<=r,this.bitsAvailable-=r):(r-=this.bitsAvailable,r-=(t=r>>3)<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=r,this.bitsAvailable-=r)},A.readBits=function(r){var t=Math.min(this.bitsAvailable,r),e=this.word>>>32-t;if(r>32&&Yr.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return(t=r-t)>0&&this.bitsAvailable?e<<t|this.readBits(t):e},A.skipLZ=function(){var r;for(r=0;r<this.bitsAvailable;++r)if(this.word&2147483648>>>r)return this.word<<=r,this.bitsAvailable-=r,r;return this.loadWord(),r+this.skipLZ()},A.skipUEG=function(){this.skipBits(1+this.skipLZ())},A.skipEG=function(){this.skipBits(1+this.skipLZ())},A.readUEG=function(){var r=this.skipLZ();return this.readBits(r+1)-1},A.readEG=function(){var r=this.readUEG();return 1&r?1+r>>>1:-1*(r>>>1)},A.readBoolean=function(){return 1===this.readBits(1)},A.readUByte=function(){return this.readBits(8)},A.readUShort=function(){return this.readBits(16)},A.readUInt=function(){return this.readBits(32)},s}(),go=function(s){function A(){return s.apply(this,arguments)||this}Kr(A,s);var r=A.prototype;return r.parsePES=function(t,e,n,i){var a,o=this,l=this.parseNALu(t,n.data,i),c=this.VideoSample,f=!1;n.data=null,c&&l.length&&!t.audFound&&(this.pushAccessUnit(c,t),c=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),l.forEach(function(m){var v,b;switch(m.type){case 1:var I=!1;a=!0;var _,Q=m.data;if(f&&Q.length>4){var j=o.readSliceType(Q);2!==j&&4!==j&&7!==j&&9!==j||(I=!0)}I&&null!=(_=c)&&_.frame&&!c.key&&(o.pushAccessUnit(c,t),c=o.VideoSample=null),c||(c=o.VideoSample=o.createVideoSample(!0,n.pts,n.dts)),c.frame=!0,c.key=I;break;case 5:a=!0,null!=(v=c)&&v.frame&&!c.key&&(o.pushAccessUnit(c,t),c=o.VideoSample=null),c||(c=o.VideoSample=o.createVideoSample(!0,n.pts,n.dts)),c.key=!0,c.frame=!0;break;case 6:a=!0,er(m.data,1,n.pts,e.samples);break;case 7:var At,yt;a=!0,f=!0;var Ot=m.data,Ft=o.readSPS(Ot);if(!t.sps||t.width!==Ft.width||t.height!==Ft.height||(null==(At=t.pixelRatio)?void 0:At[0])!==Ft.pixelRatio[0]||(null==(yt=t.pixelRatio)?void 0:yt[1])!==Ft.pixelRatio[1]){t.width=Ft.width,t.height=Ft.height,t.pixelRatio=Ft.pixelRatio,t.sps=[Ot];for(var xt=Ot.subarray(1,4),Wt="avc1.",Pt=0;Pt<3;Pt++){var Gt=xt[Pt].toString(16);Gt.length<2&&(Gt="0"+Gt),Wt+=Gt}t.codec=Wt}break;case 8:a=!0,t.pps=[m.data];break;case 9:a=!0,t.audFound=!0,null!=(b=c)&&b.frame&&(o.pushAccessUnit(c,t),c=null),c||(c=o.VideoSample=o.createVideoSample(!1,n.pts,n.dts));break;case 12:a=!0;break;default:a=!1}c&&a&&c.units.push(m)}),i&&c&&(this.pushAccessUnit(c,t),this.VideoSample=null)},r.getNALuType=function(t,e){return 31&t[e]},r.readSliceType=function(t){var e=new Xs(t);return e.readUByte(),e.readUEG(),e.readUEG()},r.skipScalingList=function(t,e){for(var n=8,i=8,a=0;a<t;a++)0!==i&&(i=(n+e.readEG()+256)%256),n=0===i?n:i},r.readSPS=function(t){var e,n,i,a=new Xs(t),o=0,l=0,c=0,f=0,m=a.readUByte.bind(a),v=a.readBits.bind(a),b=a.readUEG.bind(a),I=a.readBoolean.bind(a),_=a.skipBits.bind(a),Q=a.skipEG.bind(a),j=a.skipUEG.bind(a),At=this.skipScalingList.bind(this);m();var yt=m();if(v(5),_(3),m(),j(),100===yt||110===yt||122===yt||244===yt||44===yt||83===yt||86===yt||118===yt||128===yt){var Ot=b();if(3===Ot&&_(1),j(),j(),_(1),I())for(n=3!==Ot?8:12,i=0;i<n;i++)I()&&At(i<6?16:64,a)}j();var Ft=b();if(0===Ft)b();else if(1===Ft)for(_(1),Q(),Q(),e=b(),i=0;i<e;i++)Q();j(),_(1);var xt=b(),Wt=b(),Pt=v(1);0===Pt&&_(1),_(1),I()&&(o=b(),l=b(),c=b(),f=b());var Gt=[1,1];if(I()&&I())switch(m()){case 1:Gt=[1,1];break;case 2:Gt=[12,11];break;case 3:Gt=[10,11];break;case 4:Gt=[16,11];break;case 5:Gt=[40,33];break;case 6:Gt=[24,11];break;case 7:Gt=[20,11];break;case 8:Gt=[32,11];break;case 9:Gt=[80,33];break;case 10:Gt=[18,11];break;case 11:Gt=[15,11];break;case 12:Gt=[64,33];break;case 13:Gt=[160,99];break;case 14:Gt=[4,3];break;case 15:Gt=[3,2];break;case 16:Gt=[2,1];break;case 255:Gt=[m()<<8|m(),m()<<8|m()]}return{width:Math.ceil(16*(xt+1)-2*o-2*l),height:(2-Pt)*(Wt+1)*16-(Pt?2:4)*(c+f),pixelRatio:Gt}},A}(ya),Mo=function(s){function A(){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=s.call.apply(s,[this].concat(n))||this).initVPS=null,t}Kr(A,s);var r=A.prototype;return r.parsePES=function(t,e,n,i){var a,o=this,l=this.parseNALu(t,n.data,i),c=this.VideoSample,f=!1;n.data=null,c&&l.length&&!t.audFound&&(this.pushAccessUnit(c,t),c=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),l.forEach(function(m){var v,b;switch(m.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:c||(c=o.VideoSample=o.createVideoSample(!1,n.pts,n.dts)),c.frame=!0,a=!0;break;case 16:case 17:case 18:case 21:var I;a=!0,f&&null!=(I=c)&&I.frame&&!c.key&&(o.pushAccessUnit(c,t),c=o.VideoSample=null),c||(c=o.VideoSample=o.createVideoSample(!0,n.pts,n.dts)),c.key=!0,c.frame=!0;break;case 19:case 20:a=!0,null!=(v=c)&&v.frame&&!c.key&&(o.pushAccessUnit(c,t),c=o.VideoSample=null),c||(c=o.VideoSample=o.createVideoSample(!0,n.pts,n.dts)),c.key=!0,c.frame=!0;break;case 39:a=!0,er(m.data,2,n.pts,e.samples);break;case 32:a=!0,t.vps||("object"!=typeof t.params&&(t.params={}),t.params=Lr(t.params,o.readVPS(m.data)),o.initVPS=m.data),t.vps=[m.data];break;case 33:if(a=!0,f=!0,void 0===t.vps||t.vps[0]===o.initVPS||void 0===t.sps||o.matchSPS(t.sps[0],m.data)||(o.initVPS=t.vps[0],t.sps=t.pps=void 0),!t.sps){var _=o.readSPS(m.data);for(var Q in t.width=_.width,t.height=_.height,t.pixelRatio=_.pixelRatio,t.codec=_.codecString,t.sps=[],"object"!=typeof t.params&&(t.params={}),_.params)t.params[Q]=_.params[Q]}o.pushParameterSet(t.sps,m.data,t.vps),c||(c=o.VideoSample=o.createVideoSample(!0,n.pts,n.dts)),c.key=!0;break;case 34:if(a=!0,"object"==typeof t.params){if(!t.pps){t.pps=[];var j=o.readPPS(m.data);for(var At in j)t.params[At]=j[At]}o.pushParameterSet(t.pps,m.data,t.vps)}break;case 35:a=!0,t.audFound=!0,null!=(b=c)&&b.frame&&(o.pushAccessUnit(c,t),c=null),c||(c=o.VideoSample=o.createVideoSample(!1,n.pts,n.dts));break;default:a=!1}c&&a&&c.units.push(m)}),i&&c&&(this.pushAccessUnit(c,t),this.VideoSample=null)},r.pushParameterSet=function(t,e,n){(n&&n[0]===this.initVPS||!n&&!t.length)&&t.push(e)},r.getNALuType=function(t,e){return(126&t[e])>>>1},r.ebsp2rbsp=function(t){for(var e=new Uint8Array(t.byteLength),n=0,i=0;i<t.byteLength;i++)i>=2&&3===t[i]&&0===t[i-1]&&0===t[i-2]||(e[n]=t[i],n++);return new Uint8Array(e.buffer,0,n)},r.pushAccessUnit=function(t,e){s.prototype.pushAccessUnit.call(this,t,e),this.initVPS&&(this.initVPS=null)},r.readVPS=function(t){var e=new Xs(t);return e.readUByte(),e.readUByte(),e.readBits(4),e.skipBits(2),e.readBits(6),{numTemporalLayers:e.readBits(3)+1,temporalIdNested:e.readBoolean()}},r.readSPS=function(t){var e=new Xs(this.ebsp2rbsp(t));e.readUByte(),e.readUByte(),e.readBits(4);var n=e.readBits(3);e.readBoolean();for(var i=e.readBits(2),a=e.readBoolean(),o=e.readBits(5),l=e.readUByte(),c=e.readUByte(),f=e.readUByte(),m=e.readUByte(),v=e.readUByte(),b=e.readUByte(),I=e.readUByte(),_=e.readUByte(),Q=e.readUByte(),j=e.readUByte(),At=e.readUByte(),yt=[],Ot=[],Ft=0;Ft<n;Ft++)yt.push(e.readBoolean()),Ot.push(e.readBoolean());if(n>0)for(var xt=n;xt<8;xt++)e.readBits(2);for(var Wt=0;Wt<n;Wt++)yt[Wt]&&(e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte()),Ot[Wt]&&e.readUByte();e.readUEG();var Pt=e.readUEG();3==Pt&&e.skipBits(1);var Gt=e.readUEG(),he=e.readUEG(),ye=e.readBoolean(),He=0,je=0,Re=0,Ze=0;ye&&(He+=e.readUEG(),je+=e.readUEG(),Re+=e.readUEG(),Ze+=e.readUEG());for(var Ge=e.readUEG(),tr=e.readUEG(),Or=e.readUEG(),sr=e.readBoolean()?0:n;sr<=n;sr++)e.skipUEG(),e.skipUEG(),e.skipUEG();if(e.skipUEG(),e.skipUEG(),e.skipUEG(),e.skipUEG(),e.skipUEG(),e.skipUEG(),e.readBoolean()&&e.readBoolean())for(var Cr=0;Cr<4;Cr++)for(var an=0;an<(3===Cr?2:6);an++)if(e.readBoolean()){var gn=Math.min(64,1<<4+(Cr<<1));Cr>1&&e.readEG();for(var qr=0;qr<gn;qr++)e.readEG()}else e.readUEG();e.readBoolean(),e.readBoolean(),e.readBoolean()&&(e.readUByte(),e.skipUEG(),e.skipUEG(),e.readBoolean());for(var si=e.readUEG(),In=0,Mr=0;Mr<si;Mr++){var Ri=!1;if(0!==Mr&&(Ri=e.readBoolean()),Ri){Mr===si&&e.readUEG(),e.readBoolean(),e.readUEG();for(var dn=0,Vn=0;Vn<=In;Vn++){var Wr=e.readBoolean(),ai=!1;Wr||(ai=e.readBoolean()),(Wr||ai)&&dn++}In=dn}else{var AA=e.readUEG(),Un=e.readUEG();In=AA+Un;for(var Bn=0;Bn<AA;Bn++)e.readUEG(),e.readBoolean();for(var fA=0;fA<Un;fA++)e.readUEG(),e.readBoolean()}}if(e.readBoolean())for(var qn=e.readUEG(),Jr=0;Jr<qn;Jr++){for(var DA=0;DA<Or+4;DA++)e.readBits(1);e.readBits(1)}var on=0,Bi=1,ni=1,Pi=!0,Hi=1,LA=0;if(e.readBoolean(),e.readBoolean(),e.readBoolean()){if(e.readBoolean()){var Wn=e.readUByte();Wn>0&&Wn<16?(Bi=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][Wn-1],ni=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][Wn-1]):255===Wn&&(Bi=e.readBits(16),ni=e.readBits(16))}if(e.readBoolean()&&e.readBoolean(),e.readBoolean()&&(e.readBits(3),e.readBoolean(),e.readBoolean()&&(e.readUByte(),e.readUByte(),e.readUByte())),e.readBoolean()&&(e.readUEG(),e.readUEG()),e.readBoolean(),e.readBoolean(),e.readBoolean(),e.readBoolean()&&(e.skipUEG(),e.skipUEG(),e.skipUEG(),e.skipUEG()),e.readBoolean()&&(Hi=e.readBits(32),LA=e.readBits(32),e.readBoolean()&&e.readUEG(),e.readBoolean())){var gA=e.readBoolean(),cs=e.readBoolean(),ys=!1;(gA||cs)&&((ys=e.readBoolean())&&(e.readUByte(),e.readBits(5),e.readBoolean(),e.readBits(5)),e.readBits(4),e.readBits(4),ys&&e.readBits(4),e.readBits(5),e.readBits(5),e.readBits(5));for(var hs=0;hs<=n;hs++){var ws=!1;(Pi=e.readBoolean())||e.readBoolean()?e.readEG():ws=e.readBoolean();var QA=ws?1:e.readUEG()+1;if(gA)for(var ss=0;ss<QA;ss++)e.readUEG(),e.readUEG(),ys&&(e.readUEG(),e.readUEG()),e.skipBits(1);if(cs)for(var sA=0;sA<QA;sA++)e.readUEG(),e.readUEG(),ys&&(e.readUEG(),e.readUEG()),e.skipBits(1)}}e.readBoolean()&&(e.readBoolean(),e.readBoolean(),e.readBoolean(),on=e.readUEG())}var Xi=Gt,ii=he;if(ye){var Ui=1,bi=1;1===Pt?Ui=bi=2:2==Pt&&(Ui=2),Xi=Gt-Ui*je-Ui*He,ii=he-bi*Ze-bi*Re}for(var Ps=i?["A","B","C"][i]:"",ma=l<<24|c<<16|f<<8|m,JA=0,Ys=0;Ys<32;Ys++)JA=(JA|(ma>>Ys&1)<<31-Ys)>>>0;var ds=JA.toString(16);return 1===o&&"2"===ds&&(ds="6"),{codecString:"hvc1."+Ps+o+"."+ds+"."+(a?"H":"L")+At+".B0",params:{general_tier_flag:a,general_profile_idc:o,general_profile_space:i,general_profile_compatibility_flags:[l,c,f,m],general_constraint_indicator_flags:[v,b,I,_,Q,j],general_level_idc:At,bit_depth:Ge+8,bit_depth_luma_minus8:Ge,bit_depth_chroma_minus8:tr,min_spatial_segmentation_idc:on,chroma_format_idc:Pt,frame_rate:{fixed:Pi,fps:LA/Hi}},width:Xi,height:ii,pixelRatio:[Bi,ni]}},r.readPPS=function(t){var e=new Xs(this.ebsp2rbsp(t));e.readUByte(),e.readUByte(),e.skipUEG(),e.skipUEG(),e.skipBits(2),e.skipBits(3),e.skipBits(2),e.skipUEG(),e.skipUEG(),e.skipEG(),e.skipBits(2),e.readBoolean()&&e.skipUEG(),e.skipEG(),e.skipEG(),e.skipBits(4);var n=e.readBoolean(),i=e.readBoolean(),a=1;return i&&n?a=0:i?a=3:n&&(a=2),{parallelismType:a}},r.matchSPS=function(t,e){return String.fromCharCode.apply(null,t).substr(3)===String.fromCharCode.apply(null,e).substr(3)},A}(ya),jA=188,wa=function(){function s(r,t,e,n){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=r,this.config=t,this.typeSupported=e,this.logger=n,this.videoParser=null}s.probe=function(r,t){var e=s.syncOffset(r);return e>0&&t.warn("MPEG2-TS detected but first sync word found @ offset "+e),-1!==e},s.syncOffset=function(r){for(var t=r.length,e=Math.min(940,t-jA)+1,n=0;n<e;){for(var i=!1,a=-1,o=0,l=n;l<t;l+=jA){if(71!==r[l]||t-l!==jA&&71!==r[l+jA]){if(o)return-1;break}if(o++,-1===a&&0!==(a=l)&&(e=Math.min(a+18612,r.length-jA)+1),i||(i=0===zs(r,l)),i&&o>1&&(0===a&&o>2||l+jA>e))return a}n++}return-1},s.createTrack=function(r,t){return{container:"video"===r||"audio"===r?"video/mp2t":void 0,type:r,id:en[r],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===r?t:void 0}};var A=s.prototype;return A.resetInitSegment=function(r,t,e,n){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=s.createTrack("video"),this._videoTrack.duration=n,this._audioTrack=s.createTrack("audio",n),this._id3Track=s.createTrack("id3"),this._txtTrack=s.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=e},A.resetTimeStamp=function(){},A.resetContiguity=function(){var r=this._audioTrack,t=this._videoTrack,e=this._id3Track;r&&(r.pesData=null),t&&(t.pesData=null),e&&(e.pesData=null),this.aacOverFlow=null,this.remainderData=null},A.demux=function(r,t,e,n){var i;void 0===e&&(e=!1),void 0===n&&(n=!1),e||(this.sampleAes=null);var a=this._videoTrack,o=this._audioTrack,l=this._id3Track,c=this._txtTrack,f=a.pid,m=a.pesData,v=o.pid,b=l.pid,I=o.pesData,_=l.pesData,Q=null,j=this.pmtParsed,At=this._pmtId,yt=r.length;if(this.remainderData&&(yt=(r=re(this.remainderData,r)).length,this.remainderData=null),yt<jA&&!n)return this.remainderData=r,{audioTrack:o,videoTrack:a,id3Track:l,textTrack:c};var Ot=Math.max(0,s.syncOffset(r));(yt-=(yt-Ot)%jA)<r.byteLength&&!n&&(this.remainderData=new Uint8Array(r.buffer,yt,r.buffer.byteLength-yt));for(var Ft=0,xt=Ot;xt<yt;xt+=jA)if(71===r[xt]){var Wt=!!(64&r[xt+1]),Pt=zs(r,xt),Gt=void 0;if((48&r[xt+3])>>4>1){if((Gt=xt+5+r[xt+4])===xt+jA)continue}else Gt=xt+4;switch(Pt){case f:Wt&&(m&&(i=Ns(m,this.logger))&&(this.readyVideoParser(a.segmentCodec),null!==this.videoParser&&this.videoParser.parsePES(a,c,i,!1)),m={data:[],size:0}),m&&(m.data.push(r.subarray(Gt,xt+jA)),m.size+=xt+jA-Gt);break;case v:if(Wt){if(I&&(i=Ns(I,this.logger)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,i);break;case"mp3":this.parseMPEGPES(o,i);break;case"ac3":this.parseAC3PES(o,i)}I={data:[],size:0}}I&&(I.data.push(r.subarray(Gt,xt+jA)),I.size+=xt+jA-Gt);break;case b:Wt&&(_&&(i=Ns(_,this.logger))&&this.parseID3PES(l,i),_={data:[],size:0}),_&&(_.data.push(r.subarray(Gt,xt+jA)),_.size+=xt+jA-Gt);break;case 0:Wt&&(Gt+=r[Gt]+1),At=this._pmtId=Ho(r,Gt);break;case At:Wt&&(Gt+=r[Gt]+1);var he=po(r,Gt,this.typeSupported,e,this.observer,this.logger);(f=he.videoPid)>0&&(a.pid=f,a.segmentCodec=he.segmentVideoCodec),(v=he.audioPid)>0&&(o.pid=v,o.segmentCodec=he.segmentAudioCodec),(b=he.id3Pid)>0&&(l.pid=b),null===Q||j||(this.logger.warn("MPEG-TS PMT found at "+xt+" after unknown PID '"+Q+"'. Backtracking to sync byte @"+Ot+" to parse all TS packets."),Q=null,xt=Ot-188),j=this.pmtParsed=!0;break;case 17:case 8191:break;default:Q=Pt}}else Ft++;Ft>0&&sa(this.observer,new Error("Found "+Ft+" TS packet/s that do not start with 0x47"),void 0,this.logger),a.pesData=m,o.pesData=I,l.pesData=_;var ye={audioTrack:o,videoTrack:a,id3Track:l,textTrack:c};return n&&this.extractRemainingSamples(ye),ye},A.flush=function(){var r,t=this.remainderData;return this.remainderData=null,r=t?this.demux(t,-1,!1,!0):{videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(r),this.sampleAes?this.decrypt(r,this.sampleAes):r},A.extractRemainingSamples=function(r){var t,e=r.audioTrack,n=r.videoTrack,i=r.id3Track,a=r.textTrack,o=n.pesData,l=e.pesData,c=i.pesData;if(o&&(t=Ns(o,this.logger))?(this.readyVideoParser(n.segmentCodec),null!==this.videoParser&&(this.videoParser.parsePES(n,a,t,!0),n.pesData=null)):n.pesData=o,l&&(t=Ns(l,this.logger))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,t);break;case"mp3":this.parseMPEGPES(e,t);break;case"ac3":this.parseAC3PES(e,t)}e.pesData=null}else null!=l&&l.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=l;c&&(t=Ns(c,this.logger))?(this.parseID3PES(i,t),i.pesData=null):i.pesData=c},A.demuxSampleAes=function(r,t,e){var n=this.demux(r,e,!0,!this.config.progressive),i=this.sampleAes=new fo(this.observer,this.config,t);return this.decrypt(n,i)},A.readyVideoParser=function(r){null===this.videoParser&&("avc"===r?this.videoParser=new go:"hevc"===r&&(this.videoParser=new Mo))},A.decrypt=function(r,t){return new Promise(function(e){var n=r.audioTrack,i=r.videoTrack;n.samples&&"aac"===n.segmentCodec?t.decryptAacSamples(n.samples,0,function(){i.samples?t.decryptAvcSamples(i.samples,0,0,function(){e(r)}):e(r)}):i.samples&&t.decryptAvcSamples(i.samples,0,0,function(){e(r)})})},A.destroy=function(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0},A.parseAACPES=function(r,t){var e,n,i,a=0,o=this.aacOverFlow,l=t.data;if(o){this.aacOverFlow=null;var c=o.missing,f=o.sample.unit.byteLength;if(-1===c)l=re(o.sample.unit,l);else{var m=f-c;o.sample.unit.set(l.subarray(0,c),m),r.samples.push(o.sample),a=o.missing}}for(e=a,n=l.length;e<n-1&&!Rr(l,e);e++);if(e!==a){var b=e<n-1;if(sa(this.observer,new Error(b?"AAC PES did not start with ADTS header,offset:"+e:"No ADTS header found in AAC PES"),b,this.logger),!b)return}if(MA(r,this.observer,l,e,this.audioCodec),void 0!==t.pts)i=t.pts;else{if(!o)return void this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var I=Wi(r.samplerate);i=o.sample.pts+I}for(var _,Q=0;e<n;){if(e+=(_=rA(r,l,e,i,Q)).length,_.missing){this.aacOverFlow=_;break}for(Q++;e<n-1&&!Rr(l,e);e++);}},A.parseMPEGPES=function(r,t){var e=t.data,n=e.length,i=0,a=0,o=t.pts;if(void 0!==o)for(;a<n;)if(Aa(e,a)){var l=XA(r,e,a,o,i);if(!l)break;a+=l.length,i++}else a++;else this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},A.parseAC3PES=function(r,t){var e=t.data,n=t.pts;if(void 0!==n)for(var i,a=e.length,o=0,l=0;l<a&&(i=Ha(r,e,l,n,o++))>0;)l+=i;else this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS")},A.parseID3PES=function(r,t){if(void 0!==t.pts){var e=Lr({},t,{type:this._videoTrack?nr.emsg:nr.audioId3,duration:Number.POSITIVE_INFINITY});r.samples.push(e)}else this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},s}();function zs(s,A){return((31&s[A+1])<<8)+s[A+2]}function Ho(s,A){return(31&s[A+10])<<8|s[A+11]}function po(s,A,r,t,e,n){var i={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},a=A+3+((15&s[A+1])<<8|s[A+2])-4;for(A+=12+((15&s[A+10])<<8|s[A+11]);A<a;){var o=zs(s,A),l=(15&s[A+3])<<8|s[A+4];switch(s[A]){case 207:if(!t){Ba("ADTS AAC",n);break}case 15:-1===i.audioPid&&(i.audioPid=o);break;case 21:-1===i.id3Pid&&(i.id3Pid=o);break;case 219:if(!t){Ba("H.264",n);break}case 27:-1===i.videoPid&&(i.videoPid=o);break;case 3:case 4:r.mpeg||r.mp3?-1===i.audioPid&&(i.audioPid=o,i.segmentAudioCodec="mp3"):n.log("MPEG audio found, not supported in this browser");break;case 193:if(!t){Ba("AC-3",n);break}case 129:r.ac3?-1===i.audioPid&&(i.audioPid=o,i.segmentAudioCodec="ac3"):n.log("AC-3 audio found, not supported in this browser");break;case 6:if(-1===i.audioPid&&l>0)for(var c=A+5,f=l;f>2;){106===s[c]&&(!0!==r.ac3?n.log("AC-3 audio found, not supported in this browser for now"):(i.audioPid=o,i.segmentAudioCodec="ac3"));var m=s[c+1]+2;c+=m,f-=m}break;case 194:case 135:return sa(e,new Error("Unsupported EC-3 in M2TS found"),void 0,n),i;case 36:-1===i.videoPid&&(i.videoPid=o,i.segmentVideoCodec="hevc",n.log("HEVC in M2TS found"))}A+=l+5}return i}function sa(s,A,r,t){t.warn("parsing error: "+A.message),s.emit(D.ERROR,D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.FRAG_PARSING_ERROR,fatal:!1,levelRetry:r,error:A,reason:A.message})}function Ba(s,A){A.log(s+" with AES-128-CBC encryption found in unencrypted stream")}function Ns(s,A){var r,t,e,n,i,a=0,o=s.data;if(!s||0===s.size)return null;for(;o[0].length<19&&o.length>1;)o[0]=re(o[0],o[1]),o.splice(1,1);if(((r=o[0])[0]<<16)+(r[1]<<8)+r[2]===1){if((t=(r[4]<<8)+r[5])&&t>s.size-6)return null;var l=r[7];192&l&&(n=536870912*(14&r[9])+4194304*(255&r[10])+16384*(254&r[11])+128*(255&r[12])+(254&r[13])/2,64&l?n-(i=536870912*(14&r[14])+4194304*(255&r[15])+16384*(254&r[16])+128*(255&r[17])+(254&r[18])/2)>54e5&&(A.warn(Math.round((n-i)/9e4)+"s delta between PTS and DTS, align them"),n=i):i=n);var c=(e=r[8])+9;if(s.size<=c)return null;s.size-=c;for(var f=new Uint8Array(s.size),m=0,v=o.length;m<v;m++){var b=(r=o[m]).byteLength;if(c){if(c>b){c-=b;continue}r=r.subarray(c),b-=c,c=0}f.set(r,a),a+=b}return t&&(t-=e+3),{data:f,pts:n,dts:i,len:t}}return null}var mo=function(){function s(){}return s.getSilentFrame=function(A,r){if("mp4a.40.2"===A){if(1===r)return new Uint8Array([0,200,0,128,35,128]);if(2===r)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===r)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===r)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===r)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===r)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===r)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===r)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===r)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},s}(),Ts=Math.pow(2,32)-1,_A=function(){function s(){}return s.init=function(){var A;for(A in s.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]})s.types.hasOwnProperty(A)&&(s.types[A]=[A.charCodeAt(0),A.charCodeAt(1),A.charCodeAt(2),A.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),t=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);s.HDLR_TYPES={video:r,audio:t};var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),n=new Uint8Array([0,0,0,0,0,0,0,0]);s.STTS=s.STSC=s.STCO=n,s.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),s.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),s.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),s.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var i=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),o=new Uint8Array([0,0,0,1]);s.FTYP=s.box(s.types.ftyp,i,o,i,a),s.DINF=s.box(s.types.dinf,s.box(s.types.dref,e))},s.box=function(A){for(var r=8,t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];for(var i=e.length,a=i;i--;)r+=e[i].byteLength;var o=new Uint8Array(r);for(o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=255&r,o.set(A,4),i=0,r=8;i<a;i++)o.set(e[i],r),r+=e[i].byteLength;return o},s.hdlr=function(A){return s.box(s.types.hdlr,s.HDLR_TYPES[A])},s.mdat=function(A){return s.box(s.types.mdat,A)},s.mdhd=function(A,r){r*=A;var t=Math.floor(r/(Ts+1)),e=Math.floor(r%(Ts+1));return s.box(s.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,A>>24&255,A>>16&255,A>>8&255,255&A,t>>24,t>>16&255,t>>8&255,255&t,e>>24,e>>16&255,e>>8&255,255&e,85,196,0,0]))},s.mdia=function(A){return s.box(s.types.mdia,s.mdhd(A.timescale||0,A.duration||0),s.hdlr(A.type),s.minf(A))},s.mfhd=function(A){return s.box(s.types.mfhd,new Uint8Array([0,0,0,0,A>>24,A>>16&255,A>>8&255,255&A]))},s.minf=function(A){return s.box(s.types.minf,"audio"===A.type?s.box(s.types.smhd,s.SMHD):s.box(s.types.vmhd,s.VMHD),s.DINF,s.stbl(A))},s.moof=function(A,r,t){return s.box(s.types.moof,s.mfhd(A),s.traf(t,r))},s.moov=function(A){for(var r=A.length,t=[];r--;)t[r]=s.trak(A[r]);return s.box.apply(null,[s.types.moov,s.mvhd(A[0].timescale||0,A[0].duration||0)].concat(t).concat(s.mvex(A)))},s.mvex=function(A){for(var r=A.length,t=[];r--;)t[r]=s.trex(A[r]);return s.box.apply(null,[s.types.mvex].concat(t))},s.mvhd=function(A,r){r*=A;var t=Math.floor(r/(Ts+1)),e=Math.floor(r%(Ts+1)),n=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,A>>24&255,A>>16&255,A>>8&255,255&A,t>>24,t>>16&255,t>>8&255,255&t,e>>24,e>>16&255,e>>8&255,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return s.box(s.types.mvhd,n)},s.sdtp=function(A){var r,t,e=A.samples||[],n=new Uint8Array(4+e.length);for(r=0;r<e.length;r++)n[r+4]=(t=e[r].flags).dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return s.box(s.types.sdtp,n)},s.stbl=function(A){return s.box(s.types.stbl,s.stsd(A),s.box(s.types.stts,s.STTS),s.box(s.types.stsc,s.STSC),s.box(s.types.stsz,s.STSZ),s.box(s.types.stco,s.STCO))},s.avc1=function(A){var r,t,e,n=[],i=[];for(r=0;r<A.sps.length;r++)e=(t=A.sps[r]).byteLength,n.push(e>>>8&255),n.push(255&e),n=n.concat(Array.prototype.slice.call(t));for(r=0;r<A.pps.length;r++)e=(t=A.pps[r]).byteLength,i.push(e>>>8&255),i.push(255&e),i=i.concat(Array.prototype.slice.call(t));var a=s.box(s.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|A.sps.length].concat(n).concat([A.pps.length]).concat(i))),o=A.width,l=A.height,c=A.pixelRatio[0],f=A.pixelRatio[1];return s.box(s.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o>>8&255,255&o,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,s.box(s.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),s.box(s.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,f>>24,f>>16&255,f>>8&255,255&f])))},s.esds=function(A){return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2].concat(A.config,[6,1,2]))},s.audioStsd=function(A){var r=A.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,A.channelCount||0,0,16,0,0,0,0,r>>8&255,255&r,0,0])},s.mp4a=function(A){return s.box(s.types.mp4a,s.audioStsd(A),s.box(s.types.esds,s.esds(A)))},s.mp3=function(A){return s.box(s.types[".mp3"],s.audioStsd(A))},s.ac3=function(A){return s.box(s.types["ac-3"],s.audioStsd(A),s.box(s.types.dac3,A.config))},s.stsd=function(A){var r=A.segmentCodec;if("audio"===A.type){if("aac"===r)return s.box(s.types.stsd,s.STSD,s.mp4a(A));if("ac3"===r&&A.config)return s.box(s.types.stsd,s.STSD,s.ac3(A));if("mp3"===r&&"mp3"===A.codec)return s.box(s.types.stsd,s.STSD,s.mp3(A))}else{if(!A.pps||!A.sps)throw new Error("video track missing pps or sps");if("avc"===r)return s.box(s.types.stsd,s.STSD,s.avc1(A));if("hevc"===r&&A.vps)return s.box(s.types.stsd,s.STSD,s.hvc1(A))}throw new Error("unsupported "+A.type+" segment codec ("+r+"/"+A.codec+")")},s.tkhd=function(A){var r=A.id,t=(A.duration||0)*(A.timescale||0),e=A.width||0,n=A.height||0,i=Math.floor(t/(Ts+1)),a=Math.floor(t%(Ts+1));return s.box(s.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,e>>8&255,255&e,0,0,n>>8&255,255&n,0,0]))},s.traf=function(A,r){var t=s.sdtp(A),e=A.id,n=Math.floor(r/(Ts+1)),i=Math.floor(r%(Ts+1));return s.box(s.types.traf,s.box(s.types.tfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e])),s.box(s.types.tfdt,new Uint8Array([1,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i])),s.trun(A,t.length+16+20+8+16+8+8),t)},s.trak=function(A){return A.duration=A.duration||4294967295,s.box(s.types.trak,s.tkhd(A),s.mdia(A))},s.trex=function(A){var r=A.id;return s.box(s.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},s.trun=function(A,r){var t,e,n,i,a,o,l=A.samples||[],c=l.length,f=12+16*c,m=new Uint8Array(f);for(m.set(["video"===A.type?1:0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,(r+=8+f)>>>24&255,r>>>16&255,r>>>8&255,255&r],0),t=0;t<c;t++)n=(e=l[t]).duration,m.set([n>>>24&255,n>>>16&255,n>>>8&255,255&n,(i=e.size)>>>24&255,i>>>16&255,i>>>8&255,255&i,(a=e.flags).isLeading<<2|a.dependsOn,a.isDependedOn<<6|a.hasRedundancy<<4|a.paddingValue<<1|a.isNonSync,61440&a.degradPrio,15&a.degradPrio,(o=e.cts)>>>24&255,o>>>16&255,o>>>8&255,255&o],12+16*t);return s.box(s.types.trun,m)},s.initSegment=function(A){s.types||s.init();var r=s.moov(A);return re(s.FTYP,r)},s.hvc1=function(A){for(var r=A.params,t=[A.vps,A.sps,A.pps],e=new Uint8Array([1,r.general_profile_space<<6|(r.general_tier_flag?32:0)|r.general_profile_idc,r.general_profile_compatibility_flags[0],r.general_profile_compatibility_flags[1],r.general_profile_compatibility_flags[2],r.general_profile_compatibility_flags[3],r.general_constraint_indicator_flags[0],r.general_constraint_indicator_flags[1],r.general_constraint_indicator_flags[2],r.general_constraint_indicator_flags[3],r.general_constraint_indicator_flags[4],r.general_constraint_indicator_flags[5],r.general_level_idc,240|r.min_spatial_segmentation_idc>>8,255&r.min_spatial_segmentation_idc,252|r.parallelismType,252|r.chroma_format_idc,248|r.bit_depth_luma_minus8,248|r.bit_depth_chroma_minus8,0,parseInt(r.frame_rate.fps),3|r.temporal_id_nested<<2|r.num_temporal_layers<<3|(r.frame_rate.fixed?64:0),t.length]),n=e.length,i=0;i<t.length;i+=1){n+=3;for(var a=0;a<t[i].length;a+=1)n+=2+t[i][a].length}var o=new Uint8Array(n);o.set(e,0),n=e.length;for(var l=t.length-1,c=0;c<t.length;c+=1){o.set(new Uint8Array([32+c|(c===l?128:0),0,t[c].length]),n),n+=3;for(var f=0;f<t[c].length;f+=1)o.set(new Uint8Array([t[c][f].length>>8,255&t[c][f].length]),n),o.set(t[c][f],n+=2),n+=t[c][f].length}var m=s.box(s.types.hvcC,o),v=A.width,b=A.height,I=A.pixelRatio[0],_=A.pixelRatio[1];return s.box(s.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,v>>8&255,255&v,b>>8&255,255&b,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),m,s.box(s.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),s.box(s.types.pasp,new Uint8Array([I>>24,I>>16&255,I>>8&255,255&I,_>>24,_>>16&255,_>>8&255,255&_])))},s}();_A.types=void 0,_A.HDLR_TYPES=void 0,_A.STTS=void 0,_A.STSC=void 0,_A.STCO=void 0,_A.STSZ=void 0,_A.VMHD=void 0,_A.SMHD=void 0,_A.STSD=void 0,_A.FTYP=void 0,_A.DINF=void 0;var Ga=9e4;function ba(s,A,r,t){void 0===r&&(r=1),void 0===t&&(t=!1);var e=s*A*r;return t?Math.round(e):e}function Js(s,A){return ba(s,1e3,1/Ga,A)}var Os=null,Ea=null;function ja(s,A,r,t){return{duration:A,size:r,cts:t,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:s?2:1,isNonSync:s?0:1}}}var aa=function(s){function A(t,e,n,i){var a;if((a=s.call(this,"mp4-remuxer",i)||this).observer=void 0,a.config=void 0,a.typeSupported=void 0,a.ISGenerated=!1,a._initPTS=null,a._initDTS=null,a.nextVideoTs=null,a.nextAudioTs=null,a.videoSampleDuration=null,a.isAudioContiguous=!1,a.isVideoContiguous=!1,a.videoTrackConfig=void 0,a.observer=t,a.config=e,a.typeSupported=n,a.ISGenerated=!1,null===Os){var o=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Os=o?parseInt(o[1]):0}if(null===Ea){var l=navigator.userAgent.match(/Safari\/(\d+)/i);Ea=l?parseInt(l[1]):0}return a}Kr(A,s);var r=A.prototype;return r.destroy=function(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null},r.resetTimeStamp=function(t){this.log("initPTS & initDTS reset"),this._initPTS=this._initDTS=t},r.resetNextTimestamp=function(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},r.resetInitSegment=function(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0},r.getVideoStartPts=function(t){var e=!1,n=t[0].pts,i=t.reduce(function(a,o){var l=o.pts,c=l-a;return c<-4294967296&&(e=!0,c=(l=es(l,n))-a),c>0?a:l},n);return e&&this.debug("PTS rollover detected"),i},r.remux=function(t,e,n,i,a,o,l,c){var f,m,v,b,I,_,Q=a,j=a,yt=e.pid>-1,Ot=e.samples.length,Ft=t.samples.length>0,xt=l&&Ot>0||Ot>1;if((!(t.pid>-1)||Ft)&&(!yt||xt)||this.ISGenerated||l){if(this.ISGenerated){var Wt,Pt,Gt,he,ye=this.videoTrackConfig;(ye&&(e.width!==ye.width||e.height!==ye.height||(null==(Wt=e.pixelRatio)?void 0:Wt[0])!==(null==(Pt=ye.pixelRatio)?void 0:Pt[0])||(null==(Gt=e.pixelRatio)?void 0:Gt[1])!==(null==(he=ye.pixelRatio)?void 0:he[1]))||!ye&&xt||null===this.nextAudioTs&&Ft)&&this.resetInitSegment()}this.ISGenerated||(v=this.generateIS(t,e,a,o));var He,je=this.isVideoContiguous,Re=-1;if(xt&&(Re=function(sr){for(var Cr=0;Cr<sr.length;Cr++)if(sr[Cr].key)return Cr;return-1}(e.samples),!je&&this.config.forceKeyFrameOnDiscontinuity))if(_=!0,Re>0){this.warn("Dropped "+Re+" out of "+Ot+" video samples due to a missing keyframe");var Ze=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(Re),e.dropped+=Re,He=j+=(e.samples[0].pts-Ze)/e.inputTimeScale}else-1===Re&&(this.warn("No keyframe found out of "+Ot+" video samples"),_=!1);if(this.ISGenerated){if(Ft&&xt){var Ge=this.getVideoStartPts(e.samples),tr=(es(t.samples[0].pts,Ge)-Ge)/e.inputTimeScale;Q+=Math.max(0,tr),j+=Math.max(0,-tr)}if(Ft){if(t.samplerate||(this.warn("regenerate InitSegment as audio detected"),v=this.generateIS(t,e,a,o)),m=this.remuxAudio(t,Q,this.isAudioContiguous,o,yt||xt||c===$n?j:void 0),xt){var Or=m?m.endPTS-m.startPTS:0;e.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),v=this.generateIS(t,e,a,o)),f=this.remuxVideo(e,j,je,Or)}}else xt&&(f=this.remuxVideo(e,j,je,0));f&&(f.firstKeyFrame=Re,f.independent=-1!==Re,f.firstKeyFramePTS=He)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(I=vo(n,a,this._initPTS,this._initDTS)),i.samples.length&&(b=oa(i,a,this._initPTS))),{audio:m,video:f,initSegment:v,independent:_,text:b,id3:I}},r.generateIS=function(t,e,n,i){var a,o,l,c=t.samples,f=e.samples,m=this.typeSupported,v={},b=this._initPTS,I=!b||i,_="audio/mp4",Q=-1;if(I&&(a=o=1/0),t.config&&c.length){switch(t.timescale=t.samplerate,t.segmentCodec){case"mp3":m.mpeg?(_="audio/mpeg",t.codec=""):m.mp3&&(t.codec="mp3");break;case"ac3":t.codec="ac-3"}v.audio={id:"audio",container:_,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&m.mpeg?new Uint8Array(0):_A.initSegment([t]),metadata:{channelCount:t.channelCount}},I&&(Q=t.id,l=t.inputTimeScale,b&&l===b.timescale?I=!1:a=o=c[0].pts-Math.round(l*n))}if(e.sps&&e.pps&&f.length){if(e.timescale=e.inputTimeScale,v.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:_A.initSegment([e]),metadata:{width:e.width,height:e.height}},I)if(Q=e.id,l=e.inputTimeScale,b&&l===b.timescale)I=!1;else{var j=this.getVideoStartPts(f),At=Math.round(l*n);o=Math.min(o,es(f[0].dts,j)-At),a=Math.min(a,j-At)}this.videoTrackConfig={width:e.width,height:e.height,pixelRatio:e.pixelRatio}}if(Object.keys(v).length)return this.ISGenerated=!0,I?(b&&this.warn("Timestamps at playlist time: "+(i?"":"~")+n+" "+a/l+" != initPTS: "+b.baseTime/b.timescale+" ("+b.baseTime+"/"+b.timescale+") trackId: "+b.trackId),this.log("Found initPTS at playlist time: "+n+" offset: "+a/l+" ("+a+"/"+l+") trackId: "+Q),this._initPTS={baseTime:a,timescale:l,trackId:Q},this._initDTS={baseTime:o,timescale:l,trackId:Q}):a=l=void 0,{tracks:v,initPTS:a,timescale:l,trackId:Q}},r.remuxVideo=function(t,e,n,i){var a,o,l=t.inputTimeScale,c=t.samples,f=[],m=c.length,v=this._initPTS,b=v.baseTime*l/v.timescale,I=this.nextVideoTs,_=8,Q=this.videoSampleDuration,j=Number.POSITIVE_INFINITY,At=Number.NEGATIVE_INFINITY,yt=!1;if(!n||null===I){var Ot=b+e*l,Ft=c[0].pts-es(c[0].dts,c[0].pts);Os&&null!==I&&Math.abs(Ot-Ft-(I+b))<15e3?n=!0:I=Ot-Ft-b}for(var xt=I+b,Wt=0;Wt<m;Wt++){var Pt=c[Wt];Pt.pts=es(Pt.pts,xt),Pt.dts=es(Pt.dts,xt),Pt.dts<c[Wt>0?Wt-1:Wt].dts&&(yt=!0)}yt&&c.sort(function(JA,Ys){return JA.dts-Ys.dts||JA.pts-Ys.pts});var Gt=c[c.length-1].dts-(a=c[0].dts),he=Gt?Math.round(Gt/(m-1)):Q||t.inputTimeScale/30;if(n){var ye=a-xt,He=ye>he,je=ye<-1;if((He||je)&&(this.warn(He?(t.segmentCodec||"").toUpperCase()+": "+Js(ye,!0)+" ms ("+ye+"dts) hole between fragments detected at "+e.toFixed(3):(t.segmentCodec||"").toUpperCase()+": "+Js(-ye,!0)+" ms ("+ye+"dts) overlapping between fragments detected at "+e.toFixed(3)),!je||xt>=c[0].pts||Os)){a=xt;var Re=c[0].pts-ye;if(He)c[0].dts=a,c[0].pts=Re;else for(var Ze=!0,Ge=0;Ge<c.length&&!(c[Ge].dts>Re&&Ze);Ge++){var tr=c[Ge].pts;if(c[Ge].dts-=ye,c[Ge].pts-=ye,Ge<c.length-1){var Or=c[Ge+1].pts;Ze=Or<=c[Ge].pts==Or<=tr}}this.log("Video: Initial PTS/DTS adjusted: "+Js(Re,!0)+"/"+Js(a,!0)+", delta: "+Js(ye,!0)+" ms")}}for(var sr=0,Cr=0,an=a=Math.max(0,a),gn=0;gn<m;gn++){for(var qr=c[gn],si=qr.units,In=si.length,Mr=0,Ri=0;Ri<In;Ri++)Mr+=si[Ri].data.length;Cr+=Mr,sr+=In,qr.length=Mr,qr.dts<an?(qr.dts=an,an+=he/4|0||1):an=qr.dts,j=Math.min(qr.pts,j),At=Math.max(qr.pts,At)}o=c[m-1].dts;var dn,Vn=Cr+4*sr+8;try{dn=new Uint8Array(Vn)}catch(JA){return void this.observer.emit(D.ERROR,D.ERROR,{type:Ve.MUX_ERROR,details:Ht.REMUX_ALLOC_ERROR,fatal:!1,error:JA,bytes:Vn,reason:"fail allocating video mdat "+Vn})}var Wr=new DataView(dn.buffer);Wr.setUint32(0,Vn),dn.set(_A.types.mdat,4);for(var ai=!1,AA=Number.POSITIVE_INFINITY,Un=Number.POSITIVE_INFINITY,Bn=Number.NEGATIVE_INFINITY,fA=Number.NEGATIVE_INFINITY,qn=0;qn<m;qn++){for(var Jr=c[qn],DA=Jr.units,on=0,Bi=0,ni=DA.length;Bi<ni;Bi++){var Pi=DA[Bi],Hi=Pi.data,LA=Pi.data.byteLength;Wr.setUint32(_,LA),dn.set(Hi,_+=4),_+=LA,on+=4+LA}var Wn=void 0;if(qn<m-1)Q=c[qn+1].dts-Jr.dts,Wn=c[qn+1].pts-Jr.pts;else{var gA=this.config,cs=qn>0?Jr.dts-c[qn-1].dts:he;if(Wn=qn>0?Jr.pts-c[qn-1].pts:he,gA.stretchShortVideoTrack&&null!==this.nextAudioTs){var ys=Math.floor(gA.maxBufferHole*l),hs=(i?j+i*l:this.nextAudioTs+b)-Jr.pts;hs>ys?((Q=hs-cs)<0?Q=cs:ai=!0,this.log("It is approximately "+hs/90+" ms to the next segment; using duration "+Q/90+" ms for the last video frame.")):Q=cs}else Q=cs}var ws=Math.round(Jr.pts-Jr.dts);AA=Math.min(AA,Q),Bn=Math.max(Bn,Q),Un=Math.min(Un,Wn),fA=Math.max(fA,Wn),f.push(ja(Jr.key,Q,on,ws))}if(f.length)if(Os){if(Os<70){var QA=f[0].flags;QA.dependsOn=2,QA.isNonSync=0}}else if(Ea&&fA-Un<Bn-AA&&he/Bn<.025&&0===f[0].cts){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var ss=a,sA=0,Xi=f.length;sA<Xi;sA++){var ii=ss+f[sA].duration;f[sA].duration=sA<Xi-1?ii+f[sA+1].cts-(ss+f[sA].cts):sA?f[sA-1].duration:he,f[sA].cts=0,ss=ii}}var Ps=o+(Q=ai||!Q?he:Q);this.nextVideoTs=I=Ps-b,this.videoSampleDuration=Q,this.isVideoContiguous=!0;var ma={data1:_A.moof(t.sequenceNumber++,a,Lr(t,{samples:f})),data2:dn,startPTS:(j-b)/l,endPTS:(At+Q-b)/l,startDTS:(a-b)/l,endDTS:I/l,type:"video",hasAudio:!1,hasVideo:!0,nb:f.length,dropped:t.dropped};return t.samples=[],t.dropped=0,ma},r.getSamplesPerFrame=function(t){switch(t.segmentCodec){case"mp3":return 1152;case"ac3":return 1536;default:return 1024}},r.remuxAudio=function(t,e,n,i,a){var o=t.inputTimeScale,l=o/(t.samplerate?t.samplerate:o),c=this.getSamplesPerFrame(t),f=c*l,m=this._initPTS,v="mp3"===t.segmentCodec&&this.typeSupported.mpeg,b=[],I=void 0!==a,_=t.samples,Q=v?0:8,j=this.nextAudioTs||-1,At=m.baseTime*o/m.timescale,yt=At+e*o;if(this.isAudioContiguous=n=n||_.length&&j>0&&(i&&Math.abs(yt-(j+At))<9e3||Math.abs(es(_[0].pts,yt)-(j+At))<20*f),_.forEach(function(ai){ai.pts=es(ai.pts,yt)}),!n||j<0){if(!(_=_.filter(function(ai){return ai.pts>=0})).length)return;j=0===a?0:i&&!I?Math.max(0,yt-At):_[0].pts-At}if("aac"===t.segmentCodec)for(var Ot=this.config.maxAudioFramesDrift,Ft=0,xt=j+At;Ft<_.length;Ft++){var Wt=_[Ft],Pt=Wt.pts,Gt=Pt-xt,he=Math.abs(1e3*Gt/o);if(Gt<=-Ot*f&&I)0===Ft&&(this.warn("Audio frame @ "+(Pt/o).toFixed(3)+"s overlaps marker by "+Math.round(1e3*Gt/o)+" ms."),this.nextAudioTs=j=Pt-At,xt=Pt);else if(Gt>=Ot*f&&he<1e4&&I){var ye=Math.round(Gt/f);for(xt=Pt-ye*f;xt<0&&ye&&f;)ye--,xt+=f;0===Ft&&(this.nextAudioTs=j=xt-At),this.warn("Injecting "+ye+" audio frames @ "+((xt-At)/o).toFixed(3)+"s due to "+Math.round(1e3*Gt/o)+" ms gap.");for(var He=0;He<ye;He++){var je=mo.getSilentFrame(t.parsedCodec||t.manifestCodec||t.codec,t.channelCount);je||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),je=Wt.unit.subarray()),_.splice(Ft,0,{unit:je,pts:xt}),xt+=f,Ft++}}Wt.pts=xt,xt+=f}for(var Re,Ze=null,Ge=null,tr=0,Or=_.length;Or--;)tr+=_[Or].unit.byteLength;for(var sr=0,Cr=_.length;sr<Cr;sr++){var an=_[sr],gn=an.unit,qr=an.pts;if(null!==Ge)b[sr-1].duration=Math.round((qr-Ge)/l);else{if(n&&"aac"===t.segmentCodec&&(qr=j+At),Ze=qr,!(tr>0))return;tr+=Q;try{Re=new Uint8Array(tr)}catch(ai){return void this.observer.emit(D.ERROR,D.ERROR,{type:Ve.MUX_ERROR,details:Ht.REMUX_ALLOC_ERROR,fatal:!1,error:ai,bytes:tr,reason:"fail allocating audio mdat "+tr})}v||(new DataView(Re.buffer).setUint32(0,tr),Re.set(_A.types.mdat,4))}Re.set(gn,Q);var si=gn.byteLength;Q+=si,b.push(ja(!0,c,si,0)),Ge=qr}var In=b.length;if(In){this.nextAudioTs=(j=Ge-At)+l*b[b.length-1].duration;var Ri=v?new Uint8Array(0):_A.moof(t.sequenceNumber++,Ze/l,Lr({},t,{samples:b}));t.samples=[];var dn=(Ze-At)/o,Vn=j/o,Wr={data1:Ri,data2:Re,startPTS:dn,endPTS:Vn,startDTS:dn,endDTS:Vn,type:"audio",hasAudio:!0,hasVideo:!1,nb:In};return this.isAudioContiguous=!0,Wr}},A}(mi);function es(s,A){var r;if(null===A)return s;for(r=A<s?-8589934592:8589934592;Math.abs(s-A)>4294967296;)s+=r;return s}function vo(s,A,r,t){var e=s.samples.length;if(e){for(var n=s.inputTimeScale,i=0;i<e;i++){var a=s.samples[i];a.pts=es(a.pts-r.baseTime*n/r.timescale,A*n)/n,a.dts=es(a.dts-t.baseTime*n/t.timescale,A*n)/n}var o=s.samples;return s.samples=[],{samples:o}}}function oa(s,A,r){var t=s.samples.length;if(t){for(var e=s.inputTimeScale,n=0;n<t;n++){var i=s.samples[n];i.pts=es(i.pts-r.baseTime*e/r.timescale,A*e)/e}s.samples.sort(function(o,l){return o.pts-l.pts});var a=s.samples;return s.samples=[],{samples:a}}}var Bs,yo=function(s){function A(t,e,n,i){var a;return(a=s.call(this,"passthrough-remuxer",i)||this).emitInitSegment=!1,a.audioCodec=void 0,a.videoCodec=void 0,a.initData=void 0,a.initPTS=null,a.initTracks=void 0,a.lastEndTime=null,a.isVideoContiguous=!1,a}Kr(A,s);var r=A.prototype;return r.destroy=function(){},r.resetTimeStamp=function(t){this.lastEndTime=null;var e=this.initPTS;e&&t&&e.baseTime===t.baseTime&&e.timescale===t.timescale||(this.initPTS=t)},r.resetNextTimestamp=function(){this.isVideoContiguous=!1,this.lastEndTime=null},r.resetInitSegment=function(t,e,n,i){this.audioCodec=e,this.videoCodec=n,this.generateInitSegment(t,i),this.emitInitSegment=!0},r.generateInitSegment=function(t,e){var n=this.audioCodec,i=this.videoCodec;if(null==t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var a=this.initData=hA(t),o=a.audio,l=a.video;if(e)!function(m,v){if(m&&v){var b=v.keyId;b&&v.isCommonEncryption&&Fr(m,["moov","trak"]).forEach(function(I){var _=Fr(I,["mdia","minf","stbl","stsd"])[0].subarray(8),Q=Fr(_,["enca"]),j=Q.length>0;j||(Q=Fr(_,["encv"])),Q.forEach(function(At){Fr(At.subarray(j?28:78),["sinf"]).forEach(function(yt){var Ot=Vt(yt);if(Ot){var Ft=Ot.subarray(8,24);Ft.some(function(xt){return 0!==xt})||(Yr.log("[eme] Patching keyId in 'enc"+(j?"a":"v")+">sinf>>tenc' box: "+ti(Ft)+" -> "+ti(b)),Ot.set(b,8))}})})})}}(t,e);else{var c=o||l;null!=c&&c.encrypted&&this.warn('Init segment with encrypted track with has no key ("'+c.codec+'")!')}o&&(n=wo(o,Nn,this)),l&&(i=wo(l,ji,this));var f={};o&&l?f.audiovideo={container:"video/mp4",codec:n+","+i,supplemental:l.supplemental,encrypted:l.encrypted,initSegment:t,id:"main"}:o?f.audio={container:"audio/mp4",codec:n,encrypted:o.encrypted,initSegment:t,id:"audio"}:l?f.video={container:"video/mp4",codec:i,supplemental:l.supplemental,encrypted:l.encrypted,initSegment:t,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=f},r.remux=function(t,e,n,i,a,o){var l,c,f=this.initPTS,m=this.lastEndTime,v={audio:void 0,video:void 0,text:i,id3:n,initSegment:void 0};ke(m)||(m=this.lastEndTime=a||0);var b=e.samples;if(!b.length)return v;var I={initPTS:void 0,timescale:void 0,trackId:void 0},_=this.initData;if(null!=(l=_)&&l.length||(this.generateInitSegment(b),_=this.initData),null==(c=_)||!c.length)return this.warn("Failed to generate initSegment."),v;this.emitInitSegment&&(I.tracks=this.initTracks,this.emitInitSegment=!1);var Q=function(qr,si,In){for(var Mr={},Ri=Fr(qr,["moof","traf"]),dn=0;dn<Ri.length;dn++){var Vn=Ri[dn],Wr=Fr(Vn,["tfhd"])[0],ai=vr(Wr,4),AA=si[ai];if(AA){Mr[ai]||(Mr[ai]={start:NaN,duration:0,sampleCount:0,timescale:AA.timescale,type:AA.type});var Un=Mr[ai],Bn=Fr(Vn,["tfdt"])[0];if(Bn){var fA=Bn[0],qn=vr(Bn,4);1===fA&&(qn===RA?In.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(qn*=RA+1,qn+=vr(Bn,8))),ke(qn)&&(!ke(Un.start)||qn<Un.start)&&(Un.start=qn)}var Jr=AA.default,DA=vr(Wr,0)|Jr?.flags,on=Jr?.duration||0;8&DA&&(on=vr(Wr,2&DA?12:8));for(var Bi=Fr(Vn,["trun"]),ni=Un.start||0,Pi=0,Hi=on,LA=0;LA<Bi.length;LA++){var Wn=Bi[LA],gA=vr(Wn,4),cs=Un.sampleCount;Un.sampleCount+=gA;var ws=1&Wn[2],QA=2&Wn[2],ss=4&Wn[2],sA=8&Wn[2],Xi=8,ii=gA;for(1&Wn[3]&&(Xi+=4),4&Wn[3]&&gA&&(1&Wn[Xi+1]||void 0!==Un.keyFrameIndex||(Un.keyFrameIndex=cs),Xi+=4,ws?(Hi=vr(Wn,Xi),Xi+=4):Hi=on,QA&&(Xi+=4),sA&&(Xi+=4),ni+=Hi,Pi+=Hi,ii--);ii--;)ws?(Hi=vr(Wn,Xi),Xi+=4):Hi=on,QA&&(Xi+=4),ss&&(1&Wn[Xi+1]||void 0===Un.keyFrameIndex&&(Un.keyFrameIndex=Un.sampleCount-(ii+1),Un.keyFrameStart=ni),Xi+=4),sA&&(Xi+=4),ni+=Hi,Pi+=Hi;!Pi&&on&&(Pi+=on*gA)}Un.duration+=Pi}}if(!Object.keys(Mr).some(function(ds){return Mr[ds].duration})){for(var Ui=1/0,bi=0,Ps=Fr(qr,["sidx"]),ma=0;ma<Ps.length;ma++){var JA=vA(Ps[ma]);if(null!=JA&&JA.references){Ui=Math.min(Ui,JA.earliestPresentationTime/JA.timescale);var Ys=JA.references.reduce(function(ds,gl){return ds+gl.info.duration||0},0);bi=Math.max(bi,Ys+JA.earliestPresentationTime/JA.timescale)}}bi&&ke(bi)&&Object.keys(Mr).forEach(function(ds){Mr[ds].duration||(Mr[ds].duration=bi*Mr[ds].timescale-Mr[ds].start)})}return Mr}(b,_,this),j=_.audio?Q[_.audio.id]:null,At=_.video?Q[_.video.id]:null,yt=Ca(At,1/0),Ot=Ca(j,1/0),Ft=Ca(At,0,!0),xt=Ca(j,0,!0),Wt=a,Pt=0,Gt=j&&(!At||!f&&Ot<yt||f&&f.trackId===_.audio.id),he=Gt?j:At;if(he){var ye=he.timescale,He=he.start-a*ye,je=Gt?_.audio.id:_.video.id;Wt=he.start/ye,Pt=Gt?xt-Ot:Ft-yt,!o&&f||!function(qr,si,In,Mr){if(null===qr)return!0;var Ri=Math.max(Mr,1);return Math.abs(si-qr.baseTime/qr.timescale-In)>Ri}(f,Wt,a,Pt)&&ye===f.timescale||(f&&this.warn("Timestamps at playlist time: "+(o?"":"~")+a+" "+He/ye+" != initPTS: "+f.baseTime/f.timescale+" ("+f.baseTime+"/"+f.timescale+") trackId: "+f.trackId),this.log("Found initPTS at playlist time: "+a+" offset: "+(Wt-a)+" ("+He+"/"+ye+") trackId: "+je),f=null,I.initPTS=He,I.timescale=ye,I.trackId=je)}else this.warn("No audio or video samples found for initPTS at playlist time: "+a);f?(I.initPTS=f.baseTime,I.timescale=f.timescale,I.trackId=f.trackId):(I.timescale&&void 0!==I.trackId&&void 0!==I.initPTS||(this.warn("Could not set initPTS"),I.initPTS=Wt,I.timescale=1,I.trackId=-1),this.initPTS=f={baseTime:I.initPTS,timescale:I.timescale,trackId:I.trackId});var Re=Wt-f.baseTime/f.timescale,Ze=Re+Pt;Pt>0?this.lastEndTime=Ze:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var Ge=!!_.audio,tr=!!_.video,Or="";Ge&&(Or+="audio"),tr&&(Or+="video");var sr={data1:b,startPTS:Re,startDTS:Re,endPTS:Ze,endDTS:Ze,type:Or,hasAudio:Ge,hasVideo:tr,nb:1,dropped:0,encrypted:!!_.audio&&_.audio.encrypted||!!_.video&&_.video.encrypted};v.audio=Ge&&!tr?sr:void 0,v.video=tr?sr:void 0;var Cr=At?.sampleCount;if(Cr){var an=At.keyFrameIndex,gn=-1!==an;sr.nb=Cr,sr.dropped=0===an||this.isVideoContiguous?0:gn?an:Cr,sr.independent=gn,sr.firstKeyFrame=an,gn&&At.keyFrameStart&&(sr.firstKeyFramePTS=(At.keyFrameStart-f.baseTime)/f.timescale),this.isVideoContiguous||(v.independent=gn),this.isVideoContiguous||(this.isVideoContiguous=gn),sr.dropped&&this.warn("fmp4 does not start with IDR: firstIDR "+an+"/"+Cr+" dropped: "+sr.dropped+" start: "+(sr.firstKeyFramePTS||"NA"))}return v.initSegment=I,v.id3=vo(n,a,f,f),i.samples.length&&(v.text=oa(i,a,f)),v},A}(mi);function Ca(s,A,r){return void 0===r&&(r=!1),void 0!==s?.start?(s.start+(r?s.duration:0))/s.timescale:A}function wo(s,A,r){var t=s.codec;return t&&t.length>4?t:A===Nn?"ec-3"===t||"ac-3"===t||"alac"===t?t:"fLaC"===t||"Opus"===t?dt(t,!1):(r.warn('Unhandled audio codec "'+t+'" in mp4 MAP'),t||"mp4a"):(r.warn('Unhandled video codec "'+t+'" in mp4 MAP'),t||"avc1")}try{Bs=self.performance.now.bind(self.performance)}catch{Bs=Date.now}var la=[{demux:ho,remux:yo},{demux:wa,remux:aa},{demux:va,remux:aa},{demux:uo,remux:aa}];la.splice(2,0,{demux:lo,remux:aa});var Ds=function(){function s(r,t,e,n,i,a){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=r,this.typeSupported=t,this.config=e,this.id=i,this.logger=a}var A=s.prototype;return A.configure=function(r){this.transmuxConfig=r,this.decrypter&&this.decrypter.reset()},A.push=function(r,t,e,n){var i=this,a=e.transmuxing;a.executeStart=Bs();var o=new Uint8Array(r),l=this.currentTransmuxState,c=this.transmuxConfig;n&&(this.currentTransmuxState=n);var Ge,tr,f=n||l,m=f.contiguous,v=f.discontinuity,b=f.trackSwitch,I=f.accurateTimeOffset,_=f.timeOffset,Q=f.initSegmentChange,j=c.audioCodec,At=c.videoCodec,yt=c.defaultInitPts,Ot=c.duration,Ft=c.initSegmentData,xt=(Ge=t,tr=null,o.byteLength>0&&null!=Ge?.key&&null!==Ge.iv&&null!=Ge.method&&(tr=Ge),tr);if(xt&&ar(xt.method)){var Wt=this.getDecrypter(),Pt=xr(xt.method);if(!Wt.isSync())return this.asyncResult=!0,this.decryptionPromise=Wt.webCryptoDecrypt(o,xt.key.buffer,xt.iv.buffer,Pt).then(function(Ze){var Ge=i.push(Ze,null,e);return i.decryptionPromise=null,Ge}),this.decryptionPromise;var Gt=Wt.softwareDecrypt(o,xt.key.buffer,xt.iv.buffer,Pt);if(e.part>-1){var he=Wt.flush();Gt=he&&he.buffer}if(!Gt)return a.executeEnd=Bs(),ua(e);o=new Uint8Array(Gt)}var ye=this.needsProbing(v,b);if(ye){var He=this.configureTransmuxer(o);if(He)return this.logger.warn("[transmuxer] "+He.message),this.observer.emit(D.ERROR,D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.FRAG_PARSING_ERROR,fatal:!1,error:He,reason:He.message}),a.executeEnd=Bs(),ua(e)}(v||b||Q||ye)&&this.resetInitSegment(Ft,j,At,Ot,t),(v||Q||ye)&&this.resetInitialTimestamp(yt),m||this.resetContiguity();var je=this.transmux(o,xt,_,I,e);this.asyncResult=bs(je);var Re=this.currentTransmuxState;return Re.contiguous=!0,Re.discontinuity=!1,Re.trackSwitch=!1,a.executeEnd=Bs(),je},A.flush=function(r){var t=this,e=r.transmuxing;e.executeStart=Bs();var n=this.decrypter,i=this.currentTransmuxState,a=this.decryptionPromise;if(a)return this.asyncResult=!0,a.then(function(){return t.flush(r)});var o=[],l=i.timeOffset;if(n){var c=n.flush();c&&o.push(this.push(c.buffer,null,r))}var f=this.demuxer;if(!f||!this.remuxer){e.executeEnd=Bs();var v=[ua(r)];return this.asyncResult?Promise.resolve(v):v}var b=f.flush(l);return bs(b)?(this.asyncResult=!0,b.then(function(I){return t.flushRemux(o,I,r),o})):(this.flushRemux(o,b,r),this.asyncResult?Promise.resolve(o):o)},A.flushRemux=function(r,t,e){var n=t.audioTrack,i=t.videoTrack,a=t.id3Track,o=t.textTrack,l=this.currentTransmuxState,c=l.accurateTimeOffset,f=l.timeOffset;this.logger.log("[transmuxer.ts]: Flushed "+this.id+" sn: "+e.sn+(e.part>-1?" part: "+e.part:"")+" of "+(this.id===Sr?"level":"track")+" "+e.level);var m=this.remuxer.remux(n,i,a,o,f,c,!0,this.id);r.push({remuxResult:m,chunkMeta:e}),e.transmuxing.executeEnd=Bs()},A.resetInitialTimestamp=function(r){var t=this.demuxer,e=this.remuxer;t&&e&&(t.resetTimeStamp(r),e.resetTimeStamp(r))},A.resetContiguity=function(){var r=this.demuxer,t=this.remuxer;r&&t&&(r.resetContiguity(),t.resetNextTimestamp())},A.resetInitSegment=function(r,t,e,n,i){var a=this.demuxer,o=this.remuxer;a&&o&&(a.resetInitSegment(r,t,e,n),o.resetInitSegment(r,t,e,i))},A.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},A.transmux=function(r,t,e,n,i){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(r,t,e,n,i):this.transmuxUnencrypted(r,e,n,i)},A.transmuxUnencrypted=function(r,t,e,n){var i=this.demuxer.demux(r,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(i.audioTrack,i.videoTrack,i.id3Track,i.textTrack,t,e,!1,this.id),chunkMeta:n}},A.transmuxSampleAes=function(r,t,e,n,i){var a=this;return this.demuxer.demuxSampleAes(r,t,e).then(function(o){return{remuxResult:a.remuxer.remux(o.audioTrack,o.videoTrack,o.id3Track,o.textTrack,e,n,!1,a.id),chunkMeta:i}})},A.configureTransmuxer=function(r){for(var t,e=this.config,n=this.observer,i=this.typeSupported,a=0,o=la.length;a<o;a++){var l;if(null!=(l=la[a].demux)&&l.probe(r,this.logger)){t=la[a];break}}if(!t)return new Error("Failed to find demuxer by probing fragment data");var c=this.demuxer,f=this.remuxer,m=t.remux,v=t.demux;f&&f instanceof m||(this.remuxer=new m(n,e,i,this.logger)),c&&c instanceof v||(this.demuxer=new v(n,e,i,this.logger),this.probe=v.probe)},A.needsProbing=function(r,t){return!this.demuxer||!this.remuxer||r||t},A.getDecrypter=function(){var r=this.decrypter;return r||(r=this.decrypter=new vi(this.config)),r},s}(),ua=function(s){return{remuxResult:{},chunkMeta:s}};function bs(s){return"then"in s&&s.then instanceof Function}var Ko=function(s,A,r,t,e){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=s,this.videoCodec=A,this.initSegmentData=r,this.duration=t,this.defaultInitPts=e||null},Go=function(s,A,r,t,e,n){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=s,this.contiguous=A,this.accurateTimeOffset=r,this.trackSwitch=t,this.timeOffset=e,this.initSegmentChange=n},Va=[];function La(s,A,r){if(!((t=A.remuxResult).audio||t.video||t.text||t.id3||t.initSegment))return!1;var t,e=[],n=A.remuxResult,i=n.audio,a=n.video;return i&&Sa(e,i),a&&Sa(e,a),s.postMessage({event:"transmuxComplete",data:A,instanceNo:r},e),!0}function Sa(s,A){A.data1&&s.push(A.data1.buffer),A.data2&&s.push(A.data2.buffer)}function qa(s,A,r,t){A.reduce(function(e,n){return La(s,n,t)||e},!1)||s.postMessage({event:"transmuxComplete",data:A[0],instanceNo:t}),s.postMessage({event:"flush",data:r,instanceNo:t})}function Qs(s,A,r){self.postMessage({event:s,data:A,instanceNo:r})}void 0!==Hr&&Hr&&self.addEventListener("message",function(s){var A=s.data,r=A.instanceNo;if(void 0!==r){var t=Va[r];if("reset"===A.cmd&&(delete Va[A.resetNo],t&&t.destroy(),A.cmd="init"),"init"===A.cmd){var e=JSON.parse(A.config),n=new zi;n.on(D.FRAG_DECRYPTED,Qs),n.on(D.ERROR,Qs);var i=ur(e.debug,A.id);return function(c,f){var m=function(b){c[b]=function(){var I=Array.prototype.join.call(arguments," ");Qs("workerLog",{logType:b,message:I},f)}};for(var v in c)m(v)}(i,r),Va[r]=new Ds(n,A.typeSupported,e,"",A.id,i),void Qs("init",null,r)}if(t)switch(A.cmd){case"configure":t.configure(A.config);break;case"demux":var a=t.push(A.data,A.decryptdata,A.chunkMeta,A.state);bs(a)?a.then(function(c){La(self,c,r)}).catch(function(c){Qs(D.ERROR,{instanceNo:r,type:Ve.MEDIA_ERROR,details:Ht.FRAG_PARSING_ERROR,chunkMeta:A.chunkMeta,fatal:!1,error:c,err:c,reason:"transmuxer-worker push error"},r)}):La(self,a,r);break;case"flush":var o=A.chunkMeta,l=t.flush(o);bs(l)?l.then(function(c){qa(self,c,o,r)}).catch(function(c){Qs(D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.FRAG_PARSING_ERROR,chunkMeta:A.chunkMeta,fatal:!1,error:c,err:c,reason:"transmuxer-worker flush error"},r)}):qa(self,l,o,r)}}});var Zs="1.6.10",Is={},ca=0,Wa=function(){function s(r,t,e,n){var i=this;this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=ca++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=function(m){var v=m.data,b=i.hls;if(b&&null!=v&&v.event&&v.instanceNo===i.instanceNo)switch(v.event){case"init":var I,_=null==(I=i.workerContext)?void 0:I.objectURL;_&&self.URL.revokeObjectURL(_);break;case"transmuxComplete":i.handleTransmuxComplete(v.data);break;case"flush":i.onFlush(v.data);break;case"workerLog":b.logger[v.data.logType]&&b.logger[v.data.logType](v.data.message);break;default:v.data=v.data||{},v.data.frag=i.frag,v.data.part=i.part,v.data.id=i.id,b.trigger(v.event,v.data)}},this.onWorkerError=function(m){if(i.hls){var v=new Error(m.message+"  ("+m.filename+":"+m.lineno+")");i.hls.config.enableWorker=!1,i.hls.logger.warn('Error in "'+i.id+'" Web Worker, fallback to inline'),i.hls.trigger(D.ERROR,{type:Ve.OTHER_ERROR,details:Ht.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:v})}};var a=r.config;this.hls=r,this.id=t,this.useWorker=!!a.enableWorker,this.onTransmuxComplete=e,this.onFlush=n;var o=function(m,v){(v=v||{}).frag=i.frag||void 0,m===D.ERROR&&(v.parent=i.id,v.part=i.part,i.error=v.error),i.hls.trigger(m,v)};this.observer=new zi,this.observer.on(D.FRAG_DECRYPTED,o),this.observer.on(D.ERROR,o);var l=G(a.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){var c=this.hls.logger;try{a.workerPath?(c.log("loading Web Worker "+a.workerPath+' for "'+t+'"'),this.workerContext=function(m){var v=Is[m];if(v)return v.clientCount++,v;var b=new self.URL(m,self.location.href).href,I={worker:new self.Worker(b),scriptURL:b,clientCount:1};return Is[m]=I,I}(a.workerPath)):(c.log('injecting Web Worker for "'+t+'"'),this.workerContext=function(){var m=Is[Zs];if(m)return m.clientCount++,m;var v=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;("+Me.toString()+")(true);"],{type:"text/javascript"}),b=self.URL.createObjectURL(v),I={worker:new self.Worker(b),objectURL:b,clientCount:1};return Is[Zs]=I,I}());var f=this.workerContext.worker;f.addEventListener("message",this.onWorkerMessage),f.addEventListener("error",this.onWorkerError),f.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:l,id:t,config:mt(a)})}catch(m){c.warn('Error setting up "'+t+'" Web Worker, fallback to inline',m),this.terminateWorker(),this.error=null,this.transmuxer=new Ds(this.observer,l,a,"",t,r.logger)}}else this.transmuxer=new Ds(this.observer,l,a,"",t,r.logger)}var A=s.prototype;return A.reset=function(){if(this.frag=null,this.part=null,this.workerContext){var r=this.instanceNo;this.instanceNo=ca++;var t=this.hls.config,e=G(t.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:r,typeSupported:e,id:this.id,config:mt(t)})}},A.terminateWorker=function(){if(this.workerContext){var r=this.workerContext.worker;this.workerContext=null,r.removeEventListener("message",this.onWorkerMessage),r.removeEventListener("error",this.onWorkerError),function(t){var e=Is[t||Zs];if(e&&1==e.clientCount--){var n=e.worker,i=e.objectURL;delete Is[t||Zs],i&&self.URL.revokeObjectURL(i),n.terminate()}}(this.hls.config.workerPath)}},A.destroy=function(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{var r=this.transmuxer;r&&(r.destroy(),this.transmuxer=null)}var t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null},A.push=function(r,t,e,n,i,a,o,l,c,f){var m,v,b=this;c.transmuxing.start=self.performance.now();var I=this.instanceNo,_=this.transmuxer,Q=a?a.start:i.start,j=i.decryptdata,At=this.frag,yt=!(At&&i.cc===At.cc),Ot=!(At&&c.level===At.level),Ft=At?c.sn-At.sn:-1,xt=this.part?c.part-this.part.index:-1,Pt=!Ot&&(1===Ft||0===Ft&&(1===xt||0===Ft&&c.id>1&&c.id===At?.stats.chunkCount&&xt<=0)),Gt=self.performance.now();(Ot||Ft||0===i.stats.parsing.start)&&(i.stats.parsing.start=Gt),!a||!xt&&Pt||(a.stats.parsing.start=Gt);var he=!(At&&(null==(m=i.initSegment)?void 0:m.url)===(null==(v=At.initSegment)?void 0:v.url)),ye=new Go(yt,Pt,l,Ot,Q,he);if(!Pt||yt||he){this.hls.logger.log("[transmuxer-interface]: Starting new transmux session for "+i.type+" sn: "+c.sn+(c.part>-1?" part: "+c.part:"")+" "+(this.id===Sr?"level":"track")+": "+c.level+" id: "+c.id+"\n        discontinuity: "+yt+"\n        trackSwitch: "+Ot+"\n        contiguous: "+Pt+"\n        accurateTimeOffset: "+l+"\n        timeOffset: "+Q+"\n        initSegmentChange: "+he);var He=new Ko(e,n,t,o,f);this.configureTransmuxer(He)}if(this.frag=i,this.part=a,this.workerContext)this.workerContext.worker.postMessage({instanceNo:I,cmd:"demux",data:r,decryptdata:j,chunkMeta:c,state:ye},r instanceof ArrayBuffer?[r]:[]);else if(_){var je=_.push(r,j,c,ye);bs(je)?je.then(function(Re){b.handleTransmuxComplete(Re)}).catch(function(Re){b.transmuxerError(Re,c,"transmuxer-interface push error")}):this.handleTransmuxComplete(je)}},A.flush=function(r){var t=this;r.transmuxing.start=self.performance.now();var n=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"flush",chunkMeta:r});else if(n){var i=n.flush(r);bs(i)?i.then(function(a){t.handleFlushResult(a,r)}).catch(function(a){t.transmuxerError(a,r,"transmuxer-interface flush error")}):this.handleFlushResult(i,r)}},A.transmuxerError=function(r,t,e){this.hls&&(this.error=r,this.hls.trigger(D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:r,err:r,reason:e}))},A.handleFlushResult=function(r,t){var e=this;r.forEach(function(n){e.handleTransmuxComplete(n)}),this.onFlush(t)},A.configureTransmuxer=function(r){var e=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"configure",config:r}):e&&e.configure(r)},A.handleTransmuxComplete=function(r){r.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(r)},s}(),jo=function(s){function A(t,e,n){var i;return(i=s.call(this,t,e,n,"audio-stream-controller",$n)||this).mainAnchor=null,i.mainFragLoading=null,i.audioOnly=!1,i.bufferedTrack=null,i.switchingTrack=null,i.trackId=-1,i.waitingData=null,i.mainDetails=null,i.flushing=!1,i.bufferFlushed=!1,i.cachedTrackLoadedData=null,i.registerListeners(),i}Kr(A,s);var r=A.prototype;return r.onHandlerDestroying=function(){this.unregisterListeners(),s.prototype.onHandlerDestroying.call(this),this.resetItem()},r.resetItem=function(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null},r.registerListeners=function(){s.prototype.registerListeners.call(this);var t=this.hls;t.on(D.LEVEL_LOADED,this.onLevelLoaded,this),t.on(D.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(D.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(D.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(D.BUFFER_RESET,this.onBufferReset,this),t.on(D.BUFFER_CREATED,this.onBufferCreated,this),t.on(D.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(D.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(D.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(D.FRAG_LOADING,this.onFragLoading,this),t.on(D.FRAG_BUFFERED,this.onFragBuffered,this)},r.unregisterListeners=function(){var t=this.hls;t&&(s.prototype.unregisterListeners.call(this),t.off(D.LEVEL_LOADED,this.onLevelLoaded,this),t.off(D.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(D.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(D.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(D.BUFFER_RESET,this.onBufferReset,this),t.off(D.BUFFER_CREATED,this.onBufferCreated,this),t.off(D.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(D.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(D.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(D.FRAG_LOADING,this.onFragLoading,this),t.off(D.FRAG_BUFFERED,this.onFragBuffered,this))},r.onInitPtsFound=function(t,e){var n=e.frag,a=e.initPTS,o=e.timescale,l=e.trackId;if(e.id===Sr){var c=n.cc,f=this.fragCurrent;if(this.initPTS[c]={baseTime:a,timescale:o,trackId:l},this.log("InitPTS for cc: "+c+" found from main: "+a/o+" ("+a+"/"+o+") trackId: "+l),this.mainAnchor=n,this.state===ae.WAITING_INIT_PTS){var m=this.waitingData;(!m&&!this.loadingParts||m&&m.frag.cc!==c)&&this.syncWithAnchor(n,m?.frag)}else!this.hls.hasEnoughToStart&&f&&f.cc!==c?(f.abortRequests(),this.syncWithAnchor(n,f)):this.state===ae.IDLE&&this.tick()}},r.getLoadPosition=function(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:s.prototype.getLoadPosition.call(this)},r.syncWithAnchor=function(t,e){var n,i=(null==(n=this.mainFragLoading)?void 0:n.frag)||null;if(!e||i?.cc!==e.cc){var a=(i||t).cc,o=we(this.getLevelDetails(),a,this.getLoadPosition());o&&(this.log("Syncing with main frag at "+o.start+" cc "+o.cc),this.startFragRequested=!1,this.nextLoadPosition=o.start,this.resetLoadingState(),this.state===ae.IDLE&&this.doTickIdle())}},r.startLoad=function(t,e){if(!this.levels)return this.startPosition=t,void(this.state=ae.STOPPED);var n=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),n>0&&-1===t?(this.log("Override startPosition with lastCurrentTime @"+n.toFixed(3)),t=n,this.state=ae.IDLE):this.state=ae.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=e?-1:t,this.tick()},r.doTick=function(){switch(this.state){case ae.IDLE:this.doTickIdle();break;case ae.WAITING_TRACK:var n=this.levels?.[this.trackId],i=n?.details;if(i&&!this.waitForLive(n)){if(this.waitForCdnTuneIn(i))break;this.state=ae.WAITING_INIT_PTS}break;case ae.FRAG_LOADING_WAITING_RETRY:var a,o=performance.now(),l=this.retryDate;if(!l||o>=l||null!=(a=this.media)&&a.seeking){var c=this.levels,f=this.trackId;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(c?.[f]||null),this.state=ae.IDLE}break;case ae.WAITING_INIT_PTS:var m=this.waitingData;if(m){var v=m.frag,b=m.part,I=m.cache,_=m.complete,Q=this.mainAnchor;if(void 0!==this.initPTS[v.cc]){this.waitingData=null,this.state=ae.FRAG_LOADING;var j={frag:v,part:b,payload:I.flush().buffer,networkDetails:null};this._handleFragmentLoadProgress(j),_&&s.prototype._handleFragmentLoadComplete.call(this,j)}else Q&&Q.cc!==m.frag.cc&&this.syncWithAnchor(Q,m.frag)}else this.state=ae.IDLE}this.onTickEnd()},r.resetLoadingState=function(){var t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null),s.prototype.resetLoadingState.call(this)},r.onTickEnd=function(){var t=this.media;null!=t&&t.readyState&&(this.lastCurrentTime=t.currentTime)},r.doTickIdle=function(){var t,e=this.hls,n=this.levels,i=this.media,a=this.trackId;if(this.buffering&&(i||this.primaryPrefetch||!this.startFragRequested&&e.config.startFragPrefetch)&&null!=n&&n[a]){var l=n[a],c=l.details;if(!c||this.waitForLive(l)||this.waitForCdnTuneIn(c))return this.state=ae.WAITING_TRACK,void(this.startFragRequested=!1);var f=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&f&&(this.bufferFlushed=!1,this.afterBufferFlushed(f,Nn,$n));var m=this.getFwdBufferInfo(f,$n);if(null!==m){if(!this.switchingTrack&&this._streamEnded(m,c))return e.trigger(D.BUFFER_EOS,{type:"audio"}),void(this.state=ae.ENDED);var v=m.len,b=e.maxBufferLength,I=c.fragments,_=I[0].start,Q=this.getLoadPosition(),j=this.flushing?Q:m.end;if(this.switchingTrack&&i&&c.PTSKnown&&Q<_&&(m.end>_||m.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=_+.05),!(v>=b&&!this.switchingTrack&&j<I[I.length-1].start)){var yt=this.getNextFragment(j,c);if(yt&&this.isLoopLoading(yt,j)&&(yt=this.getNextFragmentLoopLoading(yt,c,m,Sr,b)),yt){var Ot=(null==(t=this.mainFragLoading)?void 0:t.frag)||null;if(!this.audioOnly&&this.startFragRequested&&Ot&&Cn(yt)&&!yt.endList&&(!c.live||!this.loadingParts&&j<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(Ot)===pr&&(this.mainFragLoading=Ot=null),Ot&&Cn(Ot))){if(yt.start>Ot.end){var Ft=this.fragmentTracker.getFragAtPos(j,Sr);Ft&&Ft.end>Ot.end&&(Ot=Ft,this.mainFragLoading={frag:Ft,targetBufferTime:null})}if(yt.start>Ot.end)return}this.loadFragment(yt,l,j)}else this.bufferFlushed=!0}}}},r.onMediaDetaching=function(t,e){this.bufferFlushed=this.flushing=!1,s.prototype.onMediaDetaching.call(this,t,e)},r.onAudioTracksUpdated=function(t,e){var n=e.audioTracks;this.resetTransmuxer(),this.levels=n.map(function(i){return new st(i)})},r.onAudioTrackSwitching=function(t,e){var n=!!e.url;this.trackId=e.id;var i=this.fragCurrent;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),n?(this.switchingTrack=e,this.flushAudioIfNeeded(e),this.state!==ae.STOPPED&&(this.setInterval(100),this.state=ae.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=e,this.clearInterval())},r.onManifestLoading=function(){s.prototype.onManifestLoading.call(this),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1},r.onLevelLoaded=function(t,e){this.mainDetails=e.details;var n=this.cachedTrackLoadedData;n&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(D.AUDIO_TRACK_LOADED,n))},r.onAudioTrackLoaded=function(t,e){var n,i=this.levels,a=e.details,o=e.id,l=e.groupId,c=e.track;if(i){var f=this.mainDetails;if(!f||a.endCC>f.endCC||f.expired)return this.cachedTrackLoadedData=e,void(this.state!==ae.STOPPED&&(this.state=ae.WAITING_TRACK));this.cachedTrackLoadedData=null,this.log("Audio track "+o+' "'+c.name+'" of "'+l+'" loaded ['+a.startSN+","+a.endSN+"]"+(a.lastPartSn?"[part-"+a.lastPartSn+"-"+a.lastPartIndex+"]":"")+",duration:"+a.totalduration);var m=i[o],v=0;if(a.live||null!=(n=m.details)&&n.live){if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;var b;m.details&&(v=this.alignPlaylists(a,m.details,null==(b=this.levelLastLoaded)?void 0:b.details)),a.alignedSliding||(Be(a,f),a.alignedSliding||rr(a,f),v=a.fragmentStart)}m.details=a,this.levelLastLoaded=m,this.startFragRequested||this.setStartPosition(f,v),this.hls.trigger(D.AUDIO_TRACK_UPDATED,{details:a,id:o,groupId:e.groupId}),this.state!==ae.WAITING_TRACK||this.waitForCdnTuneIn(a)||(this.state=ae.IDLE),this.tick()}else this.warn("Audio tracks reset while loading track "+o+' "'+c.name+'" of "'+l+'"')},r._handleFragmentLoadProgress=function(t){var e,n=t.frag,i=t.part,a=t.payload,o=this.config,l=this.trackId,c=this.levels;if(c){var f=c[l];if(f){var m=f.details;if(!m)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);var v=o.defaultAudioCodec||f.audioCodec||"mp4a.40.2",b=this.transmuxer;b||(b=this.transmuxer=new Wa(this.hls,$n,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var I=this.initPTS[n.cc],_=null==(e=n.initSegment)?void 0:e.data;if(void 0!==I){var Q=i?i.index:-1,At=new h(n.level,n.sn,n.stats.chunkCount,a.byteLength,Q,-1!==Q);b.push(a,_,v,"",n,i,m.totalduration,!1,At,I)}else this.log("Unknown video PTS for cc "+n.cc+", waiting for video PTS before demuxing audio frag "+n.sn+" of ["+m.startSN+" ,"+m.endSN+"],track "+l),(this.waitingData=this.waitingData||{frag:n,part:i,cache:new _r,complete:!1}).cache.push(new Uint8Array(a)),this.state!==ae.STOPPED&&(this.state=ae.WAITING_INIT_PTS)}else this.warn("Audio track is undefined on fragment load progress")}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},r._handleFragmentLoadComplete=function(t){this.waitingData?this.waitingData.complete=!0:s.prototype._handleFragmentLoadComplete.call(this,t)},r.onBufferReset=function(){this.mediaBuffer=null},r.onBufferCreated=function(t,e){this.bufferFlushed=this.flushing=!1;var n=e.tracks.audio;n&&(this.mediaBuffer=n.buffer||null)},r.onFragLoading=function(t,e){!this.audioOnly&&e.frag.type===Sr&&Cn(e.frag)&&(this.mainFragLoading=e,this.state===ae.IDLE&&this.tick())},r.onFragBuffered=function(t,e){var n=e.frag,i=e.part;if(n.type===$n)if(this.fragContextChanged(n))this.warn("Fragment "+n.sn+(i?" p: "+i.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+(this.switchingTrack?this.switchingTrack.name:"false"));else{if(Cn(n)){this.fragPrevious=n;var a=this.switchingTrack;a&&(this.bufferedTrack=a,this.switchingTrack=null,this.hls.trigger(D.AUDIO_TRACK_SWITCHED,tn({},a)))}this.fragBufferedComplete(n,i),this.media&&this.tick()}else this.audioOnly||n.type!==Sr||n.elementaryStreams.video||n.elementaryStreams.audiovideo||(this.audioOnly=!0,this.mainFragLoading=null)},r.onError=function(t,e){var n;if(e.fatal)this.state=ae.ERROR;else switch(e.details){case Ht.FRAG_GAP:case Ht.FRAG_PARSING_ERROR:case Ht.FRAG_DECRYPT_ERROR:case Ht.FRAG_LOAD_ERROR:case Ht.FRAG_LOAD_TIMEOUT:case Ht.KEY_LOAD_ERROR:case Ht.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError($n,e);break;case Ht.AUDIO_TRACK_LOAD_ERROR:case Ht.AUDIO_TRACK_LOAD_TIMEOUT:case Ht.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==ae.WAITING_TRACK||(null==(n=e.context)?void 0:n.type)!==Fn||(this.state=ae.IDLE);break;case Ht.BUFFER_ADD_CODEC_ERROR:case Ht.BUFFER_APPEND_ERROR:if("audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)||this.resetLoadingState();break;case Ht.BUFFER_FULL_ERROR:if("audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,s.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio"));break;case Ht.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}},r.onBufferFlushing=function(t,e){e.type!==ji&&(this.flushing=!0)},r.onBufferFlushed=function(t,e){var n=e.type;if(n!==ji){this.flushing=!1,this.bufferFlushed=!0,this.state===ae.ENDED&&(this.state=ae.IDLE);var i=this.mediaBuffer||this.media;i&&(this.afterBufferFlushed(i,n,$n),this.tick())}},r._handleTransmuxComplete=function(t){var e,n="audio",i=this.hls,a=t.remuxResult,o=t.chunkMeta,l=this.getCurrentContext(o);if(l){var c=l.frag,f=l.part,m=l.level,v=m.details,b=a.audio,I=a.text,_=a.id3,Q=a.initSegment;if(!this.fragContextChanged(c)&&v){if(this.state=ae.PARSING,this.switchingTrack&&b&&this.completeAudioSwitch(this.switchingTrack),null!=Q&&Q.tracks){var j=c.initSegment||c;if(this.unhandledEncryptionError(Q,c))return;this._bufferInitSegment(m,Q.tracks,j,o),i.trigger(D.FRAG_PARSING_INIT_SEGMENT,{frag:j,id:n,tracks:Q.tracks})}if(b){var At=b.startPTS,yt=b.endPTS,Ot=b.startDTS,Ft=b.endDTS;f&&(f.elementaryStreams[Nn]={startPTS:At,endPTS:yt,startDTS:Ot,endDTS:Ft}),c.setElementaryStreamInfo(Nn,At,yt,Ot,Ft),this.bufferFragmentData(b,c,f,o)}if(null!=_&&null!=(e=_.samples)&&e.length){var xt=Lr({id:n,frag:c,details:v},_);i.trigger(D.FRAG_PARSING_METADATA,xt)}if(I){var Wt=Lr({id:n,frag:c,details:v},I);i.trigger(D.FRAG_PARSING_USERDATA,Wt)}}else this.fragmentTracker.removeFragment(c)}else this.resetWhenMissingContext(o)},r._bufferInitSegment=function(t,e,n,i){if(this.state===ae.PARSING&&(e.video&&delete e.video,e.audiovideo&&delete e.audiovideo,e.audio)){var a=e.audio;a.id=$n;var o=t.audioCodec;this.log("Init audio buffer, container:"+a.container+", codecs[level/parsed]=["+o+"/"+a.codec+"]"),o&&1===o.split(",").length&&(a.levelCodec=o),this.hls.trigger(D.BUFFER_CODECS,e);var l=a.initSegment;null!=l&&l.byteLength&&this.hls.trigger(D.BUFFER_APPENDING,{type:"audio",frag:n,part:null,chunkMeta:i,parent:n.type,data:l}),this.tickImmediate()}},r.loadFragment=function(t,e,n){var i,a=this.fragmentTracker.getState(t);if(this.switchingTrack||a===Pr||a===fr)if(Cn(t))if(null!=(i=e.details)&&i.live&&!this.initPTS[t.cc]){this.log("Waiting for video PTS in continuity counter "+t.cc+" of live stream before loading audio fragment "+t.sn+" of level "+this.trackId),this.state=ae.WAITING_INIT_PTS;var o=this.mainDetails;o&&o.fragmentStart!==e.details.fragmentStart&&rr(e.details,o)}else s.prototype.loadFragment.call(this,t,e,n);else this._loadInitSegment(t,e);else this.clearTrackerIfNeeded(t)},r.flushAudioIfNeeded=function(t){if(this.media&&this.bufferedTrack){var e=this.bufferedTrack;S({name:e.name,lang:e.lang,assocLang:e.assocLang,characteristics:e.characteristics,audioCodec:e.audioCodec,channels:e.channels},t,V)||(it(t.url,this.hls)?(this.log("Switching audio track : flushing all audio"),s.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=t)}},r.completeAudioSwitch=function(t){var e=this.hls;this.flushAudioIfNeeded(t),this.bufferedTrack=t,this.switchingTrack=null,e.trigger(D.AUDIO_TRACK_SWITCHED,tn({},t))},A}(Nr),Ms=function(s){function A(t,e){var n;return(n=s.call(this,e,t.logger)||this).hls=void 0,n.canLoad=!1,n.timer=-1,n.hls=t,n}Kr(A,s);var r=A.prototype;return r.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},r.clearTimer=function(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)},r.startLoad=function(){this.canLoad=!0,this.loadPlaylist()},r.stopLoad=function(){this.canLoad=!1,this.clearTimer()},r.switchParams=function(t,e,n){var i=e?.renditionReports;if(i){for(var a=-1,o=0;o<i.length;o++){var l=i[o],c=void 0;try{c=new self.URL(l.URI,e.url).href}catch(_){this.warn("Could not construct new URL for Rendition Report: "+_),c=l.URI||""}if(c===t){a=o;break}c===t.substring(0,c.length)&&(a=o)}if(-1!==a){var f=i[a],m=parseInt(f["LAST-MSN"])||e.lastPartSn,v=parseInt(f["LAST-PART"])||e.lastPartIndex;if(this.hls.config.lowLatencyMode){var b=Math.min(e.age-e.partTarget,e.targetduration);v>=0&&b>e.partTarget&&(v+=1)}var I=n&&qt(n);return new ht(m,v>=0?v:void 0,I)}}},r.loadPlaylist=function(t){this.clearTimer()},r.loadingPlaylist=function(t,e){this.clearTimer()},r.shouldLoadPlaylist=function(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)},r.getUrlWithDirectives=function(t,e){if(e)try{return e.addDirectives(t)}catch(n){this.warn("Could not construct new URL with HLS Delivery Directives: "+n)}return t},r.playlistLoaded=function(t,e,n){var i=e.details,a=e.stats,o=self.performance.now(),l=a.loading.first?Math.max(0,o-a.loading.first):0;i.advancedDateTime=Date.now()-l;var c=this.hls.config.timelineOffset;if(c!==i.appliedTimelineOffset){var f=Math.max(c||0,0);i.appliedTimelineOffset=f,i.fragments.forEach(function(Ze){Ze.setStart(Ze.playlistOffset+f)})}if(i.live||null!=n&&n.live){var m="levelInfo"in e?e.levelInfo:e.track;if(i.reloaded(n),n&&i.fragments.length>0){!function wi(s,A,r){if(s!==A){for(var t,e=null,n=s.fragments,i=n.length-1;i>=0;i--){var a=n[i].initSegment;if(a){e=a;break}}s.fragmentHint&&delete s.fragmentHint.endPTS,function(Q,j,At){for(var yt=j.skippedSegments,Ot=Math.max(Q.startSN,j.startSN)-j.startSN,Ft=(Q.fragmentHint?1:0)+(yt?j.endSN:Math.min(Q.endSN,j.endSN))-j.startSN,xt=j.startSN-Q.startSN,Wt=j.fragmentHint?j.fragments.concat(j.fragmentHint):j.fragments,Pt=Q.fragmentHint?Q.fragments.concat(Q.fragmentHint):Q.fragments,Gt=Ot;Gt<=Ft;Gt++){var he=Pt[xt+Gt],ye=Wt[Gt];if(yt&&!ye&&he&&(ye=j.fragments[Gt]=he),he&&ye){At(he,ye,Gt,Wt);var He=he.relurl;if(He&&ce(He,ye.relurl))return void(j.playlistParsingError=tA("media sequence mismatch "+ye.sn+":",Q,j,0,ye));if(he.cc!==ye.cc)return void(j.playlistParsingError=tA("discontinuity sequence mismatch ("+he.cc+"!="+ye.cc+")",Q,j,0,ye))}}}(s,A,function(Q,j,At,yt){if((!A.startCC||A.skippedSegments)&&j.cc!==Q.cc){for(var Ot=Q.cc-j.cc,Ft=At;Ft<yt.length;Ft++)yt[Ft].cc+=Ot;A.endCC=yt[yt.length-1].cc}ke(Q.startPTS)&&ke(Q.endPTS)&&(j.setStart(j.startPTS=Q.startPTS),j.startDTS=Q.startDTS,j.maxStartPTS=Q.maxStartPTS,j.endPTS=Q.endPTS,j.endDTS=Q.endDTS,j.minEndPTS=Q.minEndPTS,j.setDuration(Q.endPTS-Q.startPTS),j.duration&&(t=j),A.PTSKnown=A.alignedSliding=!0),Q.hasStreams&&(j.elementaryStreams=Q.elementaryStreams),j.loader=Q.loader,Q.hasStats&&(j.stats=Q.stats),Q.initSegment&&(j.initSegment=Q.initSegment,e=Q.initSegment)});var o=A.fragments,l=A.fragmentHint?o.concat(A.fragmentHint):o;if(e&&l.forEach(function(Q){var j;!Q||Q.initSegment&&Q.initSegment.relurl!==(null==(j=e)?void 0:j.relurl)||(Q.initSegment=e)}),A.skippedSegments){if(A.deltaUpdateFailed=o.some(function(Q){return!Q}),A.deltaUpdateFailed){r.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var c=A.skippedSegments;c--;)o.shift();A.startSN=o[0].sn}else{A.canSkipDateRanges&&(A.dateRanges=function(Q,j,At){var yt=j.dateRanges,Ot=j.recentlyRemovedDateranges,Ft=Lr({},Q);Ot&&Ot.forEach(function(Wt){delete Ft[Wt]});var xt=Object.keys(Ft).length;return xt?(Object.keys(yt).forEach(function(Wt){var Pt=Ft[Wt],Gt=new ue(yt[Wt].attr,Pt);Gt.isValid?(Ft[Wt]=Gt,Pt||(Gt.tagOrder+=xt)):At.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+mt(yt[Wt].attr)+'"')}),Ft):yt}(s.dateRanges,A,r));var f=s.fragments.filter(function(Q){return Q.rawProgramDateTime});if(s.hasProgramDateTime&&!A.hasProgramDateTime)for(var m=1;m<l.length;m++)null===l[m].programDateTime&&nn(l[m],l[m-1],f);Rt(f,A)}A.endCC=o[o.length-1].cc}if(!A.startCC){var v,b=fs(s,A.startSN-1);A.startCC=null!=(v=b?.cc)?v:o[0].cc}(function(Q,j,At){if(Q&&j)for(var yt=0,Ot=0,Ft=Q.length;Ot<=Ft;Ot++){var xt=Q[Ot],Wt=j[Ot+yt];xt&&Wt&&xt.index===Wt.index&&xt.fragment.sn===Wt.fragment.sn?At(xt,Wt):yt--}})(s.partList,A.partList,function(Q,j){j.elementaryStreams=Q.elementaryStreams,j.stats=Q.stats}),t?dA(A,t,t.startPTS,t.endPTS,t.startDTS,t.endDTS,r):qA(s,A),o.length&&(A.totalduration=A.edge-o[0].start),A.driftStartTime=s.driftStartTime,A.driftStart=s.driftStart;var I=A.advancedDateTime;if(A.advanced&&I){var _=A.edge;A.driftStart||(A.driftStartTime=I,A.driftStart=_),A.driftEndTime=I,A.driftEnd=_}else A.driftEndTime=s.driftEndTime,A.driftEnd=s.driftEnd,A.advancedDateTime=s.advancedDateTime;-1===A.requestScheduled&&(A.requestScheduled=s.requestScheduled)}}(n,i,this);var v=i.playlistParsingError;if(v){this.warn(v);var I,b=this.hls;if(!b.config.ignorePlaylistParsingErrors)return void b.trigger(D.ERROR,{type:Ve.NETWORK_ERROR,details:Ht.LEVEL_PARSING_ERROR,fatal:!1,url:i.url,error:v,reason:v.message,level:e.level||void 0,parent:null==(I=i.fragments[0])?void 0:I.type,networkDetails:e.networkDetails,stats:a});i.playlistParsingError=null}}-1===i.requestScheduled&&(i.requestScheduled=a.loading.start);var Q,j=this.hls.mainForwardBufferInfo,yt=uA(i,1e3*(i.edge-(j?j.end-j.len:0)));if(i.requestScheduled+yt<o?i.requestScheduled=o:i.requestScheduled+=yt,this.log("live playlist "+t+" "+(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED")),!this.canLoad||!i.live)return;var Ot=void 0,Ft=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var xt=this.hls.config.lowLatencyMode,Wt=i.lastPartSn,Pt=i.endSN,Gt=i.lastPartIndex,he=Wt===Pt;-1!==Gt?he?(Ot=Pt+1,Ft=xt?0:Gt):(Ot=Wt,Ft=xt?Gt+1:i.maxPartIndex):Ot=Pt+1;var ye=i.age,He=ye+i.ageHeader,je=Math.min(He-i.partTarget,1.5*i.targetduration);if(je>0){if(He>3*i.targetduration)this.log("Playlist last advanced "+ye.toFixed(2)+"s ago. Omitting segment and part directives."),Ot=void 0,Ft=void 0;else if(null!=n&&n.tuneInGoal&&He-i.partTarget>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+n.tuneInGoal+" to: "+je+" with playlist age: "+i.age),je=0;else{var Re=Math.floor(je/i.targetduration);Ot+=Re,void 0!==Ft&&(Ft+=Math.round(je%i.targetduration/i.partTarget)),this.log("CDN Tune-in age: "+i.ageHeader+"s last advanced "+ye.toFixed(2)+"s goal: "+je+" skip sn "+Re+" to part "+Ft)}i.tuneInGoal=je}if(Q=this.getDeliveryDirectives(i,e.deliveryDirectives,Ot,Ft),xt||!he)return i.requestScheduled=o,void this.loadingPlaylist(m,Q)}else(i.canBlockReload||i.canSkipUntil)&&(Q=this.getDeliveryDirectives(i,e.deliveryDirectives,Ot,Ft));Q&&void 0!==Ot&&i.canBlockReload&&(i.requestScheduled=a.loading.first+Math.max(yt-2*l,yt/2)),this.scheduleLoading(m,Q,i)}else this.clearTimer()},r.scheduleLoading=function(t,e,n){var i=this,a=n||t.details;if(a){var o=self.performance.now(),l=a.requestScheduled;if(o>=l)this.loadingPlaylist(t,e);else{var c=l-o;this.log("reload live playlist "+(t.name||t.bitrate+"bps")+" in "+Math.round(c)+" ms"),this.clearTimer(),this.timer=self.setTimeout(function(){return i.loadingPlaylist(t,e)},c)}}else this.loadingPlaylist(t,e)},r.getDeliveryDirectives=function(t,e,n,i){var a=qt(t);return null!=e&&e.skip&&t.deltaUpdateFailed&&(n=e.msn,i=e.part,a=ne),new ht(n,i,a)},r.checkRetry=function(t){var e=this,n=t.details,i=Jt(t),a=t.errorAction,o=a||{},l=o.action,c=o.retryCount,f=void 0===c?0:c,m=o.retryConfig,v=!!a&&!!m&&(5===l||!a.resolved&&2===l);if(v){var b;if(f>=m.maxNumRetry)return!1;if(i&&null!=(b=t.context)&&b.deliveryDirectives)this.warn("Retrying playlist loading "+(f+1)+"/"+m.maxNumRetry+' after "'+n+'" without delivery-directives'),this.loadPlaylist();else{var I=Ae(m,f);this.clearTimer(),this.timer=self.setTimeout(function(){return e.loadPlaylist()},I),this.warn("Retrying playlist loading "+(f+1)+"/"+m.maxNumRetry+' after "'+n+'" in '+I+"ms")}t.levelRetry=!0,a.resolved=!0}return v},A}(mi);function Hs(s,A){if(s.length!==A.length)return!1;for(var r=0;r<s.length;r++)if(!$s(s[r].attrs,A[r].attrs))return!1;return!0}function $s(s,A,r){var t=s["STABLE-RENDITION-ID"];return t&&!r?t===A["STABLE-RENDITION-ID"]:!(r||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(function(e){return s[e]!==A[e]})}function Yi(s,A){return A.label.toLowerCase()===s.name.toLowerCase()&&(!A.language||A.language.toLowerCase()===(s.lang||"").toLowerCase())}var Ks=function(s){function A(t){var e;return(e=s.call(this,t,"audio-track-controller")||this).tracks=[],e.groupIds=null,e.tracksInGroup=[],e.trackId=-1,e.currentTrack=null,e.selectDefaultTrack=!0,e.registerListeners(),e}Kr(A,s);var r=A.prototype;return r.registerListeners=function(){var t=this.hls;t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.MANIFEST_PARSED,this.onManifestParsed,this),t.on(D.LEVEL_LOADING,this.onLevelLoading,this),t.on(D.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(D.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(D.ERROR,this.onError,this)},r.unregisterListeners=function(){var t=this.hls;t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.MANIFEST_PARSED,this.onManifestParsed,this),t.off(D.LEVEL_LOADING,this.onLevelLoading,this),t.off(D.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(D.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(D.ERROR,this.onError,this)},r.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,s.prototype.destroy.call(this)},r.onManifestLoading=function(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0},r.onManifestParsed=function(t,e){this.tracks=e.audioTracks||[]},r.onAudioTrackLoaded=function(t,e){var n=e.id,i=e.groupId,a=e.details,o=this.tracksInGroup[n];if(o&&o.groupId===i){var l=o.details;o.details=e.details,this.log("Audio track "+n+' "'+o.name+'" lang:'+o.lang+" group:"+i+" loaded ["+a.startSN+"-"+a.endSN+"]"),n===this.trackId&&this.playlistLoaded(n,e,l)}else this.warn("Audio track with id:"+n+" and group:"+i+" not found in active group "+o?.groupId)},r.onLevelLoading=function(t,e){this.switchLevel(e.level)},r.onLevelSwitching=function(t,e){this.switchLevel(e.level)},r.switchLevel=function(t){var e=this.hls.levels[t];if(e){var n=e.audioGroups||null,i=this.groupIds,a=this.currentTrack;if(!n||i?.length!==n?.length||null!=n&&n.some(function(Q){return-1===i?.indexOf(Q)})){this.groupIds=n,this.trackId=-1,this.currentTrack=null;var o=this.tracks.filter(function(Q){return!n||-1!==n.indexOf(Q.groupId)});if(o.length)this.selectDefaultTrack&&!o.some(function(Q){return Q.default})&&(this.selectDefaultTrack=!1),o.forEach(function(Q,j){Q.id=j});else if(!a&&!this.tracksInGroup.length)return;this.tracksInGroup=o;var l=this.hls.config.audioPreference;if(!a&&l){var c=ot(l,o,V);if(c>-1)a=o[c];else{var f=ot(l,this.tracks);a=this.tracks[f]}}var m=this.findTrackId(a);-1===m&&a&&(m=this.findTrackId(null));var v={audioTracks:o};this.log("Updating audio tracks, "+o.length+" track(s) found in group(s): "+n?.join(",")),this.hls.trigger(D.AUDIO_TRACKS_UPDATED,v);var b=this.trackId;if(-1!==m&&-1===b)this.setAudioTrack(m);else if(o.length&&-1===b){var I,_=new Error("No audio track selected for current audio group-ID(s): "+(null==(I=this.groupIds)?void 0:I.join(","))+" track count: "+o.length);this.warn(_.message),this.hls.trigger(D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:_})}}}},r.onError=function(t,e){!e.fatal&&e.context&&(e.context.type!==Fn||e.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(e.context.groupId)||this.checkRetry(e))},r.setAudioOption=function(t){var e=this.hls;if(e.config.audioPreference=t,t){var n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){var i=this.currentTrack;if(i&&S(t,i,V))return i;var a=ot(t,this.tracksInGroup,V);if(a>-1){var o=this.tracksInGroup[a];return this.setAudioTrack(a),o}if(i){var l=e.loadLevel;-1===l&&(l=e.firstAutoLevel);var c=function(m,v,b,I,_){var Q=v[I],j=v.reduce(function(xt,Wt,Pt){var Gt=Wt.uri;return(xt[Gt]||(xt[Gt]=[])).push(Pt),xt},{})[Q.uri];j.length>1&&(I=Math.max.apply(Math,j));var At=Q.videoRange,yt=Q.frameRate,Ot=Q.codecSet.substring(0,4),Ft=rt(v,I,function(xt){if(xt.videoRange!==At||xt.frameRate!==yt||xt.codecSet.substring(0,4)!==Ot)return!1;var Wt=xt.audioGroups,Pt=b.filter(function(Gt){return!Wt||-1!==Wt.indexOf(Gt.groupId)});return ot(m,Pt,_)>-1});return Ft>-1?Ft:rt(v,I,function(xt){var Wt=xt.audioGroups,Pt=b.filter(function(Gt){return!Wt||-1!==Wt.indexOf(Gt.groupId)});return ot(m,Pt,_)>-1})}(t,e.levels,n,l,V);if(-1===c)return null;e.nextLoadLevel=c}if(t.channels||t.audioCodec){var f=ot(t,n);if(f>-1)return n[f]}}}return null},r.setAudioTrack=function(t){var e=this.tracksInGroup;if(t<0||t>=e.length)this.warn("Invalid audio track id: "+t);else{this.selectDefaultTrack=!1;var n=this.currentTrack,i=e[t],a=i.details&&!i.details.live;if(!(t===this.trackId&&i===n&&a||(this.log("Switching to audio-track "+t+' "'+i.name+'" lang:'+i.lang+" group:"+i.groupId+" channels:"+i.channels),this.trackId=t,this.currentTrack=i,this.hls.trigger(D.AUDIO_TRACK_SWITCHING,tn({},i)),a))){var o=this.switchParams(i.url,n?.details,i.details);this.loadPlaylist(o)}}},r.findTrackId=function(t){for(var e=this.tracksInGroup,n=0;n<e.length;n++){var i=e[n];if((!this.selectDefaultTrack||i.default)&&(!t||S(t,i,V)))return n}if(t){for(var a=t.name,o=t.lang,l=t.assocLang,c=t.characteristics,f=t.audioCodec,m=t.channels,v=0;v<e.length;v++)if(S({name:a,lang:o,assocLang:l,characteristics:c,audioCodec:f,channels:m},e[v],V))return v;for(var b=0;b<e.length;b++)if($s(t.attrs,e[b].attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return b;for(var _=0;_<e.length;_++)if($s(t.attrs,e[_].attrs,["LANGUAGE"]))return _}return-1},r.loadPlaylist=function(t){s.prototype.loadPlaylist.call(this);var e=this.currentTrack;this.shouldLoadPlaylist(e)&&it(e.url,this.hls)&&this.scheduleLoading(e,t)},r.loadingPlaylist=function(t,e){s.prototype.loadingPlaylist.call(this,t,e);var n=t.id,i=t.groupId,a=this.getUrlWithDirectives(t.url,e),o=t.details,l=o?.age;this.log("Loading audio-track "+n+' "'+t.name+'" lang:'+t.lang+" group:"+i+(void 0!==e?.msn?" at sn "+e.msn+" part "+e.part:"")+(l&&o.live?" age "+l.toFixed(1)+(o.type&&" "+o.type||""):"")+" "+a),this.hls.trigger(D.AUDIO_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:e||null,track:t})},Xr(A,[{key:"allAudioTracks",get:function(){return this.tracks}},{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}}])}(Ms),Us=function(){function s(r){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=r}var A=s.prototype;return A.destroy=function(){this.tracks=this.queues=null},A.append=function(r,t,e){if(null!==this.queues&&null!==this.tracks){var n=this.queues[t];n.push(r),1!==n.length||e||this.executeNext(t)}},A.appendBlocker=function(r){var t=this;return new Promise(function(e){t.append({label:"async-blocker",execute:e,onStart:function(){},onComplete:function(){},onError:function(){}},r)})},A.prependBlocker=function(r){var t=this;return new Promise(function(e){t.queues&&t.queues[r].unshift({label:"async-blocker-prepend",execute:e,onStart:function(){},onComplete:function(){},onError:function(){}})})},A.removeBlockers=function(){null!==this.queues&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(function(r){var t,e=null==(t=r[0])?void 0:t.label;"async-blocker"!==e&&"async-blocker-prepend"!==e||(r[0].execute(),r.splice(0,1))})},A.unblockAudio=function(r){null!==this.queues&&this.queues.audio[0]===r&&this.shiftAndExecuteNext("audio")},A.executeNext=function(r){if(null!==this.queues&&null!==this.tracks){var t=this.queues[r];if(t.length){var e=t[0];try{e.execute()}catch(a){var n;if(e.onError(a),null===this.queues||null===this.tracks)return;var i=null==(n=this.tracks[r])?void 0:n.buffer;null!=i&&i.updating||this.shiftAndExecuteNext(r)}}}},A.shiftAndExecuteNext=function(r){null!==this.queues&&(this.queues[r].shift(),this.executeNext(r))},A.current=function(r){var t;return(null==(t=this.queues)?void 0:t[r][0])||null},A.toString=function(){return null===this.queues||null===this.tracks?"<destroyed>":"\n"+this.list("video")+"\n"+this.list("audio")+"\n"+this.list("audiovideo")+"}"},A.list=function(r){var t,e;return null!=(t=this.queues)&&t[r]||null!=(e=this.tracks)&&e[r]?r+": ("+this.listSbInfo(r)+") "+this.listOps(r):""},A.listSbInfo=function(r){var t,e=null==(t=this.tracks)?void 0:t[r],n=e?.buffer;return n?"SourceBuffer"+(n.updating?" updating":"")+(e.ended?" ended":"")+(e.ending?" ending":""):"none"},A.listOps=function(r){var t;return(null==(t=this.queues)?void 0:t[r].map(function(e){return e.label}).join(", "))||""},s}(),ta=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,Ya="HlsJsTrackRemovedError",Bo=function(s){function A(r){var t;return(t=s.call(this,r)||this).name=Ya,t}return Kr(A,s),A}(Rn(Error)),Vo=function(s){function A(t,e){var n,i;return(n=s.call(this,"buffer-controller",t.logger)||this).hls=void 0,n.fragmentTracker=void 0,n.details=null,n._objectUrl=null,n.operationQueue=null,n.bufferCodecEventsTotal=0,n.media=null,n.mediaSource=null,n.lastMpegAudioChunk=null,n.blockedAudioAppend=null,n.lastVideoAppendEnd=0,n.appendSource=void 0,n.transferData=void 0,n.overrides=void 0,n.appendErrors={audio:0,video:0,audiovideo:0},n.tracks={},n.sourceBuffers=[[null,null],[null,null]],n._onEndStreaming=function(a){var o;n.hls&&"open"===(null==(o=n.mediaSource)?void 0:o.readyState)&&n.hls.pauseBuffering()},n._onStartStreaming=function(a){n.hls&&n.hls.resumeBuffering()},n._onMediaSourceOpen=function(a){var l=n.media,c=n.mediaSource;a&&n.log("Media source opened"),l&&c&&(c.removeEventListener("sourceopen",n._onMediaSourceOpen),l.removeEventListener("emptied",n._onMediaEmptied),n.updateDuration(),n.hls.trigger(D.MEDIA_ATTACHED,{media:l,mediaSource:c}),null!==n.mediaSource&&n.checkPendingTracks())},n._onMediaSourceClose=function(){n.log("Media source closed")},n._onMediaSourceEnded=function(){n.log("Media source ended")},n._onMediaEmptied=function(){var o=n.mediaSrc,l=n._objectUrl;o!==l&&n.error("Media element src was set while attaching MediaSource ("+l+" > "+o+")")},n.hls=t,n.fragmentTracker=e,n.appendSource=(i=Gi(t.config.preferManagedMediaSource),typeof self<"u"&&i===self.ManagedMediaSource),n.initTracks(),n.registerListeners(),n}Kr(A,s);var r=A.prototype;return r.hasSourceTypes=function(){return Object.keys(this.tracks).length>0},r.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null},r.registerListeners=function(){var t=this.hls;t.on(D.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.MANIFEST_PARSED,this.onManifestParsed,this),t.on(D.BUFFER_RESET,this.onBufferReset,this),t.on(D.BUFFER_APPENDING,this.onBufferAppending,this),t.on(D.BUFFER_CODECS,this.onBufferCodecs,this),t.on(D.BUFFER_EOS,this.onBufferEos,this),t.on(D.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(D.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(D.FRAG_PARSED,this.onFragParsed,this),t.on(D.FRAG_CHANGED,this.onFragChanged,this),t.on(D.ERROR,this.onError,this)},r.unregisterListeners=function(){var t=this.hls;t.off(D.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.MANIFEST_PARSED,this.onManifestParsed,this),t.off(D.BUFFER_RESET,this.onBufferReset,this),t.off(D.BUFFER_APPENDING,this.onBufferAppending,this),t.off(D.BUFFER_CODECS,this.onBufferCodecs,this),t.off(D.BUFFER_EOS,this.onBufferEos,this),t.off(D.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(D.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(D.FRAG_PARSED,this.onFragParsed,this),t.off(D.FRAG_CHANGED,this.onFragChanged,this),t.off(D.ERROR,this.onError,this)},r.transferMedia=function(){var t=this,e=this.media,n=this.mediaSource;if(!e)return null;var i={};if(this.operationQueue){var a=this.isUpdating();a||this.operationQueue.removeBlockers();var o=this.isQueued();(a||o)&&this.warn("Transfering MediaSource with"+(o?" operations in queue":"")+(a?" updating SourceBuffer(s)":"")+" "+this.operationQueue),this.operationQueue.destroy()}var l=this.transferData;return!this.sourceBufferCount&&l&&l.mediaSource===n?Lr(i,l.tracks):this.sourceBuffers.forEach(function(c){var f=c[0];f&&(i[f]=Lr({},t.tracks[f]),t.removeBuffer(f)),c[0]=c[1]=null}),{media:e,mediaSource:n,tracks:i}},r.initTracks=function(){this.sourceBuffers=[[null,null],[null,null]],this.tracks={},this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0},r.onManifestLoading=function(){this.bufferCodecEventsTotal=0,this.details=null},r.onManifestParsed=function(t,e){var n,i=2;(e.audio&&!e.video||!e.altAudio)&&(i=1),this.bufferCodecEventsTotal=i,this.log(i+" bufferCodec event(s) expected."),null!=(n=this.transferData)&&n.mediaSource&&this.sourceBufferCount&&i&&this.bufferCreated()},r.onMediaAttaching=function(t,e){var n=this.media=e.media;this.transferData=this.overrides=void 0;var f,m,v,i=Gi(this.appendSource);if(i){var a=!!e.mediaSource;(a||e.overrides)&&(this.transferData=e,this.overrides=e.overrides);var o=this.mediaSource=e.mediaSource||new i;if(this.assignMediaSource(o),a)this._objectUrl=n.src,this.attachTransferred();else{var l=this._objectUrl=self.URL.createObjectURL(o);if(this.appendSource)try{n.removeAttribute("src");var c=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||c&&o instanceof c,bo(n),f=n,m=l,(v=self.document.createElement("source")).type="video/mp4",v.src=m,f.appendChild(v),n.load()}catch{n.src=l}else n.src=l}n.addEventListener("emptied",this._onMediaEmptied)}},r.assignMediaSource=function(t){var e,n;this.log(((null==(e=this.transferData)?void 0:e.mediaSource)===t?"transferred":"created")+" media source: "+(null==(n=t.constructor)?void 0:n.name)),t.addEventListener("sourceopen",this._onMediaSourceOpen),t.addEventListener("sourceended",this._onMediaSourceEnded),t.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(t.addEventListener("startstreaming",this._onStartStreaming),t.addEventListener("endstreaming",this._onEndStreaming))},r.attachTransferred=function(){var t=this,e=this.media,n=this.transferData;if(n&&e){var i=this.tracks,a=n.tracks,o=a?Object.keys(a):null,c=function(){Promise.resolve().then(function(){t.media&&t.mediaSourceOpenOrEnded&&t._onMediaSourceOpen()})};if(a&&o&&o&&o.length){if(!this.tracksReady)return this.hls.config.startFragPrefetch=!0,void this.log("attachTransferred: waiting for SourceBuffer track info");if(this.log("attachTransferred: (bufferCodecEventsTotal "+this.bufferCodecEventsTotal+")\nrequired tracks: "+mt(i,function(b,I){return"initSegment"===b?void 0:I})+";\ntransfer tracks: "+mt(a,function(b,I){return"initSegment"===b?void 0:I})+"}"),!YA(a,i)){n.mediaSource=null,n.tracks=void 0;var f=e.currentTime,v=Math.max(f,this.details?.fragments[0].start||0);return v-f>1?void this.log("attachTransferred: waiting for playback to reach new tracks start time "+f+" -> "+v):(this.warn('attachTransferred: resetting MediaSource for incompatible tracks ("'+Object.keys(a)+'"->"'+Object.keys(i)+'") start time: '+v+" currentTime: "+f),this.onMediaDetaching(D.MEDIA_DETACHING,{}),this.onMediaAttaching(D.MEDIA_ATTACHING,n),void(e.currentTime=v))}this.transferData=void 0,o.forEach(function(b){var I=b,_=a[I];if(_){var Q=_.buffer;if(Q){var j=t.fragmentTracker,At=_.id;if(j.hasFragments(At)||j.hasParts(At)){var yt=w.getBuffered(Q);j.detectEvictedFragments(I,yt,At,null,!0)}var Ot=ha(I);t.sourceBuffers[Ot]=[I,Q],Q.updating&&t.operationQueue&&t.operationQueue.prependBlocker(I),t.trackSourceBuffer(I,_)}}}),c(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),c()}},r.onMediaDetaching=function(t,e){var n=this,i=!!e.transferMedia;this.transferData=this.overrides=void 0;var a=this.media,o=this.mediaSource,l=this._objectUrl;if(o){if(this.log("media source "+(i?"transferring":"detaching")),i)this.sourceBuffers.forEach(function(v){var b=v[0];b&&n.removeBuffer(b)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){var c="open"===o.readyState;try{for(var f=o.sourceBuffers,m=f.length;m--;)c&&f[m].abort(),o.removeSourceBuffer(f[m]);c&&o.endOfStream()}catch(v){this.warn("onMediaDetaching: "+v.message+" while calling endOfStream")}}this.sourceBufferCount&&this.onBufferReset()}o.removeEventListener("sourceopen",this._onMediaSourceOpen),o.removeEventListener("sourceended",this._onMediaSourceEnded),o.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(o.removeEventListener("startstreaming",this._onStartStreaming),o.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}a&&(a.removeEventListener("emptied",this._onMediaEmptied),i||(l&&self.URL.revokeObjectURL(l),this.mediaSrc===l?(a.removeAttribute("src"),this.appendSource&&bo(a),a.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(D.MEDIA_DETACHED,e)},r.onBufferReset=function(){var t=this;this.sourceBuffers.forEach(function(e){var n=e[0];n&&t.resetBuffer(n)}),this.initTracks()},r.resetBuffer=function(t){var e,n=null==(e=this.tracks[t])?void 0:e.buffer;if(this.removeBuffer(t),n)try{var i;null!=(i=this.mediaSource)&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}catch(a){this.warn("onBufferReset "+t,a)}delete this.tracks[t]},r.removeBuffer=function(t){this.removeBufferListeners(t),this.sourceBuffers[ha(t)]=[null,null];var e=this.tracks[t];e&&(e.buffer=void 0)},r.resetQueue=function(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new Us(this.tracks)},r.onBufferCodecs=function(t,e){var n=this,i=this.tracks,a=Object.keys(e);this.log('BUFFER_CODECS: "'+a+'" (current SB count '+this.sourceBufferCount+")");var o="audiovideo"in e&&(i.audio||i.video)||i.audiovideo&&("audio"in e||"video"in e),l=!o&&this.sourceBufferCount&&this.media&&a.some(function(c){return!i[c]});o||l?this.warn('Unsupported transition between "'+Object.keys(i)+'" and "'+a+'" SourceBuffers'):(a.forEach(function(c){var f,m,v=e[c],I=v.codec,_=v.levelCodec,Q=v.container,yt=i[c],Ot=null==(f=n.transferData)||null==(f=f.tracks)?void 0:f[c],Ft=null!=Ot&&Ot.buffer?Ot:yt,xt=Ft?.pendingCodec||Ft?.codec,Wt=Ft?.levelCodec;yt||(yt=i[c]={buffer:void 0,listeners:[],codec:I,supplemental:v.supplemental,container:Q,levelCodec:_,metadata:v.metadata,id:v.id});var Pt=pt(xt,Wt),Gt=Pt?.replace(ta,"$1"),he=pt(I,_),ye=null==(m=he)?void 0:m.replace(ta,"$1");he&&Pt&&Gt!==ye&&("audio"===c.slice(0,5)&&(he=dt(he,n.appendSource)),n.log("switching codec "+xt+" to "+he),he!==(yt.pendingCodec||yt.codec)&&(yt.pendingCodec=he),yt.container=Q,n.appendChangeType(c,Q,he))}),(this.tracksReady||this.sourceBufferCount)&&(e.tracks=this.sourceBufferTracks),this.sourceBufferCount||this.mediaSourceOpenOrEnded&&this.checkPendingTracks())},r.appendChangeType=function(t,e,n){var i=this,a=e+";codecs="+n;this.append({label:"change-type="+a,execute:function(){var l=i.tracks[t];if(l){var c=l.buffer;null!=c&&c.changeType&&(i.log("changing "+t+" sourceBuffer type to "+a),c.changeType(a),l.codec=n,l.container=e)}i.shiftAndExecuteNext(t)},onStart:function(){},onComplete:function(){},onError:function(l){i.warn("Failed to change "+t+" SourceBuffer type",l)}},t,this.isPending(this.tracks[t]))},r.blockAudio=function(t){var e,n=this,i=t.start,a=i+.05*t.duration;if(!0!==(null==(e=this.fragmentTracker.getAppendedFrag(i,Sr))?void 0:e.gap)){var o={label:"block-audio",execute:function(){var l,c=n.tracks.video;(n.lastVideoAppendEnd>a||null!=c&&c.buffer&&w.isBuffered(c.buffer,a)||!0===(null==(l=n.fragmentTracker.getAppendedFrag(a,Sr))?void 0:l.gap))&&(n.blockedAudioAppend=null,n.shiftAndExecuteNext("audio"))},onStart:function(){},onComplete:function(){},onError:function(l){n.warn("Error executing block-audio operation",l)}};this.blockedAudioAppend={op:o,frag:t},this.append(o,"audio",!0)}},r.unblockAudio=function(){var t=this.blockedAudioAppend,e=this.operationQueue;t&&e&&(this.blockedAudioAppend=null,e.unblockAudio(t.op))},r.onBufferAppending=function(t,e){var n=this,i=this.tracks,a=e.data,o=e.type,l=e.parent,c=e.frag,f=e.part,m=e.chunkMeta,v=e.offset,b=m.buffering[o],I=c.sn,_=c.cc,Q=self.performance.now();b.start=Q;var j=c.stats.buffering,At=f?f.stats.buffering:null;0===j.start&&(j.start=Q),At&&0===At.start&&(At.start=Q);var Ot=!1;"audio"===o&&"audio/mpeg"===i.audio?.container&&(Ot=!this.lastMpegAudioChunk||1===m.id||this.lastMpegAudioChunk.sn!==m.sn,this.lastMpegAudioChunk=m);var Ft=i.video,xt=Ft?.buffer;if(xt&&"initSegment"!==I){var Wt=f||c,Pt=this.blockedAudioAppend;if("audio"!==o||"main"===l||this.blockedAudioAppend||Ft.ending||Ft.ended){if("video"===o){var Gt=Wt.end;if(Pt){var he=Pt.frag.start;(Gt>he||Gt<this.lastVideoAppendEnd||w.isBuffered(xt,he))&&this.unblockAudio()}this.lastVideoAppendEnd=Gt}}else{var ye=Wt.start+.05*Wt.duration,He=xt.buffered,je=this.currentOp("video");He.length||je?!je&&!w.isBuffered(xt,ye)&&this.lastVideoAppendEnd<ye&&this.blockAudio(Wt):this.blockAudio(Wt)}}var Re=(f||c).start;this.append({label:"append-"+o,execute:function(){var Ge;b.executeStart=self.performance.now();var tr=null==(Ge=n.tracks[o])?void 0:Ge.buffer;tr&&(Ot?n.updateTimestampOffset(tr,Re,.1,o,I,_):void 0!==v&&ke(v)&&n.updateTimestampOffset(tr,v,1e-6,o,I,_)),n.appendExecutor(a,o)},onStart:function(){},onComplete:function(){var Ge=self.performance.now();b.executeEnd=b.end=Ge,0===j.first&&(j.first=Ge),At&&0===At.first&&(At.first=Ge);var tr={};n.sourceBuffers.forEach(function(Or){var sr=Or[0];sr&&(tr[sr]=w.getBuffered(Or[1]))}),n.appendErrors[o]=0,"audio"===o||"video"===o?n.appendErrors.audiovideo=0:(n.appendErrors.audio=0,n.appendErrors.video=0),n.hls.trigger(D.BUFFER_APPENDED,{type:o,frag:c,part:f,chunkMeta:m,parent:c.type,timeRanges:tr})},onError:function(Ge){var tr,Or={type:Ve.MEDIA_ERROR,parent:c.type,details:Ht.BUFFER_APPEND_ERROR,sourceBufferName:o,frag:c,part:f,chunkMeta:m,error:Ge,err:Ge,fatal:!1},sr=null==(tr=n.media)?void 0:tr.error;if(Ge.code===DOMException.QUOTA_EXCEEDED_ERR||"QuotaExceededError"==Ge.name||"quota"in Ge)Or.details=Ht.BUFFER_FULL_ERROR;else if(Ge.code===DOMException.INVALID_STATE_ERR&&n.mediaSourceOpenOrEnded&&!sr)Or.errorAction=$e(!0);else if(Ge.name===Ya&&0===n.sourceBufferCount)Or.errorAction=$e(!0);else{var Cr=++n.appendErrors[o];n.warn("Failed "+Cr+"/"+n.hls.config.appendErrorMaxRetry+' times to append segment in "'+o+'" sourceBuffer ('+(sr||"no media error")+")"),(Cr>=n.hls.config.appendErrorMaxRetry||sr)&&(Or.fatal=!0)}n.hls.trigger(D.ERROR,Or)}},o,this.isPending(this.tracks[o]))},r.getFlushOp=function(t,e,n){var i=this;return this.log('queuing "'+t+'" remove '+e+"-"+n),{label:"remove",execute:function(){i.removeExecutor(t,e,n)},onStart:function(){},onComplete:function(){i.hls.trigger(D.BUFFER_FLUSHED,{type:t})},onError:function(a){i.warn("Failed to remove "+e+"-"+n+' from "'+t+'" SourceBuffer',a)}}},r.onBufferFlushing=function(t,e){var n=this,i=e.type,a=e.startOffset,o=e.endOffset;i?this.append(this.getFlushOp(i,a,o),i):this.sourceBuffers.forEach(function(l){var c=l[0];c&&n.append(n.getFlushOp(c,a,o),c)})},r.onFragParsed=function(t,e){var n=this,i=e.frag,a=e.part,o=[],l=a?a.elementaryStreams:i.elementaryStreams;l[Oi]?o.push("audiovideo"):(l[Nn]&&o.push("audio"),l[ji]&&o.push("video")),0===o.length&&this.warn("Fragments must have at least one ElementaryStreamType set. type: "+i.type+" level: "+i.level+" sn: "+i.sn),this.blockBuffers(function(){var c=self.performance.now();i.stats.buffering.end=c,a&&(a.stats.buffering.end=c),n.hls.trigger(D.FRAG_BUFFERED,{frag:i,part:a,stats:a?a.stats:i.stats,id:i.type})},o).catch(function(c){n.warn("Fragment buffered callback "+c),n.stepOperationQueue(n.sourceBufferTypes)})},r.onFragChanged=function(t,e){this.trimBuffers()},r.onBufferEos=function(t,e){var n,i=this;this.sourceBuffers.forEach(function(o){var l=o[0];if(l){var c=i.tracks[l];e.type&&e.type!==l||(c.ending=!0,c.ended||(c.ended=!0,i.log(l+" buffer reached EOS")))}});var a=!1!==(null==(n=this.overrides)?void 0:n.endOfStream);this.sourceBufferCount>0&&!this.sourceBuffers.some(function(o){var l,c=o[0];return c&&!(null!=(l=i.tracks[c])&&l.ended)})?a?(this.log("Queueing EOS"),this.blockUntilOpen(function(){i.tracksEnded();var o=i.mediaSource;o&&"open"===o.readyState?(i.log("Calling mediaSource.endOfStream()"),o.endOfStream(),i.hls.trigger(D.BUFFERED_TO_END,void 0)):o&&i.log("Could not call mediaSource.endOfStream(). mediaSource.readyState: "+o.readyState)})):(this.tracksEnded(),this.hls.trigger(D.BUFFERED_TO_END,void 0)):"video"===e.type&&this.unblockAudio()},r.tracksEnded=function(){var t=this;this.sourceBuffers.forEach(function(e){var n=e[0];if(null!==n){var i=t.tracks[n];i&&(i.ending=!1)}})},r.onLevelUpdated=function(t,e){var n=e.details;n.fragments.length&&(this.details=n,this.updateDuration())},r.updateDuration=function(){var t=this;this.blockUntilOpen(function(){var e=t.getDurationAndRange();e&&t.updateMediaSource(e)})},r.onError=function(t,e){if(e.details===Ht.BUFFER_APPEND_ERROR&&e.frag){var n,i=null==(n=e.errorAction)?void 0:n.nextAutoLevel;ke(i)&&i!==e.frag.level&&this.resetAppendErrors()}},r.resetAppendErrors=function(){this.appendErrors={audio:0,video:0,audiovideo:0}},r.trimBuffers=function(){var e=this.details,n=this.media;if(n&&null!==e&&this.sourceBufferCount){var i=this.hls.config,a=n.currentTime,o=e.levelTargetDuration,l=e.live&&null!==i.liveBackBufferLength?i.liveBackBufferLength:i.backBufferLength;if(ke(l)&&l>=0){var c=Math.max(l,o),f=Math.floor(a/o)*o-c;this.flushBackBuffer(a,o,f)}var m=i.frontBufferFlushThreshold;if(ke(m)&&m>0){var v=Math.max(i.maxBufferLength,m),b=Math.max(v,o),I=Math.floor(a/o)*o+b;this.flushFrontBuffer(a,o,I)}}},r.flushBackBuffer=function(t,e,n){var i=this;this.sourceBuffers.forEach(function(a){var o=a[0],l=a[1];if(l){var c=w.getBuffered(l);if(c.length>0&&n>c.start(0)){var f;i.hls.trigger(D.BACK_BUFFER_REACHED,{bufferEnd:n});var m=i.tracks[o];if(null!=(f=i.details)&&f.live)i.hls.trigger(D.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(null!=m&&m.ended)return void i.log("Cannot flush "+o+" back buffer while SourceBuffer is in ended state");i.hls.trigger(D.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:o})}}})},r.flushFrontBuffer=function(t,e,n){var i=this;this.sourceBuffers.forEach(function(a){var o=a[0],l=a[1];if(l){var c=w.getBuffered(l),f=c.length;if(f<2)return;var m=c.start(f-1),v=c.end(f-1);if(n>m||t>=m&&t<=v)return;i.hls.trigger(D.BUFFER_FLUSHING,{startOffset:m,endOffset:1/0,type:o})}})},r.getDurationAndRange=function(){var t,e=this.details,n=this.mediaSource;if(!e||!this.media||"open"!==n?.readyState)return null;var i=e.edge;if(e.live&&this.hls.config.liveDurationInfinity){if(e.fragments.length&&n.setLiveSeekableRange){var a=Math.max(0,e.fragmentStart);return{duration:1/0,start:a,end:Math.max(a,i)}}return{duration:1/0}}var o=null==(t=this.overrides)?void 0:t.duration;if(o)return ke(o)?{duration:o}:null;var l=this.media.duration;return i>(ke(n.duration)?n.duration:0)&&i>l||!ke(l)?{duration:i}:null},r.updateMediaSource=function(t){var e=t.duration,n=t.start,i=t.end,a=this.mediaSource;this.media&&a&&"open"===a.readyState&&(a.duration!==e&&(ke(e)&&this.log("Updating MediaSource duration to "+e.toFixed(3)),a.duration=e),void 0!==n&&void 0!==i&&(this.log("MediaSource duration is set to "+a.duration+". Setting seekable range to "+n+"-"+i+"."),a.setLiveSeekableRange(n,i)))},r.checkPendingTracks=function(){if(this.log("checkPendingTracks (pending: "+this.pendingTrackCount+" codec events expected: "+this.bufferCodecEventsTotal+") "+mt(this.tracks)),this.tracksReady){var i,a=null==(i=this.transferData)?void 0:i.tracks;a&&Object.keys(a).length?this.attachTransferred():this.createSourceBuffers()}},r.bufferCreated=function(){var t=this;if(this.sourceBufferCount){var e={};this.sourceBuffers.forEach(function(i){var a=i[0];if(a){var l=t.tracks[a];e[a]={buffer:i[1],container:l.container,codec:l.codec,supplemental:l.supplemental,levelCodec:l.levelCodec,id:l.id,metadata:l.metadata}}}),this.hls.trigger(D.BUFFER_CREATED,{tracks:e}),this.log("SourceBuffers created. Running queue: "+this.operationQueue),this.sourceBuffers.forEach(function(i){t.executeNext(i[0])})}else{var n=new Error("could not create source buffer for media codec(s)");this.hls.trigger(D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:n,reason:n.message})}},r.createSourceBuffers=function(){var t=this.tracks,e=this.sourceBuffers,n=this.mediaSource;if(!n)throw new Error("createSourceBuffers called when mediaSource was null");for(var i in t){var a=i,o=t[a];if(this.isPending(o)){var l=this.getTrackCodec(o,a),c=o.container+";codecs="+l;o.codec=l,this.log("creating sourceBuffer("+c+")"+(this.currentOp(a)?" Queued":"")+" "+mt(o));try{var f=n.addSourceBuffer(c);e[ha(a)]=[a,f],o.buffer=f}catch(I){var b;return this.error("error while trying to add sourceBuffer: "+I.message),this.shiftAndExecuteNext(a),null==(b=this.operationQueue)||b.removeBlockers(),delete this.tracks[a],void this.hls.trigger(D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:I,sourceBufferName:a,mimeType:c,parent:o.id})}this.trackSourceBuffer(a,o)}}this.bufferCreated()},r.getTrackCodec=function(t,e){var n=t.supplemental,i=t.codec;n&&("video"===e||"audiovideo"===e)&&k(n,"video")&&(i=function(o,l){var c=[];if(o)for(var f=o.split(","),m=0;m<f.length;m++)C(f[m],"video")||c.push(f[m]);return l&&c.push(l),c.join(",")}(i,n));var a=pt(i,t.levelCodec);return a?"audio"===e.slice(0,5)?dt(a,this.appendSource):a:""},r.trackSourceBuffer=function(t,e){var n=this,i=e.buffer;if(i){var a=this.getTrackCodec(e,t);this.tracks[t]={buffer:i,codec:a,container:e.container,levelCodec:e.levelCodec,supplemental:e.supplemental,metadata:e.metadata,id:e.id,listeners:[]},this.removeBufferListeners(t),this.addBufferListener(t,"updatestart",this.onSBUpdateStart),this.addBufferListener(t,"updateend",this.onSBUpdateEnd),this.addBufferListener(t,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(t,"bufferedchange",function(o,l){var c=l.removedRanges;null!=c&&c.length&&n.hls.trigger(D.BUFFER_FLUSHED,{type:o})})}},r.onSBUpdateStart=function(t){var e=this.currentOp(t);e&&e.onStart()},r.onSBUpdateEnd=function(t){var e;if("closed"!==(null==(e=this.mediaSource)?void 0:e.readyState)){var n=this.currentOp(t);n&&(n.onComplete(),this.shiftAndExecuteNext(t))}else this.resetBuffer(t)},r.onSBUpdateError=function(t,e){var n,i=new Error(t+" SourceBuffer error. MediaSource readyState: "+(null==(n=this.mediaSource)?void 0:n.readyState));this.error(""+i,e),this.hls.trigger(D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.BUFFER_APPENDING_ERROR,sourceBufferName:t,error:i,fatal:!1});var a=this.currentOp(t);a&&a.onError(i)},r.updateTimestampOffset=function(t,e,n,i,a,o){Math.abs(e-t.timestampOffset)>=n&&(this.log("Updating "+i+" SourceBuffer timestampOffset to "+e+" (sn: "+a+" cc: "+o+")"),t.timestampOffset=e)},r.removeExecutor=function(t,e,n){var i=this.media,a=this.mediaSource,o=this.tracks[t],l=o?.buffer;if(!i||!a||!l)return this.warn("Attempting to remove from the "+t+" SourceBuffer, but it does not exist"),void this.shiftAndExecuteNext(t);var c=ke(i.duration)?i.duration:1/0,f=ke(a.duration)?a.duration:1/0,m=Math.max(0,e),v=Math.min(n,c,f);v>m&&(!o.ending||o.ended)?(o.ended=!1,this.log("Removing ["+m+","+v+"] from the "+t+" SourceBuffer"),l.remove(m,v)):this.shiftAndExecuteNext(t)},r.appendExecutor=function(t,e){var n=this.tracks[e],i=n?.buffer;if(!i)throw new Bo("Attempting to append to the "+e+" SourceBuffer, but it does not exist");n.ending=!1,n.ended=!1,i.appendBuffer(t)},r.blockUntilOpen=function(t){var e=this;if(this.isUpdating()||this.isQueued())this.blockBuffers(t).catch(function(n){e.warn("SourceBuffer blocked callback "+n),e.stepOperationQueue(e.sourceBufferTypes)});else try{t()}catch(n){this.warn("Callback run without blocking "+this.operationQueue+" "+n)}},r.isUpdating=function(){return this.sourceBuffers.some(function(t){return t[0]&&t[1].updating})},r.isQueued=function(){var t=this;return this.sourceBuffers.some(function(e){var n=e[0];return n&&!!t.currentOp(n)})},r.isPending=function(t){return!!t&&!t.buffer},r.blockBuffers=function(t,e){var n=this;if(void 0===e&&(e=this.sourceBufferTypes),!e.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(t);var i=this.operationQueue,a=e.map(function(o){return n.appendBlocker(o)});return e.length>1&&this.blockedAudioAppend&&this.unblockAudio(),Promise.all(a).then(function(o){i===n.operationQueue&&(t(),n.stepOperationQueue(n.sourceBufferTypes))})},r.stepOperationQueue=function(t){var e=this;t.forEach(function(n){var i,a=null==(i=e.tracks[n])?void 0:i.buffer;a&&!a.updating&&e.shiftAndExecuteNext(n)})},r.append=function(t,e,n){this.operationQueue&&this.operationQueue.append(t,e,n)},r.appendBlocker=function(t){if(this.operationQueue)return this.operationQueue.appendBlocker(t)},r.currentOp=function(t){return this.operationQueue?this.operationQueue.current(t):null},r.executeNext=function(t){t&&this.operationQueue&&this.operationQueue.executeNext(t)},r.shiftAndExecuteNext=function(t){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(t)},r.addBufferListener=function(t,e,n){var i=this.tracks[t];if(i){var a=i.buffer;if(a){var o=n.bind(this,t);i.listeners.push({event:e,listener:o}),a.addEventListener(e,o)}}},r.removeBufferListeners=function(t){var e=this.tracks[t];if(e){var n=e.buffer;n&&(e.listeners.forEach(function(i){n.removeEventListener(i.event,i.listener)}),e.listeners.length=0)}},Xr(A,[{key:"mediaSourceOpenOrEnded",get:function(){var t,e=null==(t=this.mediaSource)?void 0:t.readyState;return"open"===e||"ended"===e}},{key:"sourceBufferTracks",get:function(){var t=this;return Object.keys(this.tracks).reduce(function(e,n){var i=t.tracks[n];return e[n]={id:i.id,container:i.container,codec:i.codec,levelCodec:i.levelCodec},e},{})}},{key:"bufferedToEnd",get:function(){var t=this;return this.sourceBufferCount>0&&!this.sourceBuffers.some(function(e){var n=e[0];if(n){var i=t.tracks[n];if(i)return!i.ended||i.ending}return!1})}},{key:"tracksReady",get:function(){var t=this.pendingTrackCount;return t>0&&(t>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}},{key:"mediaSrc",get:function(){var t,e;return((null==(t=this.media)||null==(e=t.querySelector)?void 0:e.call(t,"source"))||this.media)?.src}},{key:"pendingTrackCount",get:function(){var t=this;return Object.keys(this.tracks).reduce(function(e,n){return e+(t.isPending(t.tracks[n])?1:0)},0)}},{key:"sourceBufferCount",get:function(){return this.sourceBuffers.reduce(function(t,e){return t+(e[0]?1:0)},0)}},{key:"sourceBufferTypes",get:function(){return this.sourceBuffers.map(function(t){return t[0]}).filter(function(t){return!!t})}}])}(mi);function bo(s){var A=s.querySelectorAll("source");[].slice.call(A).forEach(function(r){s.removeChild(r)})}function ha(s){return"audio"===s?1:0}var da=function(){function s(r){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=r,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var A=s.prototype;return A.setStreamController=function(r){this.streamController=r},A.destroy=function(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},A.registerListeners=function(){var r=this.hls;r.on(D.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),r.on(D.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(D.MANIFEST_PARSED,this.onManifestParsed,this),r.on(D.LEVELS_UPDATED,this.onLevelsUpdated,this),r.on(D.BUFFER_CODECS,this.onBufferCodecs,this),r.on(D.MEDIA_DETACHING,this.onMediaDetaching,this)},A.unregisterListener=function(){var r=this.hls;r.off(D.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),r.off(D.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(D.MANIFEST_PARSED,this.onManifestParsed,this),r.off(D.LEVELS_UPDATED,this.onLevelsUpdated,this),r.off(D.BUFFER_CODECS,this.onBufferCodecs,this),r.off(D.MEDIA_DETACHING,this.onMediaDetaching,this)},A.onFpsDropLevelCapping=function(r,t){var e=this.hls.levels[t.droppedLevel];this.isLevelAllowed(e)&&this.restrictedLevels.push({bitrate:e.bitrate,height:e.height,width:e.width})},A.onMediaAttaching=function(r,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()},A.onManifestParsed=function(r,t){var e=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,e.config.capLevelToPlayerSize&&t.video&&this.startCapping()},A.onLevelsUpdated=function(r,t){this.timer&&ke(this.autoLevelCapping)&&this.detectPlayerSize()},A.onBufferCodecs=function(r,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},A.onMediaDetaching=function(){this.stopCapping(),this.media=null},A.detectPlayerSize=function(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);var r=this.hls.levels;if(r.length){var t=this.hls,e=this.getMaxLevel(r.length-1);e!==this.autoLevelCapping&&t.logger.log("Setting autoLevelCapping to "+e+": "+r[e].height+"p@"+r[e].bitrate+" for media "+this.mediaWidth+"x"+this.mediaHeight),t.autoLevelCapping=e,t.autoLevelEnabled&&t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},A.getMaxLevel=function(r){var t=this,e=this.hls.levels;if(!e.length)return-1;var n=e.filter(function(i,a){return t.isLevelAllowed(i)&&a<=r});return this.clientRect=null,s.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},A.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},A.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},A.getDimensions=function(){if(this.clientRect)return this.clientRect;var r=this.media,t={width:0,height:0};if(r){var e=r.getBoundingClientRect();t.width=e.width,t.height=e.height,t.width||t.height||(t.width=e.right-e.left||r.width||0,t.height=e.bottom-e.top||r.height||0)}return this.clientRect=t,t},A.isLevelAllowed=function(r){return!this.restrictedLevels.some(function(t){return r.bitrate===t.bitrate&&r.width===t.width&&r.height===t.height})},s.getMaxLevelByMediaSize=function(r,t,e){if(null==r||!r.length)return-1;for(var n,i,a=r.length-1,o=Math.max(t,e),l=0;l<r.length;l+=1){var c=r[l];if((c.width>=o||c.height>=o)&&(n=c,!(i=r[l+1])||n.width!==i.width||n.height!==i.height)){a=l;break}}return a},Xr(s,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var r=1;if(!this.hls.config.ignoreDevicePixelRatio)try{r=self.devicePixelRatio}catch{}return Math.min(r,this.hls.config.maxDevicePixelRatio)}}])}(),WA={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},kA=function s(A,r){Array.isArray(A)&&(A=A.map(function(t){return t instanceof s?t:new s(t)})),this.value=A,this.params=r},qo="Dict";function Es(s,A,r){return function Wo(s,A,r,t){return new Error("failed to "+s+' "'+(e=A,(Array.isArray(e)?JSON.stringify(e):e instanceof Map?"Map{}":e instanceof Set?"Set{}":"object"==typeof e?JSON.stringify(e):String(e))+'" as ')+r,{cause:t});var e}("serialize",s,A,r)}var Co=function(s){this.description=s},Lo="Bare Item",Xa="Boolean",Yo="Byte Sequence",zo="Integer";function Fa(s){if((A=s)<-999999999999999||999999999999999<A)throw Es(s,zo);var A;return s.toString()}function Ta(s,A){if(s<0)return-Ta(-s,A);var r=Math.pow(10,A);if(Math.abs(s*r%1-.5)<Number.EPSILON){var t=Math.floor(s*r);return(t%2==0?t:t+1)/r}return Math.round(s*r)/r}var So="Decimal";function Jo(s){var A=Ta(s,3);if(Math.floor(Math.abs(A)).toString().length>12)throw Es(s,So);var r=A.toString();return r.includes(".")?r:r+".0"}var Zo="String",Fo=/[\x00-\x1f\x7f]+/,vs="Token";function To(s){var A,r=(A=s).description||A.toString().slice(7,-1);if(!1===/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(r))throw Es(r,vs);return r}function xs(s){switch(typeof s){case"number":if(!ke(s))throw Es(s,Lo);return Number.isInteger(s)?Fa(s):Jo(s);case"string":return function(A){if(Fo.test(A))throw Es(A,Zo);return'"'+A.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}(s);case"symbol":return To(s);case"boolean":return function(A){if("boolean"!=typeof A)throw Es(A,Xa);return A?"?1":"?0"}(s);case"object":if(s instanceof Date)return"@"+Fa(s.getTime()/1e3);if(s instanceof Uint8Array)return function Xo(s){if(!1===ArrayBuffer.isView(s))throw Es(s,Yo);return":"+btoa(String.fromCharCode.apply(String,s))+":"}(s);if(s instanceof Co)return To(s);default:throw Es(s,Lo)}}var $o="Key";function za(s){if(!1===/^[a-z*][a-z0-9\-_.*]*$/.test(s))throw Es(s,$o);return s}function Ja(s){return null==s?"":Object.entries(s).map(function(A){var r=A[0],t=A[1];return!0===t?";"+za(r):";"+za(r)+"="+xs(t)}).join("")}function Io(s){return s instanceof kA?""+xs(s.value)+Ja(s.params):xs(s)}function Uo(s,A){return function Za(s,A){if(void 0===A&&(A={whitespace:!0}),"object"!=typeof s||null==s)throw Es(s,qo);var r=s instanceof Map?s.entries():Object.entries(s),t=A?.whitespace?" ":"";return Array.from(r).map(function(e){var n=e[0],i=e[1];i instanceof kA==0&&(i=new kA(i));var a,o=za(n);return!0===i.value?o+=Ja(i.params):(o+="=",Array.isArray(i.value)?o+="("+(a=i).value.map(Io).join(" ")+")"+Ja(a.params):o+=Io(i)),o}).join(","+t)}(s,A)}var os="CMCD-Object",nA="CMCD-Request",lr="CMCD-Session",Cs="CMCD-Status",ea={br:os,ab:os,d:os,ot:os,tb:os,tpb:os,lb:os,tab:os,lab:os,url:os,pb:nA,bl:nA,tbl:nA,dl:nA,ltc:nA,mtp:nA,nor:nA,nrr:nA,rc:nA,sn:nA,sta:nA,su:nA,ttfb:nA,ttfbb:nA,ttlb:nA,cmsdd:nA,cmsds:nA,smrt:nA,df:nA,cs:nA,ts:nA,cid:lr,pr:lr,sf:lr,sid:lr,st:lr,v:lr,msd:lr,bs:Cs,bsd:Cs,cdn:Cs,rtp:Cs,bg:Cs,pt:Cs,ec:Cs,e:Cs},Ia={REQUEST:nA},rs="event",Hn=function(s){return Math.round(s)},$a=function(s,A){return Array.isArray(s)?s.map(function(r){return $a(r,A)}):s instanceof kA&&"string"==typeof s.value?new kA($a(s.value,A),s.params):(A.baseUrl&&(s=function(r,t){var e=new URL(r),n=new URL(t);if(e.origin!==n.origin)return r;for(var i=e.pathname.split("/").slice(1),a=n.pathname.split("/").slice(1,-1);i[0]===a[0];)i.shift(),a.shift();for(;a.length;)a.shift(),i.unshift("..");return i.join("/")+e.search+e.hash}(s,A.baseUrl)),1===A.version?encodeURIComponent(s):s)},Gs=function(s){return 100*Hn(s/100)},Ua={br:Hn,d:Hn,bl:Gs,dl:Gs,mtp:Gs,nor:function(s,A){var r=s;return A.version>=2&&(s instanceof kA&&"string"==typeof s.value?r=new kA([s]):"string"==typeof s&&(r=[s])),$a(r,A)},rtp:Gs,tb:Hn},to="request",eo="response",Fi=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],tl=["e"],xa=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function _a(s){return xa.test(s)}var fa,ro=["d","dl","nor","ot","rtp","su"],xo=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"],_o=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function ko(s){return _o.includes(s)||_a(s)}var ka=((fa={})[eo]=function(s){return Fi.includes(s)||ro.includes(s)||xo.includes(s)||_a(s)},fa[rs]=function(s){return Fi.includes(s)||tl.includes(s)||_a(s)},fa[to]=function(s){return Fi.includes(s)||ro.includes(s)||_a(s)},fa);function Da(s,A){void 0===A&&(A={});var r={};if(null==s||"object"!=typeof s)return r;var t=A.version||s.v||1,e=A.reportingMode||to,n=1===t?ko:ka[e],i=Object.keys(s).filter(n),a=A.filter;"function"==typeof a&&(i=i.filter(a));var o=e===eo||e===rs;o&&!i.includes("ts")&&i.push("ts"),t>1&&!i.includes("v")&&i.push("v");var l=Lr({},Ua,A.formatters),c={version:t,reportingMode:e,baseUrl:A.baseUrl};return i.sort().forEach(function(f){var b,m=s[f],v=l[f];if("function"==typeof v&&(m=v(m,c)),"v"===f){if(1===t)return;m=t}"pr"==f&&1===m||(o&&"ts"===f&&!ke(m)&&(m=Date.now()),("number"==typeof(b=m)?ke(b):null!=b&&""!==b&&!1!==b)&&(function(b){return["ot","sf","st","e","sta"].includes(b)}(f)&&"string"==typeof m&&(m=new Co(m)),r[f]=m))}),r}var Qa="CMCD",io=/CMCD=[^&#]+/;var ls=function(){function s(r){var t=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){t.initialized&&(t.starved=!0),t.buffering=!0},this.onPlaying=function(){t.initialized||(t.initialized=!0),t.buffering=!1},this.applyPlaylistData=function(i){try{t.apply(i,{ot:WA.MANIFEST,su:!t.initialized})}catch(a){t.hls.logger.warn("Could not generate manifest CMCD data.",a)}},this.applyFragmentData=function(i){try{var a=i.frag,o=i.part,l=t.hls.levels[a.level],c=t.getObjectType(a),f={d:1e3*(o||a).duration,ot:c};c!==WA.VIDEO&&c!==WA.AUDIO&&c!=WA.MUXED||(f.br=l.bitrate/1e3,f.tb=t.getTopBandwidth(c)/1e3,f.bl=t.getBufferLength(c));var m=o?t.getNextPart(o):t.getNextFrag(a);null!=m&&m.url&&m.url!==a.url&&(f.nor=m.url),t.apply(i,f)}catch(v){t.hls.logger.warn("Could not generate segment CMCD data.",v)}},this.hls=r;var e=this.config=r.config,n=e.cmcd;null!=n&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||r.sessionId,this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.includeKeys=n.includeKeys,this.registerListeners())}var A=s.prototype;return A.registerListeners=function(){var r=this.hls;r.on(D.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(D.MEDIA_DETACHED,this.onMediaDetached,this),r.on(D.BUFFER_CREATED,this.onBufferCreated,this)},A.unregisterListeners=function(){var r=this.hls;r.off(D.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(D.MEDIA_DETACHED,this.onMediaDetached,this),r.off(D.BUFFER_CREATED,this.onBufferCreated,this)},A.destroy=function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null},A.onMediaAttached=function(r,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},A.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},A.onBufferCreated=function(r,t){var e,n;this.audioBuffer=null==(e=t.tracks.audio)?void 0:e.buffer,this.videoBuffer=null==(n=t.tracks.video)?void 0:n.buffer},A.createData=function(){var r;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(r=this.media)?void 0:r.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},A.apply=function(r,t){void 0===t&&(t={}),Lr(t,this.createData()),this.starved&&(t.ot===WA.INIT||t.ot===WA.VIDEO||t.ot===WA.MUXED)&&(t.bs=!0,t.su=!0,this.starved=!1),null==t.su&&(t.su=this.buffering);var n=this.includeKeys;n&&(t=Object.keys(t).reduce(function(a,o){return n.includes(o)&&(a[o]=t[o]),a},{}));var i={baseUrl:r.url};this.useHeaders?(r.headers||(r.headers={}),function ra(s,A,r){return Lr(s,function(t,e){void 0===e&&(e={});var n={};if(!t)return n;var i=function Rs(s,A){var r={};if(!s)return r;var t,e=Object.keys(s),n=A?(t=A,Object.keys(t).reduce(function(i,a){var o;return null===(o=t[a])||void 0===o||o.forEach(function(l){return i[l]=a}),i},{})):{};return e.reduce(function(i,a){var o,l=ea[a]||n[a]||Ia.REQUEST;return(null!==(o=i[l])&&void 0!==o?o:i[l]={})[a]=s[a],i},r)}(Da(t,e),e?.customHeaderMap);return Object.entries(i).reduce(function(a,o){var l=o[0],c=Uo(o[1],{whitespace:!1});return c&&(a[l]=c),a},n)}(A,r))}(r.headers,t,i)):r.url=function Ra(s,A,r){var t=function(n,i){if(void 0===i&&(i={}),!n)return"";var a=function no(s,A){if(void 0===A&&(A={}),!s)return"";var r=function(t,e){return void 0===e&&(e={}),t?Uo(Da(t,e),{whitespace:!1}):""}(s,A);return encodeURIComponent(r)}(n,i);return Qa+"="+a}(A,r);if(!t)return s;if(io.test(s))return s.replace(io,t);var e=s.includes("?")?"&":"?";return""+s+e+t}(r.url,t,i)},A.getNextFrag=function(r){var t,e=null==(t=this.hls.levels[r.level])?void 0:t.details;if(e)return e.fragments[r.sn-e.startSN+1]},A.getNextPart=function(r){var t,e=r.index,n=r.fragment,i=null==(t=this.hls.levels[n.level])||null==(t=t.details)?void 0:t.partList;if(i)for(var a=n.sn,o=i.length-1;o>=0;o--){var l=i[o];if(l.index===e&&l.fragment.sn===a)return i[o+1]}},A.getObjectType=function(r){var t=r.type;return"subtitle"===t?WA.TIMED_TEXT:"initSegment"===r.sn?WA.INIT:"audio"===t?WA.AUDIO:"main"===t?this.hls.audioTracks.length?WA.VIDEO:WA.MUXED:void 0},A.getTopBandwidth=function(r){var t,e=0,n=this.hls;if(r===WA.AUDIO)t=n.audioTracks;else{var i=n.maxAutoLevel;t=n.levels.slice(0,i>-1?i+1:n.levels.length)}return t.forEach(function(o){o.bitrate>e&&(e=o.bitrate)}),e>0?e:NaN},A.getBufferLength=function(r){var t=this.media,e=r===WA.AUDIO?this.audioBuffer:this.videoBuffer;return e&&t?1e3*w.bufferInfo(e,t.currentTime,this.config.maxBufferHole).len:NaN},A.createPlaylistLoader=function(){var t=this.applyPlaylistData,e=this.config.pLoader||this.config.loader;return function(){function n(a){this.loader=void 0,this.loader=new e(a)}var i=n.prototype;return i.destroy=function(){this.loader.destroy()},i.abort=function(){this.loader.abort()},i.load=function(a,o,l){t(a),this.loader.load(a,o,l)},Xr(n,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}])}()},A.createFragmentLoader=function(){var t=this.applyFragmentData,e=this.config.fLoader||this.config.loader;return function(){function n(a){this.loader=void 0,this.loader=new e(a)}var i=n.prototype;return i.destroy=function(){this.loader.destroy()},i.abort=function(){this.loader.abort()},i.load=function(a,o,l){t(a),this.loader.load(a,o,l)},Xr(n,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}])}()},s}(),el=function(s){function A(t){var e;return(e=s.call(this,"content-steering",t.logger)||this).hls=void 0,e.loader=null,e.uri=null,e.pathwayId=".",e._pathwayPriority=null,e.timeToLoad=300,e.reloadTimer=-1,e.updated=0,e.started=!1,e.enabled=!0,e.levels=null,e.audioTracks=null,e.subtitleTracks=null,e.penalizedPathways={},e.hls=t,e.registerListeners(),e}Kr(A,s);var r=A.prototype;return r.registerListeners=function(){var t=this.hls;t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(D.MANIFEST_PARSED,this.onManifestParsed,this),t.on(D.ERROR,this.onError,this)},r.unregisterListeners=function(){var t=this.hls;t&&(t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(D.MANIFEST_PARSED,this.onManifestParsed,this),t.off(D.ERROR,this.onError,this))},r.pathways=function(){return(this.levels||[]).reduce(function(t,e){return-1===t.indexOf(e.pathwayId)&&t.push(e.pathwayId),t},[])},r.startLoad=function(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){var t=1e3*this.timeToLoad-(performance.now()-this.updated);if(t>0)return void this.scheduleRefresh(this.uri,t)}this.loadSteeringManifest(this.uri)}},r.stopLoad=function(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()},r.clearTimeout=function(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)},r.destroy=function(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null},r.removeLevel=function(t){var e=this.levels;e&&(this.levels=e.filter(function(n){return n!==t}))},r.onManifestLoading=function(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null},r.onManifestLoaded=function(t,e){var n=e.contentSteering;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())},r.onManifestParsed=function(t,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks},r.onError=function(t,e){var n=e.errorAction;if(2===n?.action&&1===n.flags){var i=this.levels,a=this._pathwayPriority,o=this.pathwayId;if(e.context){var l=e.context,c=l.groupId,f=l.pathwayId;c&&i?o=this.getPathwayForGroupId(c,l.type,o):f&&(o=f)}o in this.penalizedPathways||(this.penalizedPathways[o]=performance.now()),!a&&i&&(a=this.pathways()),a&&a.length>1&&(this.updatePathwayPriority(a),n.resolved=this.pathwayId!==o),e.details!==Ht.BUFFER_APPEND_ERROR||e.fatal?n.resolved||this.warn("Could not resolve "+e.details+' ("'+e.error.message+'") with content-steering for Pathway: '+o+" levels: "+(i&&i.length)+" priorities: "+mt(a)+" penalized: "+mt(this.penalizedPathways)):n.resolved=!0}},r.filterParsedLevels=function(t){this.levels=t;var e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){var n=t[0].pathwayId;this.log("No levels found in Pathway "+this.pathwayId+'. Setting initial Pathway to "'+n+'"'),e=this.getLevelsForPathway(n),this.pathwayId=n}return e.length!==t.length&&this.log("Found "+e.length+"/"+t.length+' levels in Pathway "'+this.pathwayId+'"'),e},r.getLevelsForPathway=function(t){return null===this.levels?[]:this.levels.filter(function(e){return t===e.pathwayId})},r.updatePathwayPriority=function(t){var e;this._pathwayPriority=t;var n=this.penalizedPathways,i=performance.now();Object.keys(n).forEach(function(m){i-n[m]>3e5&&delete n[m]});for(var a=0;a<t.length;a++){var o=t[a];if(!(o in n)){if(o===this.pathwayId)return;var l=this.hls.nextLoadLevel,c=this.hls.levels[l];if((e=this.getLevelsForPathway(o)).length>0){this.log('Setting Pathway to "'+o+'"'),this.pathwayId=o,zt(e),this.hls.trigger(D.LEVELS_UPDATED,{levels:e});var f=this.hls.levels[l];c&&f&&this.levels&&(f.attrs["STABLE-VARIANT-ID"]!==c.attrs["STABLE-VARIANT-ID"]&&f.bitrate!==c.bitrate&&this.log("Unstable Pathways change from bitrate "+c.bitrate+" to "+f.bitrate),this.hls.nextLoadLevel=l);break}}}},r.getPathwayForGroupId=function(t,e,n){for(var i=this.getLevelsForPathway(n).concat(this.levels||[]),a=0;a<i.length;a++)if(e===Fn&&i[a].hasAudioGroup(t)||e===pi&&i[a].hasSubtitleGroup(t))return i[a].pathwayId;return n},r.clonePathways=function(t){var e=this,n=this.levels;if(n){var i={},a={};t.forEach(function(o){var l=o.ID,c=o["BASE-ID"],f=o["URI-REPLACEMENT"];if(!n.some(function(v){return v.pathwayId===l})){var m=e.getLevelsForPathway(c).map(function(v){var b=new se(v.attrs);b["PATHWAY-ID"]=l;var I=b.AUDIO&&b.AUDIO+"_clone_"+l,_=b.SUBTITLES&&b.SUBTITLES+"_clone_"+l;I&&(i[b.AUDIO]=I,b.AUDIO=I),_&&(a[b.SUBTITLES]=_,b.SUBTITLES=_);var Q=Do(v.uri,b["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",f),j=new st({attrs:b,audioCodec:v.audioCodec,bitrate:v.bitrate,height:v.height,name:v.name,url:Q,videoCodec:v.videoCodec,width:v.width});if(v.audioGroups)for(var At=1;At<v.audioGroups.length;At++)j.addGroupId("audio",v.audioGroups[At]+"_clone_"+l);if(v.subtitleGroups)for(var yt=1;yt<v.subtitleGroups.length;yt++)j.addGroupId("text",v.subtitleGroups[yt]+"_clone_"+l);return j});n.push.apply(n,m),js(e.audioTracks,i,f,l),js(e.subtitleTracks,a,f,l)}})}},r.loadSteeringManifest=function(t){var e,n=this,i=this.hls.config,a=i.loader;this.loader&&this.loader.destroy(),this.loader=new a(i);try{e=new self.URL(t)}catch{return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: "+t)}if("data:"!==e.protocol){var o=0|(this.hls.bandwidthEstimate||i.abrEwmaDefaultEstimate);e.searchParams.set("_HLS_pathway",this.pathwayId),e.searchParams.set("_HLS_throughput",""+o)}var l={responseType:"json",url:e.href},c=i.steeringManifestLoadPolicy.default,f=c.errorRetry||c.timeoutRetry||{},m={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:f.maxNumRetry||0,retryDelay:f.retryDelayMs||0,maxRetryDelay:f.maxRetryDelayMs||0},v={onSuccess:function(b,I,_,Q){n.log('Loaded steering manifest: "'+e+'"');var j=b.data;if(1===j?.VERSION){n.updated=performance.now(),n.timeToLoad=j.TTL;var At=j["RELOAD-URI"],yt=j["PATHWAY-CLONES"],Ot=j["PATHWAY-PRIORITY"];if(At)try{n.uri=new self.URL(At,e).href}catch{return n.enabled=!1,void n.log("Failed to parse Steering Manifest RELOAD-URI: "+At)}n.scheduleRefresh(n.uri||_.url),yt&&n.clonePathways(yt);var Ft={steeringManifest:j,url:e.toString()};n.hls.trigger(D.STEERING_MANIFEST_LOADED,Ft),Ot&&n.updatePathwayPriority(Ot)}else n.log("Steering VERSION "+j.VERSION+" not supported!")},onError:function(b,I,_,Q){if(n.log("Error loading steering manifest: "+b.code+" "+b.text+" ("+I.url+")"),n.stopLoad(),410===b.code)return n.enabled=!1,void n.log("Steering manifest "+I.url+" no longer available");var j=1e3*n.timeToLoad;if(429!==b.code)n.scheduleRefresh(n.uri||I.url,j);else{var At=n.loader;if("function"==typeof At?.getResponseHeader){var yt=At.getResponseHeader("Retry-After");yt&&(j=1e3*parseFloat(yt))}n.log("Steering manifest "+I.url+" rate limited")}},onTimeout:function(b,I,_){n.log("Timeout loading steering manifest ("+I.url+")"),n.scheduleRefresh(n.uri||I.url)}};this.log("Requesting steering manifest: "+e),this.loader.load(l,m,v)},r.scheduleRefresh=function(t,e){var n=this;void 0===e&&(e=1e3*this.timeToLoad),this.clearTimeout(),this.reloadTimer=self.setTimeout(function(){var i,a=null==(i=n.hls)?void 0:i.media;!a||a.ended?n.scheduleRefresh(t,1e3*n.timeToLoad):n.loadSteeringManifest(t)},e)},Xr(A,[{key:"pathwayPriority",get:function(){return this._pathwayPriority},set:function(t){this.updatePathwayPriority(t)}}])}(mi);function js(s,A,r,t){s&&Object.keys(A).forEach(function(e){var n=s.filter(function(i){return i.groupId===e}).map(function(i){var a=Lr({},i);return a.details=void 0,a.attrs=new se(a.attrs),a.url=a.attrs.URI=Do(i.url,i.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",r),a.groupId=a.attrs["GROUP-ID"]=A[e],a.attrs["PATHWAY-ID"]=t,a});s.push.apply(s,n)})}function Do(s,A,r,t){var e,n=t.HOST,i=t.PARAMS;A&&(e=t[r]?.[A])&&(s=e);var o=new self.URL(s);return n&&!e&&(o.host=n),i&&Object.keys(i).sort().forEach(function(l){l&&o.searchParams.set(l,i[l])}),o.href}function zA(s,A,r){us(s,A,r),s.addEventListener(A,r)}function us(s,A,r){s.removeEventListener(A,r)}var Pa=function(s){function A(t){var e;return(e=s.call(this,"eme",t.logger)||this).hls=void 0,e.config=void 0,e.media=null,e.keyFormatPromise=null,e.keySystemAccessPromises={},e._requestLicenseFailureCount=0,e.mediaKeySessions=[],e.keyIdToKeySessionPromise={},e.mediaKeys=null,e.setMediaKeysQueue=A.CDMCleanupPromise?[A.CDMCleanupPromise]:[],e.onMediaEncrypted=function(n){var i=n.initDataType,a=n.initData,o='"'+n.type+'" event: init data type: "'+i+'"';if(e.debug(o),null!==a){if(!e.keyFormatPromise){var l=Object.keys(e.keySystemAccessPromises);l.length||(l=qi(e.config));var c=l.map(SA).filter(function(f){return!!f});e.keyFormatPromise=e.getKeyFormatPromise(c)}e.keyFormatPromise.then(function(f){var m=PA(f);if("sinf"===i&&m===fn.FAIRPLAY){var v;try{var b=On(new Uint8Array(a)),I=Vt(Br(JSON.parse(b).sinf));if(!I)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");v=new Uint8Array(I.subarray(8,24))}catch(Wt){return void e.warn(o+" Failed to parse sinf: "+Wt)}for(var _,Q=ti(v),At=e.keyIdToKeySessionPromise,yt=e.mediaKeySessions,Ot=At[Q],Ft=function(){var Wt=yt[xt],Pt=Wt.decryptdata;if(!Pt.keyId)return 0;var Gt=ti(Pt.keyId);return Q===Gt||-1!==Pt.uri.replace(/-/g,"").indexOf(Q)?(Ot=At[Gt])?(Pt.pssh||(delete At[Gt],Pt.pssh=new Uint8Array(a),Pt.keyId=v,(Ot=At[Q]=Ot.then(function(){return e.generateRequestWithPreferredKeySession(Wt,i,a,"encrypted-event-key-match")})).catch(function(he){return e.handleError(he)})),1):0:void 0},xt=0;xt<yt.length&&(0===(_=Ft())||1!==_);xt++);Ot||e.handleError(new Error("Key ID "+Q+" not encountered in playlist. Key-system sessions "+yt.length+"."))}else e.log('Ignoring "'+n.type+'" event with init data type: "'+i+'" for selected key-system '+m)}).catch(function(f){return e.handleError(f)})}},e.onWaitingForKey=function(n){e.log('"'+n.type+'" event')},e.hls=t,e.config=t.config,e.registerListeners(),e}Kr(A,s);var r=A.prototype;return r.destroy=function(){this.onDestroying(),this.onMediaDetached();var t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onWaitingForKey=null},r.registerListeners=function(){this.hls.on(D.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(D.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(D.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(D.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(D.DESTROYING,this.onDestroying,this)},r.unregisterListeners=function(){this.hls.off(D.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(D.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(D.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(D.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(D.DESTROYING,this.onDestroying,this)},r.getLicenseServerUrl=function(t){var e=this.config,i=e.widevineLicenseUrl,a=e.drmSystems[t];return a?a.licenseUrl:t===fn.WIDEVINE&&i?i:void 0},r.getLicenseServerUrlOrThrow=function(t){var e=this.getLicenseServerUrl(t);if(void 0===e)throw new Error('no license server URL configured for key-system "'+t+'"');return e},r.getServerCertificateUrl=function(t){var e=this.config.drmSystems[t];if(e)return e.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'+t+'"]')},r.attemptKeySystemAccess=function(t){var e=this,n=this.hls.levels,i=function(l,c,f){return!!l&&f.indexOf(l)===c},a=n.map(function(l){return l.audioCodec}).filter(i),o=n.map(function(l){return l.videoCodec}).filter(i);return a.length+o.length===0&&o.push("avc1.42e01e"),new Promise(function(l,c){var f=function(m){var v=m.shift();e.getMediaKeysPromise(v,a,o).then(function(b){return l({keySystem:v,mediaKeys:b})}).catch(function(b){m.length?f(m):c(b instanceof ns?b:new ns({type:Ve.KEY_SYSTEM_ERROR,details:Ht.KEY_SYSTEM_NO_ACCESS,error:b,fatal:!0},b.message))})};f(t)})},r.requestMediaKeySystemAccess=function(t,e){var n=this.config.requestMediaKeySystemAccessFunc;if("function"!=typeof n){var i="Configured requestMediaKeySystemAccess is not a function "+n;return null===TA&&"http:"===self.location.protocol&&(i="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(new Error(i))}return n(t,e)},r.getMediaKeysPromise=function(t,e,n){var i=this,a=function(f,m,v,b){var I,j,At;switch(f){case fn.FAIRPLAY:I=["cenc","sinf"];break;case fn.WIDEVINE:case fn.PLAYREADY:I=["cenc"];break;case fn.CLEARKEY:I=["cenc","keyids"];break;default:throw new Error("Unknown key-system: "+f)}return j=v,[{initDataTypes:I,persistentState:(At=b).persistentState||"optional",distinctiveIdentifier:At.distinctiveIdentifier||"optional",sessionTypes:At.sessionTypes||[At.sessionType||"temporary"],audioCapabilities:m.map(function(yt){return{contentType:"audio/mp4; codecs="+yt,robustness:At.audioRobustness||"",encryptionScheme:At.audioEncryptionScheme||null}}),videoCapabilities:j.map(function(yt){return{contentType:"video/mp4; codecs="+yt,robustness:At.videoRobustness||"",encryptionScheme:At.videoEncryptionScheme||null}})}]}(t,e,n,this.config.drmSystemOptions),o=this.keySystemAccessPromises[t],l=o?.keySystemAccess;if(!l){this.log('Requesting encrypted media "'+t+'" key-system access with config: '+mt(a)),l=this.requestMediaKeySystemAccess(t,a);var c=this.keySystemAccessPromises[t]={keySystemAccess:l};return l.catch(function(f){i.log('Failed to obtain access to key-system "'+t+'": '+f)}),l.then(function(f){i.log('Access for key-system "'+f.keySystem+'" obtained');var m=i.fetchServerCertificate(t);return i.log('Create media-keys for "'+t+'"'),c.mediaKeys=f.createMediaKeys().then(function(v){return i.log('Media-keys created for "'+t+'"'),c.hasMediaKeys=!0,m.then(function(b){return b?i.setMediaKeysServerCertificate(v,t,b):v})}),c.mediaKeys.catch(function(v){i.error('Failed to create media-keys for "'+t+'"}: '+v)}),c.mediaKeys})}return l.then(function(){return o.mediaKeys})},r.createMediaKeySessionContext=function(t){var e=t.decryptdata,n=t.keySystem,i=t.mediaKeys;this.log('Creating key-system session "'+n+'" keyId: '+ti(e.keyId||[]));var a=i.createSession(),o={decryptdata:e,keySystem:n,mediaKeys:i,mediaKeysSession:a,keyStatus:"status-pending"};return this.mediaKeySessions.push(o),o},r.renewKeySession=function(t){var e=t.decryptdata;if(e.pssh){var n=this.createMediaKeySessionContext(t),i=this.getKeyIdString(e);this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(n,"cenc",e.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)},r.getKeyIdString=function(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(null===t.keyId)throw new Error("keyId is null");return ti(t.keyId)},r.updateKeySession=function(t,e){var n,i=t.mediaKeysSession;return this.log('Updating key-session "'+i.sessionId+'" for keyID '+ti((null==(n=t.decryptdata)?void 0:n.keyId)||[])+"\n      } (data length: "+(e&&e.byteLength)+")"),i.update(e)},r.getSelectedKeySystemFormats=function(){var t=this;return Object.keys(this.keySystemAccessPromises).map(function(e){return{keySystem:e,hasMediaKeys:t.keySystemAccessPromises[e].hasMediaKeys}}).filter(function(e){return!!e.hasMediaKeys}).map(function(e){return SA(e.keySystem)}).filter(function(e){return!!e})},r.getKeySystemAccess=function(t){var e=this;return this.getKeySystemSelectionPromise(t).then(function(n){return e.attemptSetMediaKeys(n.keySystem,n.mediaKeys)})},r.selectKeySystem=function(t){var e=this;return new Promise(function(n,i){return e.getKeySystemSelectionPromise(t).then(function(a){var o=a.keySystem,l=SA(o);l?n(l):i(new Error('Unable to find format for key-system "'+o+'"'))}).catch(i)})},r.selectKeySystemFormat=function(t){var e=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+t.sn+" "+t.type+": "+t.level+") key formats "+e.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(e)),this.keyFormatPromise},r.getKeyFormatPromise=function(t){var e=qi(this.config),n=t.map(PA).filter(function(i){return!!i&&-1!==e.indexOf(i)});return this.selectKeySystem(n)},r.loadKey=function(t){var e=this,n=t.keyInfo.decryptdata,i=this.getKeyIdString(n),a="(keyId: "+i+' format: "'+n.keyFormat+'" method: '+n.method+" uri: "+n.uri+")";this.log("Starting session for key "+a);var o=this.keyIdToKeySessionPromise[i];return o||(o=this.getKeySystemForKeyPromise(n).then(function(l){var c=l.keySystem,f=l.mediaKeys;return e.throwIfDestroyed(),e.log("Handle encrypted media sn: "+t.frag.sn+" "+t.frag.type+": "+t.frag.level+" using key "+a),e.attemptSetMediaKeys(c,f).then(function(){return e.throwIfDestroyed(),e.createMediaKeySessionContext({keySystem:c,mediaKeys:f,decryptdata:n})})}),(this.keyIdToKeySessionPromise[i]=o.then(function(l){return e.generateRequestWithPreferredKeySession(l,"cenc",n.pssh?n.pssh.buffer:null,"playlist-key")})).catch(function(l){return e.handleError(l)})),o},r.throwIfDestroyed=function(t){if(!this.hls)throw new Error("invalid state")},r.handleError=function(t){this.hls&&(this.error(t.message),this.hls.trigger(D.ERROR,t instanceof ns?t.data:{type:Ve.KEY_SYSTEM_ERROR,details:Ht.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))},r.getKeySystemForKeyPromise=function(t){var e=this.getKeyIdString(t),n=this.keyIdToKeySessionPromise[e];if(!n){var i=PA(t.keyFormat),a=i?[i]:qi(this.config);return this.attemptKeySystemAccess(a)}return n},r.getKeySystemSelectionPromise=function(t){if(t.length||(t=qi(this.config)),0===t.length)throw new ns({type:Ve.KEY_SYSTEM_ERROR,details:Ht.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+mt({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(t)},r.attemptSetMediaKeys=function(t,e){var n=this;if(this.mediaKeys===e)return Promise.resolve();var i=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'+t+'"');var a=Promise.all(i).then(function(){if(!n.media)throw n.mediaKeys=null,new Error("Attempted to set mediaKeys without media element attached");return n.media.setMediaKeys(e)});return this.mediaKeys=e,this.setMediaKeysQueue.push(a),a.then(function(){n.log('Media-keys set for "'+t+'"'),i.push(a),n.setMediaKeysQueue=n.setMediaKeysQueue.filter(function(o){return-1===i.indexOf(o)})})},r.generateRequestWithPreferredKeySession=function(t,e,n,i){var a,o=this,l=null==(a=this.config.drmSystems)||null==(a=a[t.keySystem])?void 0:a.generateRequest;if(l)try{var c=l.call(this.hls,e,n,t);if(!c)throw new Error("Invalid response from configured generateRequest filter");e=c.initDataType,t.decryptdata.pssh=(n=c.initData?c.initData:null)?new Uint8Array(n):null}catch(Q){var f;if(this.warn(Q.message),null!=(f=this.hls)&&f.config.debug)throw Q}if(null===n)return this.log('Skipping key-session request for "'+i+'" (no initData)'),Promise.resolve(t);var m=this.getKeyIdString(t.decryptdata);this.log('Generating key-session request for "'+i+'": '+m+" (init data type: "+e+" length: "+(n?n.byteLength:null)+")");var v=new zi,b=t._onmessage=function(Q){var j=t.mediaKeysSession;if(j){var At=Q.messageType,yt=Q.message;o.log('"'+At+'" message event for session "'+j.sessionId+'" message size: '+yt.byteLength),"license-request"===At||"license-renewal"===At?o.renewLicense(t,yt).catch(function(Ot){v.eventNames().length?v.emit("error",Ot):o.handleError(Ot)}):"license-release"===At?t.keySystem===fn.FAIRPLAY&&(o.updateKeySession(t,Mn("acknowledged")),o.removeSession(t)):o.warn('unhandled media key message type "'+At+'"')}else v.emit("error",new Error("invalid state"))},I=t._onkeystatuseschange=function(Q){if(t.mediaKeysSession){o.onKeyStatusChange(t);var j=t.keyStatus;v.emit("keyStatus",j),"expired"===j&&(o.warn(t.keySystem+" expired for key "+m),o.renewKeySession(t))}else v.emit("error",new Error("invalid state"))};zA(t.mediaKeysSession,"message",b),zA(t.mediaKeysSession,"keystatuseschange",I);var _=new Promise(function(Q,j){v.on("error",j),v.on("keyStatus",function(At){At.startsWith("usable")?Q():"output-restricted"===At?j(new ns({type:Ve.KEY_SYSTEM_ERROR,details:Ht.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===At?j(new ns({type:Ve.KEY_SYSTEM_ERROR,details:Ht.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'+At+'"')):"expired"===At?j(new Error("key expired while generating request")):o.warn('unhandled key status change "'+At+'"')})});return t.mediaKeysSession.generateRequest(e,n).then(function(){var Q;o.log('Request generated for key-session "'+(null==(Q=t.mediaKeysSession)?void 0:Q.sessionId)+'" keyId: '+m)}).catch(function(Q){throw new ns({type:Ve.KEY_SYSTEM_ERROR,details:Ht.KEY_SYSTEM_NO_SESSION,error:Q,fatal:!1},"Error generating key-session request: "+Q)}).then(function(){return _}).catch(function(Q){throw v.removeAllListeners(),o.removeSession(t),Q}).then(function(){return v.removeAllListeners(),t})},r.onKeyStatusChange=function(t){var e=this;t.mediaKeysSession.keyStatuses.forEach(function(n,i){if("string"==typeof i&&"object"==typeof n){var a=i;i=n,n=a}e.log('key status change "'+n+'" for keyStatuses keyId: '+ti("buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i))+" session keyId: "+ti(new Uint8Array(t.decryptdata.keyId||[]))+" uri: "+t.decryptdata.uri),t.keyStatus=n})},r.fetchServerCertificate=function(t){var e=this.config,n=new e.loader(e),i=this.getServerCertificateUrl(t);return i?(this.log('Fetching server certificate for "'+t+'"'),new Promise(function(a,o){var l={responseType:"arraybuffer",url:i},c=e.certLoadPolicy.default;n.load(l,{loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:function(v,b,I,_){a(v.data)},onError:function(v,b,I,_){o(new ns({type:Ve.KEY_SYSTEM_ERROR,details:Ht.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:I,response:tn({url:l.url,data:void 0},v)},'"'+t+'" certificate request failed ('+i+"). Status: "+v.code+" ("+v.text+")"))},onTimeout:function(v,b,I){o(new ns({type:Ve.KEY_SYSTEM_ERROR,details:Ht.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:I,response:{url:l.url,data:void 0}},'"'+t+'" certificate request timed out ('+i+")"))},onAbort:function(v,b,I){o(new Error("aborted"))}})})):Promise.resolve()},r.setMediaKeysServerCertificate=function(t,e,n){var i=this;return new Promise(function(a,o){t.setServerCertificate(n).then(function(l){i.log("setServerCertificate "+(l?"success":"not supported by CDM")+" ("+n?.byteLength+') on "'+e+'"'),a(t)}).catch(function(l){o(new ns({type:Ve.KEY_SYSTEM_ERROR,details:Ht.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:l,fatal:!0},l.message))})})},r.renewLicense=function(t,e){var n=this;return this.requestLicense(t,new Uint8Array(e)).then(function(i){return n.updateKeySession(t,new Uint8Array(i)).catch(function(a){throw new ns({type:Ve.KEY_SYSTEM_ERROR,details:Ht.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:a,fatal:!0},a.message)})})},r.unpackPlayReadyKeyMessage=function(t,e){var n=String.fromCharCode.apply(null,new Uint16Array(e.buffer));if(!n.includes("PlayReadyKeyMessage"))return t.setRequestHeader("Content-Type","text/xml; charset=utf-8"),e;var i=(new DOMParser).parseFromString(n,"application/xml"),a=i.querySelectorAll("HttpHeader");if(a.length>0)for(var o,l=0,c=a.length;l<c;l++){var f,m,v=null==(f=(o=a[l]).querySelector("name"))?void 0:f.textContent,b=null==(m=o.querySelector("value"))?void 0:m.textContent;v&&b&&t.setRequestHeader(v,b)}var _=i.querySelector("Challenge")?.textContent;if(!_)throw new Error("Cannot find <Challenge> in key message");return Mn(atob(_))},r.setupLicenseXHR=function(t,e,n,i){var a=this,o=this.config.licenseXhrSetup;return o?Promise.resolve().then(function(){if(!n.decryptdata)throw new Error("Key removed");return o.call(a.hls,t,e,n,i)}).catch(function(l){if(!n.decryptdata)throw l;return t.open("POST",e,!0),o.call(a.hls,t,e,n,i)}).then(function(l){return t.readyState||t.open("POST",e,!0),{xhr:t,licenseChallenge:l||i}}):(t.open("POST",e,!0),Promise.resolve({xhr:t,licenseChallenge:i}))},r.requestLicense=function(t,e){var n=this,i=this.config.keyLoadPolicy.default;return new Promise(function(a,o){var l=n.getLicenseServerUrlOrThrow(t.keySystem);n.log("Sending license request to URL: "+l);var c=new XMLHttpRequest;c.responseType="arraybuffer",c.onreadystatechange=function(){if(!n.hls||!t.mediaKeysSession)return o(new Error("invalid state"));if(4===c.readyState)if(200===c.status){n._requestLicenseFailureCount=0;var f=c.response;n.log("License received "+(f instanceof ArrayBuffer?f.byteLength:f));var m=n.config.licenseResponseCallback;if(m)try{f=m.call(n.hls,c,l,t)}catch(_){n.error(_)}a(f)}else{var v=i.errorRetry,b=v?v.maxNumRetry:0;n._requestLicenseFailureCount++,n._requestLicenseFailureCount>b||c.status>=400&&c.status<500?o(new ns({type:Ve.KEY_SYSTEM_ERROR,details:Ht.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:c,response:{url:l,data:void 0,code:c.status,text:c.statusText}},"License Request XHR failed ("+l+"). Status: "+c.status+" ("+c.statusText+")")):(n.warn("Retrying license request, "+(b-n._requestLicenseFailureCount+1)+" attempts left"),n.requestLicense(t,e).then(a,o))}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=c,n.setupLicenseXHR(c,l,t,e).then(function(f){var m=f.xhr,v=f.licenseChallenge;t.keySystem==fn.PLAYREADY&&(v=n.unpackPlayReadyKeyMessage(m,v)),m.send(v)})})},r.onDestroying=function(){this.unregisterListeners(),this._clear()},r.onMediaAttached=function(t,e){if(this.config.emeEnabled){var n=e.media;this.media=n,zA(n,"encrypted",this.onMediaEncrypted),zA(n,"waitingforkey",this.onWaitingForKey)}},r.onMediaDetached=function(){var t=this.media;t&&(us(t,"encrypted",this.onMediaEncrypted),us(t,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)},r._clear=function(){var t,e=this;if(this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},this.mediaKeys||this.mediaKeySessions.length){var n=this.media,i=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,ZA.clearKeyUriToKeyIdMap();var a=i.length;A.CDMCleanupPromise=Promise.all(i.map(function(o){return e.removeSession(o)}).concat(null==n||null==(t=n.setMediaKeys(null))?void 0:t.catch(function(o){var l;e.log("Could not clear media keys: "+o),null==(l=e.hls)||l.trigger(D.ERROR,{type:Ve.OTHER_ERROR,details:Ht.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error("Could not clear media keys: "+o)})}))).catch(function(o){var l;e.log("Could not close sessions and clear media keys: "+o),null==(l=e.hls)||l.trigger(D.ERROR,{type:Ve.OTHER_ERROR,details:Ht.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error("Could not close sessions and clear media keys: "+o)})}).then(function(){a&&e.log("finished closing key sessions and clearing media keys")})}},r.onManifestLoading=function(){this.keyFormatPromise=null},r.onManifestLoaded=function(t,e){var n=e.sessionKeys;if(n&&this.config.emeEnabled&&!this.keyFormatPromise){var i=n.reduce(function(a,o){return-1===a.indexOf(o.keyFormat)&&a.push(o.keyFormat),a},[]);this.log("Selecting key-system from session-keys "+i.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(i)}},r.removeSession=function(t){var l,c,e=this,n=t.mediaKeysSession,i=t.licenseXhr;if(n){this.log("Remove licenses and keys and close session "+n.sessionId),t._onmessage&&(n.removeEventListener("message",t._onmessage),t._onmessage=void 0),t._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",t._onkeystatuseschange),t._onkeystatuseschange=void 0),i&&i.readyState!==XMLHttpRequest.DONE&&i.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;var a=this.mediaKeySessions.indexOf(t);return a>-1&&this.mediaKeySessions.splice(a,1),("persistent-license"===(l=this.config.drmSystemOptions).sessionType||null!=(c=l.sessionTypes)&&c.some(function(f){return"persistent-license"===f})?new Promise(function(l,c){self.setTimeout(function(){return c(new Error("MediaKeySession.remove() timeout"))},8e3),n.remove().then(l)}):Promise.resolve()).catch(function(l){var c;e.log("Could not remove session: "+l),null==(c=e.hls)||c.trigger(D.ERROR,{type:Ve.OTHER_ERROR,details:Ht.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error("Could not remove session: "+l)})}).then(function(){return n.close()}).catch(function(l){var c;e.log("Could not close session: "+l),null==(c=e.hls)||c.trigger(D.ERROR,{type:Ve.OTHER_ERROR,details:Ht.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error("Could not close session: "+l)})})}},A}(mi);Pa.CDMCleanupPromise=void 0;var ns=function(s){function A(r,t){var e;return(e=s.call(this,t)||this).data=void 0,r.error||(r.error=new Error(t)),e.data=r,r.err=r.error,e}return Kr(A,s),A}(Rn(Error)),Tr=function(){function s(r){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=r,this.registerListeners()}var A=s.prototype;return A.setStreamController=function(r){this.streamController=r},A.registerListeners=function(){this.hls.on(D.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(D.MEDIA_DETACHING,this.onMediaDetaching,this)},A.unregisterListeners=function(){this.hls.off(D.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(D.MEDIA_DETACHING,this.onMediaDetaching,this)},A.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},A.onMediaAttaching=function(r,t){var e=this.hls.config;if(e.capLevelOnFPSDrop){var n=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=n,n&&"function"==typeof n.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod)}},A.onMediaDetaching=function(){this.media=null},A.checkFPS=function(r,t,e){var n=performance.now();if(t){if(this.lastTime){var a=e-this.lastDroppedFrames,o=t-this.lastDecodedFrames,l=1e3*a/(n-this.lastTime),c=this.hls;if(c.trigger(D.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:e}),l>0&&a>c.config.fpsDroppedMonitoringThreshold*o){var f=c.currentLevel;c.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=f)&&(c.trigger(D.FPS_DROP_LEVEL_CAPPING,{level:f-=1,droppedLevel:c.currentLevel}),c.autoLevelCapping=f,this.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=e,this.lastDecodedFrames=t}},A.checkFPSInterval=function(){var r=this.media;if(r)if(this.isVideoPlaybackQualityAvailable){var t=r.getVideoPlaybackQuality();this.checkFPS(r,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(r,r.webkitDecodedFrameCount,r.webkitDroppedFrameCount)},s}();function ga(s){for(var A=5381,r=s.length;r;)A=33*A^s.charCodeAt(--r);return(A>>>0).toString()}var ri=.025,pa=function(s){return s[s.Point=0]="Point",s[s.Range=1]="Range",s}({});function rl(s,A,r){return s.identifier+"-"+(r+1)+"-"+ga(A)}var nl=function(){function s(r,t){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=t,this.dateRange=r,this.setDateRange(r)}var A=s.prototype;return A.setDateRange=function(r){this.dateRange=r,this.resumeOffset=r.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=r.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=r.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=r.attr.enumeratedStringList("X-SNAP",this.snapOptions)},A.reset=function(){var r;this.appendInPlaceStarted=!1,null==(r=this.assetListLoader)||r.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)},A.isAssetPastPlayoutLimit=function(r){var t;if(r>0&&r>=this.assetList.length)return!0;var e=this.playoutLimit;return!(r<=0||isNaN(e))&&(0===e||((null==(t=this.assetList[r])?void 0:t.startOffset)||0)>e)},A.findAssetIndex=function(r){return this.assetList.indexOf(r)},A.toString=function(){return'["'+(r=this).identifier+'" '+(r.cue.pre?"<pre>":r.cue.post?"<post>":"")+r.timelineStart.toFixed(2)+"-"+r.resumeTime.toFixed(2)+"]";var r},Xr(s,[{key:"identifier",get:function(){return this.dateRange.id}},{key:"startDate",get:function(){return this.dateRange.startDate}},{key:"startTime",get:function(){var r=this.dateRange.startTime;if(this.snapOptions.out){var t=this.dateRange.tagAnchor;if(t)return Ao(r,t)}return r}},{key:"startOffset",get:function(){return this.cue.pre?0:this.startTime}},{key:"startIsAligned",get:function(){if(0===this.startTime||this.snapOptions.out)return!0;var r=this.dateRange.tagAnchor;if(r){var t=this.dateRange.startTime;return t-Ao(t,r)<.1}return!1}},{key:"resumptionOffset",get:function(){var r=this.resumeOffset,t=ke(r)?r:this.duration;return this.cumulativeDuration+t}},{key:"resumeTime",get:function(){var r=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){var t=this.resumeAnchor;if(t)return Ao(r,t)}return r}},{key:"appendInPlace",get:function(){return!!this.appendInPlaceStarted||!this.appendInPlaceDisabled&&!(this.cue.once||this.cue.pre||!this.startIsAligned||!(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<ri))},set:function(r){this.appendInPlaceStarted?this.resetOnResume=!r:this.appendInPlaceDisabled=!r}},{key:"timelineStart",get:function(){return null!==this._timelineStart?this._timelineStart:this.startTime},set:function(r){this._timelineStart=r}},{key:"duration",get:function(){var r,t=this.playoutLimit;return r=null!==this._duration?this._duration:this.dateRange.duration?this.dateRange.duration:this.dateRange.plannedDuration||0,!isNaN(t)&&t<r&&(r=t),r},set:function(r){this._duration=r}},{key:"cue",get:function(){return this.dateRange.cue}},{key:"timelineOccupancy",get:function(){return"RANGE"===this.dateRange.attr["X-TIMELINE-OCCUPIES"]?pa.Range:pa.Point}},{key:"supplementsPrimary",get:function(){return"PRIMARY"===this.dateRange.attr["X-TIMELINE-STYLE"]}},{key:"contentMayVary",get:function(){return"NO"!==this.dateRange.attr["X-CONTENT-MAY-VARY"]}},{key:"assetUrl",get:function(){return this.dateRange.attr["X-ASSET-URI"]}},{key:"assetListUrl",get:function(){return this.dateRange.attr["X-ASSET-LIST"]}},{key:"baseUrl",get:function(){return this.base.url}},{key:"assetListLoaded",get:function(){return this.assetList.length>0||null!==this.assetListResponse}}])}();function Ao(s,A){return s-A.start<A.duration/2&&!(Math.abs(s-(A.start+A.duration))<ri)?A.start:A.start+A.duration}function Qo(s,A,r){var t=new self.URL(s,r);return"data:"!==t.protocol&&t.searchParams.set("_HLS_primary_id",A),t}function so(s,A){for(;null!=(r=s.assetList[++A])&&r.error;)var r;return A}function na(s){var A=s.timelineStart,r=s.duration||0;return'["'+s.identifier+'" '+A.toFixed(2)+"-"+(A+r).toFixed(2)+"]"}var ao=function(){function s(r,t,e,n){var i=this;this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=function(){i.reachedPlayout(i.currentTime)&&i.hls&&i.hls.trigger(D.PLAYOUT_LIMIT_REACHED,{})};var a=this.hls=new r(t);this.interstitial=e,this.assetItem=n;var o=function(){i.hasDetails=!0};a.once(D.LEVEL_LOADED,o),a.once(D.AUDIO_TRACK_LOADED,o),a.once(D.SUBTITLE_TRACK_LOADED,o),a.on(D.MEDIA_ATTACHING,function(l,c){var f=c.media;i.removeMediaListeners(),i.mediaAttached=f,i.interstitial.playoutLimit&&(f.addEventListener("timeupdate",i.checkPlayout),i.appendInPlace&&a.on(D.BUFFER_APPENDED,function(){var m=i.bufferedEnd;i.reachedPlayout(m)&&(i._bufferedEosTime=m,a.trigger(D.BUFFERED_TO_END,void 0))}))})}var A=s.prototype;return A.loadSource=function(){var r=this.hls;if(r)if(r.url)r.levels.length&&!r.started&&r.startLoad(-1,!0);else{var t=this.assetItem.uri;try{t=Qo(t,r.config.primarySessionId||"").href}catch{}r.loadSource(t)}},A.bufferedInPlaceToEnd=function(r){var t;if(!this.appendInPlace)return!1;if(null!=(t=this.hls)&&t.bufferedToEnd)return!0;if(!r)return!1;var e=Math.min(this._bufferedEosTime||1/0,this.duration),i=w.bufferInfo(r,this.timelineOffset,0);return this.getAssetTime(i.end)>=e-.02},A.reachedPlayout=function(r){return this.startOffset+r>=this.interstitial.playoutLimit},A.getAssetTime=function(r){var e=this.duration;return Math.min(Math.max(0,r-this.timelineOffset),e)},A.removeMediaListeners=function(){var r=this.mediaAttached;r&&(this._currentTime=r.currentTime,this.bufferSnapShot(),r.removeEventListener("timeupdate",this.checkPlayout))},A.bufferSnapShot=function(){var r;this.mediaAttached&&null!=(r=this.hls)&&r.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)},A.destroy=function(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null},A.attachMedia=function(r){var t;this.loadSource(),null==(t=this.hls)||t.attachMedia(r)},A.detachMedia=function(){var r;this.removeMediaListeners(),this.mediaAttached=null,null==(r=this.hls)||r.detachMedia()},A.resumeBuffering=function(){var r;null==(r=this.hls)||r.resumeBuffering()},A.pauseBuffering=function(){var r;null==(r=this.hls)||r.pauseBuffering()},A.transferMedia=function(){var r;return this.bufferSnapShot(),(null==(r=this.hls)?void 0:r.transferMedia())||null},A.resetDetails=function(){var r=this.hls;if(r&&this.hasDetails){r.stopLoad();var t=function(e){return delete e.details};r.levels.forEach(t),r.allAudioTracks.forEach(t),r.allSubtitleTracks.forEach(t),this.hasDetails=!1}},A.on=function(r,t,e){var n;null==(n=this.hls)||n.on(r,t)},A.once=function(r,t,e){var n;null==(n=this.hls)||n.once(r,t)},A.off=function(r,t,e){var n;null==(n=this.hls)||n.off(r,t)},A.toString=function(){var r;return"HlsAssetPlayer: "+na(this.assetItem)+" "+(null==(r=this.hls)?void 0:r.sessionId)+" "+(this.appendInPlace?"append-in-place":"")},Xr(s,[{key:"appendInPlace",get:function(){return this.interstitial.appendInPlace}},{key:"destroyed",get:function(){var r;return!(null!=(r=this.hls)&&r.userConfig)}},{key:"assetId",get:function(){return this.assetItem.identifier}},{key:"interstitialId",get:function(){return this.assetItem.parentIdentifier}},{key:"media",get:function(){var r;return(null==(r=this.hls)?void 0:r.media)||null}},{key:"bufferedEnd",get:function(){var r=this.media||this.mediaAttached;if(!r)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;var t=w.bufferInfo(r,r.currentTime,.001);return this.getAssetTime(t.end)}},{key:"currentTime",get:function(){var r=this.media||this.mediaAttached;return r?this.getAssetTime(r.currentTime):this._currentTime||0}},{key:"duration",get:function(){var r=this.assetItem.duration;if(!r)return 0;var t=this.interstitial.playoutLimit;if(t){var e=t-this.startOffset;if(e>0&&e<r)return e}return r}},{key:"remaining",get:function(){var r=this.duration;return r?Math.max(0,r-this.currentTime):0}},{key:"startOffset",get:function(){return this.assetItem.startOffset}},{key:"timelineOffset",get:function(){var r;return(null==(r=this.hls)?void 0:r.config.timelineOffset)||0},set:function(r){var t=this.timelineOffset;if(r!==t&&Math.abs(r-t)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=r}}}])}(),il=function(s){function A(t,e){var n;return(n=s.call(this,"interstitials-sched",e)||this).onScheduleUpdate=void 0,n.eventMap={},n.events=null,n.items=null,n.durations={primary:0,playout:0,integrated:0},n.onScheduleUpdate=t,n}Kr(A,s);var r=A.prototype;return r.destroy=function(){this.reset(),this.onScheduleUpdate=null},r.reset=function(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(function(t){return t.reset()}),this.events=this.items=null},r.resetErrorsInRange=function(t,e){return this.events?this.events.reduce(function(n,i){return t<=i.startOffset&&e>i.startOffset?(delete i.error,n+1):n},0):0},r.getEvent=function(t){return t&&this.eventMap[t]||null},r.hasEvent=function(t){return t in this.eventMap},r.findItemIndex=function(t,e){if(t.event)return this.findEventIndex(t.event.identifier);var n=-1;t.nextEvent?n=this.findEventIndex(t.nextEvent.identifier)-1:t.previousEvent&&(n=this.findEventIndex(t.previousEvent.identifier)+1);var i=this.items;if(i)for(i[n]||(void 0===e&&(e=t.start),n=this.findItemIndexAtTime(e));n>=0&&null!=(a=i[n])&&a.event;){var a;n--}return n},r.findItemIndexAtTime=function(t,e){var n=this.items;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(e&&"primary"!==e&&(a=a[e]),t===a.start||t>a.start&&t<a.end)return i}return-1},r.findJumpRestrictedIndex=function(t,e){var n=this.items;if(n)for(var i=t;i<=e&&n[i];i++){var a=n[i].event;if(null!=a&&a.restrictions.jump&&!a.appendInPlace)return i}return-1},r.findEventIndex=function(t){var e=this.items;if(e)for(var n=e.length;n--;){var i;if((null==(i=e[n].event)?void 0:i.identifier)===t)return n}return-1},r.findAssetIndex=function(t,e){var n=t.assetList,i=n.length;if(i>1)for(var a=0;a<i;a++){var o=n[a];if(!o.error){var l=o.timelineStart;if(e===l||e>l&&(e<l+(o.duration||0)||a===i-1))return a}}return 0},r.parseInterstitialDateRanges=function(t,e){var n=this,i=t.main.details,a=i.dateRanges,o=this.events,l=this.parseDateRanges(a,{url:i.url},e),c=Object.keys(a),f=o?o.filter(function(m){return!c.includes(m.identifier)}):[];l.length&&l.sort(function(m,v){var b=m.cue.pre,I=m.cue.post,_=v.cue.pre,Q=v.cue.post;if(b&&!_)return-1;if(_&&!b||I&&!Q)return 1;if(Q&&!I)return-1;if(!(b||_||I||Q)){var j=m.startTime,At=v.startTime;if(j!==At)return j-At}return m.dateRange.tagOrder-v.dateRange.tagOrder}),this.events=l,f.forEach(function(m){n.removeEvent(m)}),this.updateSchedule(t,f)},r.updateSchedule=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var i=this.events||[];if(i.length||e.length||this.length<2){var a=this.items,o=this.parseSchedule(i,t);(n||e.length||a?.length!==o.length||o.some(function(l,c){return Math.abs(l.playout.start-a[c].playout.start)>.005||Math.abs(l.playout.end-a[c].playout.end)>.005}))&&(this.items=o,this.onScheduleUpdate(e,a))}},r.parseDateRanges=function(t,e,n){for(var i=[],a=Object.keys(t),o=0;o<a.length;o++){var l=a[o],c=t[l];if(c.isInterstitial){var f=this.eventMap[l];f?f.setDateRange(c):(f=new nl(c,e),this.eventMap[l]=f,!1===n&&(f.appendInPlace=n)),i.push(f)}}return i},r.parseSchedule=function(t,e){var n=[],i=e.main.details,a=i.live?1/0:i.edge,o=0;if((t=t.filter(function(_){return!(_.error||_.cue.once&&_.hasPlayed)})).length){this.resolveOffsets(t,e);var l=0,c=0;if(t.forEach(function(_,Q){var At=_.cue.post,yt=t[Q-1]||null,Ft=At?a:_.startOffset,xt=_.duration,Wt=_.timelineOccupancy===pa.Range?xt:0,Gt=yt?.startTime===Ft,he=Ft+_.cumulativeDuration,ye=_.appendInPlace?he+xt:Ft+_.resumptionOffset;if(_.cue.pre||!At&&Ft<=0){var He=c;c+=Wt,_.timelineStart=he,n.push({event:_,start:he,end:ye,playout:{start:o,end:o+=xt},integrated:{start:He,end:c}})}else{if(!(Ft<=a))return;if(!Gt){var Re=Ft-l;Re>.033?n.push({previousEvent:t[Q-1]||null,nextEvent:_,start:l,end:l+Re,playout:{start:o,end:o+=Re},integrated:{start:c,end:c+=Re}}):Re>0&&yt&&(yt.cumulativeDuration+=Re,n[n.length-1].end=Ft)}At&&(ye=he),_.timelineStart=he,n.push({event:_,start:he,end:ye,playout:{start:o,end:o+=xt},integrated:{start:c,end:c+=Wt}})}var an=_.resumeTime;l=At||an>a?a:an}),l<a){var f,b=a-l;n.push({previousEvent:(null==(f=n[n.length-1])?void 0:f.event)||null,nextEvent:null,start:l,end:l+b,playout:{start:o,end:o+=b},integrated:{start:c,end:c+=b}})}this.setDurations(a,o,c)}else n.push({previousEvent:null,nextEvent:null,start:0,end:a,playout:{start:0,end:a},integrated:{start:0,end:a}}),this.setDurations(a,a,a);return n},r.setDurations=function(t,e,n){this.durations={primary:t,playout:e,integrated:n}},r.resolveOffsets=function(t,e){var n=this,i=e.main.details,a=i.live?1/0:i.edge,o=0,l=-1;t.forEach(function(c,f){var v=c.cue.post,b=c.cue.pre?0:v?a:c.startTime;n.updateAssetDurations(c),l===b?c.cumulativeDuration=o:(o=0,l=b),!v&&c.snapOptions.in&&(c.resumeAnchor=kt(null,i.fragments,c.startOffset+c.resumptionOffset,0,0)||void 0),c.appendInPlace&&!c.appendInPlaceStarted&&(n.primaryCanResumeInPlaceAt(c,e)||(c.appendInPlace=!1)),!c.appendInPlace&&f+1<t.length&&t[f+1].startTime-t[f].resumeTime<.033&&(t[f+1].appendInPlace=!1,t[f+1].appendInPlace&&n.warn("Could not change append strategy for abutting event "+c));var I=ke(c.resumeOffset)?c.resumeOffset:c.duration;o+=I})},r.primaryCanResumeInPlaceAt=function(t,e){var n=this,i=t.resumeTime,a=t.startTime+t.resumptionOffset;return Math.abs(i-a)>ri?(this.log('"'+t.identifier+'" resumption '+i+" not aligned with estimated timeline end "+a),!1):!Object.keys(e).some(function(o){var l=e[o].details,c=l.edge;if(i>=c)return n.log('"'+t.identifier+'" resumption '+i+" past "+o+" playlist end "+c),!1;var f=kt(null,l.fragments,i);if(!f)return n.log('"'+t.identifier+'" resumption '+i+" does not align with any fragments in "+o+" playlist ("+l.fragStart+"-"+l.fragmentEnd+")"),!0;var m="audio"===o?.175:0;return!(Math.abs(f.start-i)<ri+m||Math.abs(f.end-i)<ri+m||(n.log('"'+t.identifier+'" resumption '+i+" not aligned with "+o+" fragment bounds ("+f.start+"-"+f.end+" sn: "+f.sn+" cc: "+f.cc+")"),0))})},r.updateAssetDurations=function(t){if(t.assetListLoaded){for(var e=t.timelineStart,n=0,i=!1,a=!1,o=0;o<t.assetList.length;o++){var l=t.assetList[o],c=e+n;l.startOffset=n,l.timelineStart=c,i||(i=null===l.duration),a||(a=!!l.error),n+=l.error?0:l.duration||0}t.duration=i&&!a?Math.max(n,t.duration):n}},r.removeEvent=function(t){t.reset(),delete this.eventMap[t.identifier]},Xr(A,[{key:"duration",get:function(){var t=this.items;return t?t[t.length-1].end:0}},{key:"length",get:function(){return this.items?this.items.length:0}},{key:"assetIdAtEnd",get:function(){var t,e=null==(t=this.items)||null==(t=t[this.length-1])?void 0:t.event;if(e){var n=e.assetList,i=n[n.length-1];if(i)return i.identifier}return null}}])}(mi);function _s(s){return"["+(s.event?'"'+s.event.identifier+'"':"primary")+": "+s.start.toFixed(2)+"-"+s.end.toFixed(2)+"]"}var Vs=function(){function s(r){this.hls=void 0,this.hls=r}var A=s.prototype;return A.destroy=function(){this.hls=null},A.loadAssetList=function(r,t){var e,n=this,i=r.assetListUrl;try{e=Qo(i,this.hls.sessionId,r.baseUrl)}catch(b){var a=this.assignAssetListError(r,Ht.ASSET_LIST_LOAD_ERROR,b,i);return void this.hls.trigger(D.ERROR,a)}t&&"data:"!==e.protocol&&e.searchParams.set("_HLS_start_offset",""+t);var o=this.hls.config,l=new o.loader(o),f=o.interstitialAssetListLoadPolicy.default;return l.load({responseType:"json",url:e.href},{loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:function(b,I,_,Q){var j=b.data,At=j?.ASSETS;if(Array.isArray(At))r.assetListResponse=j,n.hls.trigger(D.ASSET_LIST_LOADED,{event:r,assetListResponse:j,networkDetails:Q});else{var yt=n.assignAssetListError(r,Ht.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),_.url,I,Q);n.hls.trigger(D.ERROR,yt)}},onError:function(b,I,_,Q){var j=n.assignAssetListError(r,Ht.ASSET_LIST_LOAD_ERROR,new Error("Error loading X-ASSET-LIST: HTTP status "+b.code+" "+b.text+" ("+I.url+")"),I.url,Q,_);n.hls.trigger(D.ERROR,j)},onTimeout:function(b,I,_){var Q=n.assignAssetListError(r,Ht.ASSET_LIST_LOAD_TIMEOUT,new Error("Timeout loading X-ASSET-LIST ("+I.url+")"),I.url,b,_);n.hls.trigger(D.ERROR,Q)}}),this.hls.trigger(D.ASSET_LIST_LOADING,{event:r}),l},A.assignAssetListError=function(r,t,e,n,i,a){return r.error=e,{type:Ve.NETWORK_ERROR,details:t,fatal:!1,interstitial:r,url:n,error:e,networkDetails:a,stats:i}},s}();function Ro(s){s?.play().catch(function(){})}var oo=function(s){function A(t,e){var n;return(n=s.call(this,"interstitials",t.logger)||this).HlsPlayerClass=void 0,n.hls=void 0,n.assetListLoader=void 0,n.mediaSelection=null,n.altSelection=null,n.media=null,n.detachedData=null,n.requiredTracks=null,n.manager=null,n.playerQueue=[],n.bufferedPos=-1,n.timelinePos=-1,n.schedule=void 0,n.playingItem=null,n.bufferingItem=null,n.waitingItem=null,n.endedItem=null,n.playingAsset=null,n.endedAsset=null,n.bufferingAsset=null,n.shouldPlay=!1,n.onPlay=function(){n.shouldPlay=!0},n.onPause=function(){n.shouldPlay=!1},n.onSeeking=function(){var i=n.currentTime;if(void 0!==i&&!n.playbackDisabled&&n.schedule){var a=i-n.timelinePos;if(!(Math.abs(a)<1/7056e5)){var o=a<=-.01;n.timelinePos=i,n.bufferedPos=i;var l=n.playingItem;if(l)if(o&&n.schedule.resetErrorsInRange(i,i-a)&&n.updateSchedule(!0),n.checkBuffer(),o&&i<l.start||i>=l.end){var c,f=n.findItemIndex(l),m=n.schedule.findItemIndexAtTime(i);if(-1===m&&n.log("seeked "+(o?"back ":"")+"to position not covered by schedule "+i+" (resolving from "+f+" to "+(m=f+(o?-1:1))+")"),!n.isInterstitial(l)&&null!=(c=n.media)&&c.paused&&(n.shouldPlay=!1),!o&&m>f){var v=n.schedule.findJumpRestrictedIndex(f+1,m);if(v>f)return void n.setSchedulePosition(v)}n.setSchedulePosition(m)}else{var b=n.playingAsset;if(b){var I,_=b.timelineStart;(o&&i<_||i>=_+(b.duration||0))&&(null!=(I=l.event)&&I.appendInPlace&&(n.clearInterstitial(l.event,l),n.flushFrontBuffer(i)),n.setScheduleToAssetAtTime(i,b))}else if(n.playingLastItem&&n.isInterstitial(l)){var j=l.event.assetList[0];j&&(n.endedItem=n.playingItem,n.playingItem=null,n.setScheduleToAssetAtTime(i,j))}}else n.checkBuffer()}}},n.onTimeupdate=function(){var i=n.currentTime;if(void 0!==i&&!n.playbackDisabled&&i>n.timelinePos){n.timelinePos=i,i>n.bufferedPos&&n.checkBuffer();var a=n.playingItem;if(a&&!n.playingLastItem){if(i>=a.end){n.timelinePos=a.end;var o=n.findItemIndex(a);n.setSchedulePosition(o+1)}var l=n.playingAsset;l&&i>=l.timelineStart+(l.duration||0)&&n.setScheduleToAssetAtTime(i,l)}}},n.onScheduleUpdate=function(i,a){var o=n.schedule;if(o){var l=n.playingItem,c=o.events||[],f=o.items||[],m=o.durations,v=i.map(function(j){return j.identifier}),b=!(!c.length&&!v.length);(b||a)&&n.log("INTERSTITIALS_UPDATED ("+c.length+"): "+c+"\nSchedule: "+f.map(function(j){return _s(j)})+" pos: "+n.timelinePos),v.length&&n.log("Removed events "+v);var I=null,_=null;l&&(I=n.updateItem(l,n.timelinePos),n.itemsMatch(l,I)?n.playingItem=I:n.waitingItem=n.endedItem=null),n.waitingItem=n.updateItem(n.waitingItem),n.endedItem=n.updateItem(n.endedItem);var Q=n.bufferingItem;if(Q&&(_=n.updateItem(Q,n.bufferedPos),n.itemsMatch(Q,_)?n.bufferingItem=_:Q.event&&(n.bufferingItem=n.playingItem,n.clearInterstitial(Q.event,null))),i.forEach(function(j){j.assetList.forEach(function(At){n.clearAssetPlayer(At.identifier,null)})}),n.playerQueue.forEach(function(j){if(j.interstitial.appendInPlace){var At=j.assetItem.timelineStart,yt=j.timelineOffset-At;if(yt)try{j.timelineOffset=At}catch(Ot){Math.abs(yt)>ri&&n.warn(Ot+' ("'+j.assetId+'" '+j.timelineOffset+"->"+At+")")}}}),b||a){if(n.hls.trigger(D.INTERSTITIALS_UPDATED,{events:c.slice(0),schedule:f.slice(0),durations:m,removedIds:v}),n.isInterstitial(l)&&v.includes(l.event.identifier))return n.warn('Interstitial "'+l.event.identifier+'" removed while playing'),void n.primaryFallback(l.event);l&&n.trimInPlace(I,l),Q&&n.trimInPlace(_,Q),n.checkBuffer()}}},n.hls=t,n.HlsPlayerClass=e,n.assetListLoader=new Vs(t),n.schedule=new il(n.onScheduleUpdate,t.logger),n.registerListeners(),n}Kr(A,s);var r=A.prototype;return r.registerListeners=function(){var t=this.hls;t&&(t.on(D.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(D.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(D.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),t.on(D.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(D.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),t.on(D.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),t.on(D.ASSET_LIST_LOADED,this.onAssetListLoaded,this),t.on(D.BUFFER_APPENDED,this.onBufferAppended,this),t.on(D.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(D.BUFFERED_TO_END,this.onBufferedToEnd,this),t.on(D.MEDIA_ENDED,this.onMediaEnded,this),t.on(D.ERROR,this.onError,this),t.on(D.DESTROYING,this.onDestroying,this))},r.unregisterListeners=function(){var t=this.hls;t&&(t.off(D.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(D.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(D.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),t.off(D.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(D.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),t.off(D.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),t.off(D.ASSET_LIST_LOADED,this.onAssetListLoaded,this),t.off(D.BUFFER_CODECS,this.onBufferCodecs,this),t.off(D.BUFFER_APPENDED,this.onBufferAppended,this),t.off(D.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(D.BUFFERED_TO_END,this.onBufferedToEnd,this),t.off(D.MEDIA_ENDED,this.onMediaEnded,this),t.off(D.ERROR,this.onError,this),t.off(D.DESTROYING,this.onDestroying,this))},r.startLoad=function(){this.resumeBuffering()},r.stopLoad=function(){this.pauseBuffering()},r.resumeBuffering=function(){var t;null==(t=this.getBufferingPlayer())||t.resumeBuffering()},r.pauseBuffering=function(){var t;null==(t=this.getBufferingPlayer())||t.pauseBuffering()},r.destroy=function(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null},r.onDestroying=function(){var t=this.primaryMedia||this.media;t&&this.removeMediaListeners(t)},r.removeMediaListeners=function(t){us(t,"play",this.onPlay),us(t,"pause",this.onPause),us(t,"seeking",this.onSeeking),us(t,"timeupdate",this.onTimeupdate)},r.onMediaAttaching=function(t,e){var n=this.media=e.media;zA(n,"seeking",this.onSeeking),zA(n,"timeupdate",this.onTimeupdate),zA(n,"play",this.onPlay),zA(n,"pause",this.onPause)},r.onMediaAttached=function(t,e){var n=this.effectivePlayingItem,i=this.detachedData;if(this.detachedData=null,null===n)this.checkStart();else if(!i){this.clearScheduleState();var a=this.findItemIndex(n);this.setSchedulePosition(a)}},r.clearScheduleState=function(){this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null},r.onMediaDetaching=function(t,e){var n=!!e.transferMedia,i=this.media;if(this.media=null,!n&&(i&&this.removeMediaListeners(i),this.detachedData)){var a=this.getBufferingPlayer();a&&(this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,a.detachMedia()),this.shouldPlay=!1}},r.isInterstitial=function(t){return!(null==t||!t.event)},r.retreiveMediaSource=function(t,e){var n=this.getAssetPlayer(t);n&&this.transferMediaFromPlayer(n,e)},r.transferMediaFromPlayer=function(t,e){var i=t.media;if(t.interstitial.appendInPlace&&i===this.primaryMedia){if(this.bufferingAsset=null,(!e||this.isInterstitial(e)&&!e.event.appendInPlace)&&e&&i)return void(this.detachedData={media:i});var a=t.transferMedia();this.log("transfer MediaSource from "+t+" "+mt(a)),this.detachedData=a}else e&&i&&(this.shouldPlay||(this.shouldPlay=!i.paused))},r.transferMediaTo=function(t,e){var n,i,a=this;if(t.media!==e){var o,l=null,c=this.hls,f=t!==c,m=f&&t.interstitial.appendInPlace,v=null==(n=this.detachedData)?void 0:n.mediaSource;if(c.media)m&&(l=c.transferMedia(),this.detachedData=l),o="Primary";else if(v){var b=this.getBufferingPlayer();b?(l=b.transferMedia(),o=""+b):o="detached MediaSource"}else o="detached media";if(!l)if(v)this.log("using detachedData: MediaSource "+mt(l=this.detachedData));else if(!this.detachedData||c.media===e){var I=this.playerQueue;I.length>1&&I.forEach(function(yt){if(f&&yt.interstitial.appendInPlace!==m){var Ot=yt.interstitial;a.clearInterstitial(yt.interstitial,null),Ot.appendInPlace=!1,Ot.appendInPlace&&a.warn("Could not change append strategy for queued assets "+Ot)}}),this.hls.detachMedia(),this.detachedData={media:e}}var _=l&&"mediaSource"in l&&"closed"!==(null==(i=l.mediaSource)?void 0:i.readyState),Q=_&&l?l:e;this.log((_?"transfering MediaSource":"attaching media")+" to "+(f?t:"Primary")+" from "+o+" (media.currentTime: "+e.currentTime+")");var j=this.schedule;Q===l&&j&&(Q.overrides={duration:j.duration,endOfStream:!f||f&&t.assetId===j.assetIdAtEnd,cueRemoval:!f}),t.attachMedia(Q)}},r.onInterstitialCueEnter=function(){this.onTimeupdate()},r.checkStart=function(){var t=this.schedule,e=t?.events;if(e&&!this.playbackDisabled&&this.media){-1===this.bufferedPos&&(this.bufferedPos=0);var i=this.effectivePlayingItem;if(-1===this.timelinePos){var a=this.hls.startPosition;if(this.timelinePos=a,e.length&&e[0].cue.pre){var o=t.findEventIndex(e[0].identifier);this.setSchedulePosition(o)}else if(a>=0||!this.primaryLive){var l=this.timelinePos=a>0?a:0,c=t.findItemIndexAtTime(l);this.setSchedulePosition(c)}}else if(i&&!this.playingItem){var f=t.findItemIndex(i);this.setSchedulePosition(f)}}},r.advanceAssetBuffering=function(t,e){var n=t.event,i=n.findAssetIndex(e),a=so(n,i);if(n.isAssetPastPlayoutLimit(a)){if(this.schedule){var o,l=null==(o=this.schedule.items)?void 0:o[this.findItemIndex(t)+1];l&&this.bufferedToItem(l)}}else this.bufferedToEvent(t,a)},r.advanceAfterAssetEnded=function(t,e,n){var i=so(t,n);if(t.isAssetPastPlayoutLimit(i)){if(this.schedule){var a=this.schedule.items;if(a){var o=e+1;if(o>=a.length)return void this.setSchedulePosition(-1);var l=t.resumeTime;this.timelinePos<l&&(this.timelinePos=l,t.appendInPlace&&this.advanceInPlace(l),this.checkBuffer(this.bufferedPos<l)),this.setSchedulePosition(o)}}}else{if(t.appendInPlace){var c=t.assetList[i];c&&this.advanceInPlace(c.timelineStart)}this.setSchedulePosition(e,i)}},r.setScheduleToAssetAtTime=function(t,e){var n=this.schedule;if(n){var i=e.parentIdentifier,a=n.getEvent(i);if(a){var o=n.findEventIndex(i),l=n.findAssetIndex(a,t);this.advanceAfterAssetEnded(a,o,l-1)}}},r.setSchedulePosition=function(t,e){var n,i=null==(n=this.schedule)?void 0:n.items;if(i&&!this.playbackDisabled){var a=t>=0?i[t]:null;this.log("setSchedulePosition "+t+", "+e+" ("+(a&&_s(a))+")");var o=this.waitingItem||this.playingItem,l=this.playingLastItem;if(this.isInterstitial(o)){var c=o.event,f=this.playingAsset,m=f?.identifier,v=m?this.getAssetPlayer(m):null;if(v&&m&&(!this.eventItemsMatch(o,a)||void 0!==e&&m!==c.assetList[e].identifier)){var b,I=c.findAssetIndex(f);if(this.log("INTERSTITIAL_ASSET_ENDED "+(I+1)+"/"+c.assetList.length+" "+na(f)),this.endedAsset=f,this.playingAsset=null,this.hls.trigger(D.INTERSTITIAL_ASSET_ENDED,{asset:f,assetListIndex:I,event:c,schedule:i.slice(0),scheduleIndex:t,player:v}),o!==this.playingItem)return void(this.itemsMatch(o,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(c,this.findItemIndex(this.playingItem),I));this.retreiveMediaSource(m,a),!v.media||null!=(b=this.detachedData)&&b.mediaSource||v.detachMedia()}if(!this.eventItemsMatch(o,a)&&(this.endedItem=o,this.playingItem=null,this.log("INTERSTITIAL_ENDED "+c+" "+_s(o)),c.hasPlayed=!0,this.hls.trigger(D.INTERSTITIAL_ENDED,{event:c,schedule:i.slice(0),scheduleIndex:t}),c.cue.once)){var _;this.updateSchedule();var Q=null==(_=this.schedule)?void 0:_.items;if(a&&Q){var j=this.findItemIndex(a);this.advanceSchedule(j,Q,e,o,l)}return}}this.advanceSchedule(t,i,e,o,l)}},r.advanceSchedule=function(t,e,n,i,a){var o=this,l=this.schedule;if(l){var c=t>=0?e[t]:null,f=this.primaryMedia,m=this.playerQueue;if(m.length&&m.forEach(function(At){var yt=At.interstitial,Ot=l.findEventIndex(yt.identifier);(Ot<t||Ot>t+1)&&o.clearInterstitial(yt,c)}),this.isInterstitial(c)){this.timelinePos=Math.min(Math.max(this.timelinePos,c.start),c.end);var v=c.event;if(void 0===n){var b=so(v,(n=l.findAssetIndex(v,this.timelinePos))-1);if(v.isAssetPastPlayoutLimit(b)||v.appendInPlace&&this.timelinePos===c.end)return void this.advanceAfterAssetEnded(v,t,n);n=b}var I=this.waitingItem;this.assetsBuffered(c,f)||this.setBufferingItem(c);var _=this.preloadAssets(v,n);if(this.eventItemsMatch(c,I||i)||(this.waitingItem=c,this.log("INTERSTITIAL_STARTED "+_s(c)+" "+(v.appendInPlace?"append in place":"")),this.hls.trigger(D.INTERSTITIAL_STARTED,{event:v,schedule:e.slice(0),scheduleIndex:t})),!v.assetListLoaded)return void this.log("Waiting for ASSET-LIST to complete loading "+v);if(v.assetListLoader&&(v.assetListLoader.destroy(),v.assetListLoader=void 0),!f)return void this.log("Waiting for attachMedia to start Interstitial "+v);this.waitingItem=this.endedItem=null,this.playingItem=c;var Q=v.assetList[n];if(!Q)return void this.advanceAfterAssetEnded(v,t,n||0);if(_||(_=this.getAssetPlayer(Q.identifier)),(null===_||_.destroyed)&&(this.warn("asset "+(n+1)+"/"+v.assetList.length+" player destroyed "+v),(_=this.createAssetPlayer(v,Q,n)).loadSource()),!this.eventItemsMatch(c,this.bufferingItem)&&v.appendInPlace&&this.isAssetBuffered(Q))return;this.startAssetPlayer(_,n,e,t,f),this.shouldPlay&&Ro(_.media)}else null!==c?(this.resumePrimary(c,t,i),this.shouldPlay&&Ro(this.hls.media)):a&&this.isInterstitial(i)&&(this.endedItem=null,this.playingItem=i,i.event.appendInPlace||this.attachPrimary(l.durations.primary,null))}},r.resumePrimary=function(t,e,n){var i,a;if(this.playingItem=t,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(t),this.log("resuming "+_s(t)),null==(i=this.detachedData)||!i.mediaSource){var o=this.timelinePos;(o<t.start||o>=t.end)&&(o=this.getPrimaryResumption(t,e),this.timelinePos=o),this.attachPrimary(o,t)}if(n){var l=null==(a=this.schedule)?void 0:a.items;l&&(this.log("INTERSTITIALS_PRIMARY_RESUMED "+_s(t)),this.hls.trigger(D.INTERSTITIALS_PRIMARY_RESUMED,{schedule:l.slice(0),scheduleIndex:e}),this.checkBuffer())}},r.getPrimaryResumption=function(t,e){var n=t.start;if(this.primaryLive){var i=this.primaryDetails;if(0===e)return this.hls.startPosition;if(i&&(n<i.fragmentStart||n>i.edge))return this.hls.liveSyncPosition||-1}return n},r.isAssetBuffered=function(t){var e=this.getAssetPlayer(t.identifier);return null!=e&&e.hls?e.hls.bufferedToEnd:w.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=t.timelineStart+(t.duration||0)},r.attachPrimary=function(t,e,n){e?this.setBufferingItem(e):this.bufferingItem=this.playingItem,this.bufferingAsset=null;var i=this.primaryMedia;if(i){var a=this.hls;a.media?this.checkBuffer():(this.transferMediaTo(a,i),n&&this.startLoadingPrimaryAt(t,n)),n||(this.timelinePos=t,this.startLoadingPrimaryAt(t,n))}},r.startLoadingPrimaryAt=function(t,e){var n,i=this.hls;!i.loadingEnabled||!i.media||Math.abs(((null==(n=i.mainForwardBufferInfo)?void 0:n.start)||i.media.currentTime)-t)>.5?i.startLoad(t,e):i.bufferingEnabled||i.resumeBuffering()},r.onManifestLoading=function(){var t;this.stopLoad(),null==(t=this.schedule)||t.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(D.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(D.BUFFER_CODECS,this.onBufferCodecs,this)},r.onLevelUpdated=function(t,e){if(-1!==e.level&&this.schedule){var n=this.hls.levels[e.level],i=tn(tn({},this.mediaSelection||this.altSelection),{},{main:n});this.mediaSelection=i,this.schedule.parseInterstitialDateRanges(i,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}},r.onAudioTrackUpdated=function(t,e){var n=this.hls.audioTracks[e.id],i=this.mediaSelection;if(i){var a=tn(tn({},i),{},{audio:n});this.mediaSelection=a}else this.altSelection=tn(tn({},this.altSelection),{},{audio:n})},r.onSubtitleTrackUpdated=function(t,e){var n=this.hls.subtitleTracks[e.id],i=this.mediaSelection;if(i){var a=tn(tn({},i),{},{subtitles:n});this.mediaSelection=a}else this.altSelection=tn(tn({},this.altSelection),{},{subtitles:n})},r.onAudioTrackSwitching=function(t,e){var n=$(e);this.playerQueue.forEach(function(i){var a=i.hls;return a&&(a.setAudioOption(e)||a.setAudioOption(n))})},r.onSubtitleTrackSwitch=function(t,e){var n=$(e);this.playerQueue.forEach(function(i){var a=i.hls;return a&&(a.setSubtitleOption(e)||-1!==e.id&&a.setSubtitleOption(n))})},r.onBufferCodecs=function(t,e){var n=e.tracks;n&&(this.requiredTracks=n)},r.onBufferAppended=function(t,e){this.checkBuffer()},r.onBufferFlushed=function(t,e){var n=this.playingItem;!n||this.itemsMatch(n,this.bufferingItem)||this.isInterstitial(n)||(this.bufferedPos=this.timelinePos,this.checkBuffer())},r.onBufferedToEnd=function(t){if(this.schedule){var e=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&e){for(var n=0;n<e.length;n++){var i=e[n];if(i.cue.post){var a,o=this.schedule.findEventIndex(i.identifier),l=null==(a=this.schedule.items)?void 0:a[o];this.isInterstitial(l)&&this.eventItemsMatch(l,this.bufferingItem)&&this.bufferedToItem(l,0);break}}this.bufferedPos=Number.MAX_VALUE}}},r.onMediaEnded=function(t){var e=this.playingItem;if(!this.playingLastItem&&e){var n=this.findItemIndex(e);this.setSchedulePosition(n+1)}else this.shouldPlay=!1},r.updateItem=function(t,e){var n,i=null==(n=this.schedule)?void 0:n.items;return t&&i&&i[this.findItemIndex(t,e)]||null},r.trimInPlace=function(t,e){var n=this;if(this.isInterstitial(t)&&t.event.appendInPlace&&e.end-t.end>.25){t.event.assetList.forEach(function(o,l){t.event.isAssetPastPlayoutLimit(l)&&n.clearAssetPlayer(o.identifier,null)});var i=t.end+.25,a=w.bufferInfo(this.primaryMedia,i,0);(a.end>i||(a.nextStart||0)>i)&&(this.attachPrimary(i,null),this.flushFrontBuffer(i))}},r.itemsMatch=function(t,e){return!!e&&(t===e||t.event&&e.event&&this.eventItemsMatch(t,e)||!t.event&&!e.event&&this.findItemIndex(t)===this.findItemIndex(e))},r.eventItemsMatch=function(t,e){var n;return!!e&&(t===e||t.event.identifier===(null==(n=e.event)?void 0:n.identifier))},r.findItemIndex=function(t,e){return t&&this.schedule?this.schedule.findItemIndex(t,e):-1},r.updateSchedule=function(t){var e;void 0===t&&(t=!1);var n=this.mediaSelection;n&&(null==(e=this.schedule)||e.updateSchedule(n,[],t))},r.checkBuffer=function(t){var e,n=null==(e=this.schedule)?void 0:e.items;if(n){var i=w.bufferInfo(this.primaryMedia,this.timelinePos,0);t&&(this.bufferedPos=this.timelinePos),t||(t=i.len<1),this.updateBufferedPos(i.end,n,t)}},r.updateBufferedPos=function(t,e,n){var i=this.schedule,a=this.bufferingItem;if(!(this.bufferedPos>t)&&i)if(1===e.length&&this.itemsMatch(e[0],a))this.bufferedPos=t;else{var o=this.playingItem,l=this.findItemIndex(o),c=i.findItemIndexAtTime(t);if(this.bufferedPos<t){var f,m=this.findItemIndex(a),v=Math.min(m+1,e.length-1),b=e[v];if((-1===c&&a&&t>=a.end||null!=(f=b.event)&&f.appendInPlace&&t+.01>=b.start)&&(c=v),this.isInterstitial(a)){var I=a.event;if(v-l>1&&!1===I.appendInPlace||0===I.assetList.length&&I.assetListLoader)return}if(this.bufferedPos=t,c>m&&c>l)this.bufferedToItem(b);else{var _=this.primaryDetails;this.primaryLive&&_&&t>_.edge-_.targetduration&&b.start<_.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(b)&&this.preloadAssets(b.event,0)}}else n&&o&&!this.itemsMatch(o,a)&&(c===l?this.bufferedToItem(o):c===l+1&&this.bufferedToItem(e[c]))}},r.assetsBuffered=function(t,e){var n=this;return 0!==t.event.assetList.length&&!t.event.assetList.some(function(i){var a=n.getAssetPlayer(i.identifier);return!(null!=a&&a.bufferedInPlaceToEnd(e))})},r.setBufferingItem=function(t){var e=this,n=this.bufferingItem,i=this.schedule;if(!this.itemsMatch(t,n)&&i){var a=i.items,o=i.events;if(!a||!o)return n;var l=this.isInterstitial(t),c=this.getBufferingPlayer();this.bufferingItem=t,this.bufferedPos=Math.max(t.start,Math.min(t.end,this.timelinePos));var f=c?c.remaining:n?n.end-this.timelinePos:0;if(this.log("INTERSTITIALS_BUFFERED_TO_BOUNDARY "+_s(t)+(n?" ("+f.toFixed(2)+" remaining)":"")),!this.playbackDisabled)if(l){var m=i.findAssetIndex(t.event,this.bufferedPos);t.event.assetList.forEach(function(v,b){var I=e.getAssetPlayer(v.identifier);I&&(b===m&&I.loadSource(),I.resumeBuffering())})}else this.hls.resumeBuffering(),this.playerQueue.forEach(function(v){return v.pauseBuffering()});this.hls.trigger(D.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:o.slice(0),schedule:a.slice(0),bufferingIndex:this.findItemIndex(t),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==t&&(this.bufferingItem=t);return n},r.bufferedToItem=function(t,e){void 0===e&&(e=0);var n=this.setBufferingItem(t);if(!this.playbackDisabled)if(this.isInterstitial(t))this.bufferedToEvent(t,e);else if(null!==n){this.bufferingAsset=null;var i=this.detachedData;i&&i.mediaSource?this.attachPrimary(t.start,t,!0):this.preloadPrimary(t)}},r.preloadPrimary=function(t){var e=this.findItemIndex(t),n=this.getPrimaryResumption(t,e);this.startLoadingPrimaryAt(n)},r.bufferedToEvent=function(t,e){var n=t.event;if(0===n.assetList.length&&!n.assetListLoader||!n.cue.once){var o=this.preloadAssets(n,e);if(null!=o&&o.interstitial.appendInPlace){var l=this.primaryMedia;l&&this.bufferAssetPlayer(o,l)}}},r.preloadAssets=function(t,e){var n=t.assetUrl,i=t.assetList.length;if(0!==i||t.assetListLoader){if(!t.cue.once&&i){for(var _=e;_<i;_++){var Q=t.assetList[_],j=this.getAssetPlayerQueueIndex(Q.identifier);-1!==j&&!this.playerQueue[j].destroyed||Q.error||this.createAssetPlayer(t,Q,_)}var At=t.assetList[e];if(At){var yt=this.getAssetPlayer(At.identifier);return yt&&yt.loadSource(),yt}}}else{var l,c=t.timelineStart;if(t.appendInPlace){var f,m=this.playingItem;this.isInterstitial(m)||(null==m||null==(f=m.nextEvent)?void 0:f.identifier)!==t.identifier||this.flushFrontBuffer(c+.25)}var v=0;if(!this.playingItem&&this.primaryLive&&-1===(v=this.hls.startPosition)&&(v=this.hls.liveSyncPosition||0),v&&!t.cue.pre&&!t.cue.post){var b=v-c;b>0&&(l=Math.round(1e3*b)/1e3)}if(this.log("Load interstitial asset "+(e+1)+"/"+(n?1:i)+" "+t+(l?" live-start: "+v+" start-offset: "+l:"")),n)return this.createAsset(t,0,0,c,t.duration,n);var I=this.assetListLoader.loadAssetList(t,l);I&&(t.assetListLoader=I)}return null},r.flushFrontBuffer=function(t){var e=this,n=this.requiredTracks;n&&(this.log("Removing front buffer starting at "+t),Object.keys(n).forEach(function(i){e.hls.trigger(D.BUFFER_FLUSHING,{startOffset:t,endOffset:1/0,type:i})}))},r.getAssetPlayerQueueIndex=function(t){for(var e=this.playerQueue,n=0;n<e.length;n++)if(t===e[n].assetId)return n;return-1},r.getAssetPlayer=function(t){var e=this.getAssetPlayerQueueIndex(t);return this.playerQueue[e]||null},r.getBufferingPlayer=function(){var t=this.playerQueue,e=this.primaryMedia;if(e)for(var n=0;n<t.length;n++)if(t[n].media===e)return t[n];return null},r.createAsset=function(t,e,n,i,a,o){var l={parentIdentifier:t.identifier,identifier:rl(t,o,e),duration:a,startOffset:n,timelineStart:i,uri:o};return this.createAssetPlayer(t,l,e)},r.createAssetPlayer=function(t,e,n){var i=this,a=this.hls,o=a.userConfig,l=o.videoPreference,c=a.loadLevelObj||a.levels[a.currentLevel];(l||c)&&(l=Lr({},l),c.videoCodec&&(l.videoCodec=c.videoCodec),c.videoRange&&(l.allowedVideoRanges=[c.videoRange]));var f=a.audioTracks[a.audioTrack],m=a.subtitleTracks[a.subtitleTrack],v=0;if(this.primaryLive||t.appendInPlace){var b=this.timelinePos-e.timelineStart;if(b>1){var I=e.duration;I&&b<I&&(v=b)}}var _=e.identifier,Q=tn(tn({},o),{},{maxMaxBufferLength:Math.min(180,a.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:a.sessionId,assetPlayerId:_,abrEwmaDefaultEstimate:a.bandwidthEstimate,interstitialsController:void 0,startPosition:v,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:l,audioPreference:f||o.audioPreference,subtitlePreference:m||o.subtitlePreference});t.appendInPlace&&(t.appendInPlaceStarted=!0,e.timelineStart&&(Q.timelineOffset=e.timelineStart));var j=Q.cmcd;null!=j&&j.sessionId&&j.contentId&&(Q.cmcd=Lr({},j,{contentId:ga(e.uri)})),this.getAssetPlayer(_)&&this.warn("Duplicate date range identifier "+t+" and asset "+_);var At=new ao(this.HlsPlayerClass,Q,t,e);this.playerQueue.push(At),t.assetList[n]=e;var yt=!0,Ot=function(Wt){if(Wt.live){var Pt,Gt=new Error("Interstitials MUST be VOD assets "+t),he={fatal:!0,type:Ve.OTHER_ERROR,details:Ht.INTERSTITIAL_ASSET_ITEM_ERROR,error:Gt},ye=(null==(Pt=i.schedule)?void 0:Pt.findEventIndex(t.identifier))||-1;i.handleAssetItemError(he,t,ye,n,Gt.message)}else{var He=Wt.edge-Wt.fragmentStart,je=e.duration;(yt||null===je||He>je)&&(yt=!1,i.log('Interstitial asset "'+_+'" duration change '+je+" > "+He),e.duration=He,i.updateSchedule())}};At.on(D.LEVEL_UPDATED,function(Wt,Pt){return Ot(Pt.details)}),At.on(D.LEVEL_PTS_UPDATED,function(Wt,Pt){return Ot(Pt.details)}),At.on(D.EVENT_CUE_ENTER,function(){return i.onInterstitialCueEnter()});var Ft=function(Wt,Pt){var Gt=i.getAssetPlayer(_);if(Gt&&Pt.tracks){Gt.off(D.BUFFER_CODECS,Ft),Gt.tracks=Pt.tracks;var he=i.primaryMedia;i.bufferingAsset===Gt.assetItem&&he&&!Gt.media&&i.bufferAssetPlayer(Gt,he)}};At.on(D.BUFFER_CODECS,Ft),At.on(D.BUFFERED_TO_END,function(){var Wt,Pt=i.getAssetPlayer(_);if(i.log("buffered to end of asset "+Pt),Pt&&i.schedule){var Gt=i.schedule.findEventIndex(t.identifier),he=null==(Wt=i.schedule.items)?void 0:Wt[Gt];i.isInterstitial(he)&&i.advanceAssetBuffering(he,e)}});var xt=function(Wt){return function(){if(i.getAssetPlayer(_)&&i.schedule){i.shouldPlay=!0;var Pt=i.schedule.findEventIndex(t.identifier);i.advanceAfterAssetEnded(t,Pt,Wt)}}};return At.once(D.MEDIA_ENDED,xt(n)),At.once(D.PLAYOUT_LIMIT_REACHED,xt(1/0)),At.on(D.ERROR,function(Wt,Pt){if(i.schedule){var Gt=i.getAssetPlayer(_);if(Pt.details===Ht.BUFFER_STALLED_ERROR)return null!=Gt&&Gt.appendInPlace?void i.handleInPlaceStall(t):(i.onTimeupdate(),void i.checkBuffer(!0));i.handleAssetItemError(Pt,t,i.schedule.findEventIndex(t.identifier),n,"Asset player error "+Pt.error+" "+t)}}),At.on(D.DESTROYING,function(){if(i.getAssetPlayer(_)&&i.schedule){var Wt=new Error("Asset player destroyed unexpectedly "+_);i.handleAssetItemError({fatal:!0,type:Ve.OTHER_ERROR,details:Ht.INTERSTITIAL_ASSET_ITEM_ERROR,error:Wt},t,i.schedule.findEventIndex(t.identifier),n,Wt.message)}}),this.log("INTERSTITIAL_ASSET_PLAYER_CREATED "+na(e)),this.hls.trigger(D.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:e,assetListIndex:n,event:t,player:At}),At},r.clearInterstitial=function(t,e){var n=this;t.assetList.forEach(function(i){n.clearAssetPlayer(i.identifier,e)}),t.reset()},r.resetAssetPlayer=function(t){var e=this.getAssetPlayerQueueIndex(t);if(-1!==e){this.log('reset asset player "'+t+'" after error');var n=this.playerQueue[e];this.transferMediaFromPlayer(n,null),n.resetDetails()}},r.clearAssetPlayer=function(t,e){var n=this.getAssetPlayerQueueIndex(t);if(-1!==n){this.log('clear asset player "'+t+'" toSegment: '+(e&&_s(e)));var i=this.playerQueue[n];this.transferMediaFromPlayer(i,e),this.playerQueue.splice(n,1),i.destroy()}},r.emptyPlayerQueue=function(){for(var t;t=this.playerQueue.pop();)t.destroy();this.playerQueue=[]},r.startAssetPlayer=function(t,e,n,i,a){var o=t.interstitial,l=t.assetItem,c=t.assetId,f=o.assetList.length,m=this.playingAsset;this.endedAsset=null,this.playingAsset=l,m&&m.identifier===c||(m&&(this.clearAssetPlayer(m.identifier,n[i]),delete m.error),this.log("INTERSTITIAL_ASSET_STARTED "+(e+1)+"/"+f+" "+na(l)),this.hls.trigger(D.INTERSTITIAL_ASSET_STARTED,{asset:l,assetListIndex:e,event:o,schedule:n.slice(0),scheduleIndex:i,player:t})),this.bufferAssetPlayer(t,a)},r.bufferAssetPlayer=function(t,e){var n,i;if(this.schedule){var a=t.interstitial,o=t.assetItem,l=this.schedule.findEventIndex(a.identifier),c=null==(n=this.schedule.items)?void 0:n[l];if(c){t.loadSource(),this.setBufferingItem(c),this.bufferingAsset=o;var f=this.getBufferingPlayer();if(f!==t){var m=a.appendInPlace;if(!m||!1!==f?.interstitial.appendInPlace){var v=f?.tracks||(null==(i=this.detachedData)?void 0:i.tracks)||this.requiredTracks;if(m&&o!==this.playingAsset){if(!t.tracks)return void this.log("Waiting for track info before buffering "+t);if(v&&!YA(v,t.tracks)){var b=new Error("Asset "+na(o)+" SourceBuffer tracks ('"+Object.keys(t.tracks)+"') are not compatible with primary content tracks ('"+Object.keys(v)+"')"),I={fatal:!0,type:Ve.OTHER_ERROR,details:Ht.INTERSTITIAL_ASSET_ITEM_ERROR,error:b},_=a.findAssetIndex(o);return void this.handleAssetItemError(I,a,l,_,b.message)}}this.transferMediaTo(t,e)}}}}},r.handleInPlaceStall=function(t){var e=this.schedule,n=this.primaryMedia;if(e&&n){var i=n.currentTime,a=e.findAssetIndex(t,i),o=t.assetList[a];if(o){var l=this.getAssetPlayer(o.identifier);if(l){var c=l.currentTime||i-o.timelineStart,f=l.duration-c;if(this.warn("Stalled at "+c+" of "+(c+f)+" in "+l+" "+t+" (media.currentTime: "+i+")"),c&&(f/n.playbackRate<.5||l.bufferedInPlaceToEnd(n))&&l.hls){var m=e.findEventIndex(t.identifier);this.advanceAfterAssetEnded(t,m,a)}}}}},r.advanceInPlace=function(t){var e=this.primaryMedia;e&&e.currentTime<t&&(e.currentTime=t)},r.handleAssetItemError=function(t,e,n,i,a){if(t.details!==Ht.BUFFER_STALLED_ERROR){var o=e.assetList[i]||null;if(this.warn("INTERSTITIAL_ASSET_ERROR "+(o&&na(o))+" "+t.error),this.schedule){var l=o?.identifier||"",c=this.getAssetPlayerQueueIndex(l),f=this.playerQueue[c]||null,m=this.schedule.items,v=Lr({},t,{fatal:!1,errorAction:$e(!0),asset:o,assetListIndex:i,event:e,schedule:m,scheduleIndex:n,player:f});if(this.hls.trigger(D.INTERSTITIAL_ASSET_ERROR,v),t.fatal){var b=this.playingAsset,I=this.bufferingAsset,_=new Error(a);if(o&&(this.clearAssetPlayer(l,null),o.error=_),e.assetList.some(function(j){return!j.error}))for(var Q=i;Q<e.assetList.length;Q++)this.resetAssetPlayer(e.assetList[Q].identifier);else e.error=_;this.updateSchedule(!0),e.error?this.primaryFallback(e):b&&b.identifier===l?this.advanceAfterAssetEnded(e,n,i):I&&I.identifier===l&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,I)}}}},r.primaryFallback=function(t){var e=t.timelineStart,n=this.effectivePlayingItem;if(n){this.log('Fallback to primary from event "'+t.identifier+'" start: '+e+" pos: "+this.timelinePos+" playing: "+_s(n)+" error: "+t.error);var i=this.timelinePos;-1===i&&(i=this.hls.startPosition);var a=this.updateItem(n,i);if(this.itemsMatch(n,a)&&this.clearInterstitial(t,null),t.appendInPlace&&(this.attachPrimary(e,null),this.flushFrontBuffer(e)),!this.schedule)return;var o=this.schedule.findItemIndexAtTime(i);this.setSchedulePosition(o)}else this.checkStart()},r.onAssetListLoaded=function(t,e){var n,i,a=this,o=e.event,l=o.identifier,c=e.assetListResponse.ASSETS;if(null!=(n=this.schedule)&&n.hasEvent(l)){var f=o.timelineStart,m=o.duration,v=0;c.forEach(function(xt,Wt){var Pt=parseFloat(xt.DURATION);a.createAsset(o,Wt,v,f+v,Pt,xt.URI),v+=Pt}),o.duration=v,this.log("Loaded asset-list with duration: "+v+" (was: "+m+") "+o);var I=this.waitingItem?.event.identifier===l;this.updateSchedule();var _=null==(i=this.bufferingItem)?void 0:i.event;if(I){var Q,j=this.schedule.findEventIndex(l),At=null==(Q=this.schedule.items)?void 0:Q[j];if(At){if(!this.playingItem&&this.timelinePos>At.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==j)return o.error=new Error("Interstitial no longer within playback range "+this.timelinePos+" "+o),this.updateSchedule(!0),void this.primaryFallback(o);this.setBufferingItem(At)}this.setSchedulePosition(j)}else if(_?.identifier===l){var yt=o.assetList[0];if(yt){var Ot=this.getAssetPlayer(yt.identifier);if(_.appendInPlace){var Ft=this.primaryMedia;Ot&&Ft&&this.bufferAssetPlayer(Ot,Ft)}else Ot&&Ot.loadSource()}}}},r.onError=function(t,e){if(this.schedule)switch(e.details){case Ht.ASSET_LIST_PARSING_ERROR:case Ht.ASSET_LIST_LOAD_ERROR:case Ht.ASSET_LIST_LOAD_TIMEOUT:var n=e.interstitial;n&&(this.updateSchedule(!0),this.primaryFallback(n));break;case Ht.BUFFER_STALLED_ERROR:var i=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(i)&&i.event.appendInPlace)return void this.handleInPlaceStall(i.event);this.log("Primary player stall @"+this.timelinePos+" bufferedPos: "+this.bufferedPos),this.onTimeupdate(),this.checkBuffer(!0)}},Xr(A,[{key:"interstitialsManager",get:function(){if(!this.hls)return null;if(this.manager)return this.manager;var t=this,e=function(){return t.bufferingItem||t.waitingItem},n=function(m){return m&&t.getAssetPlayer(m.identifier)},i=function(m,v,b,I,_){if(m){var Q=m[v].start,j=m.event;if(j){if("playout"===v||j.timelineOccupancy!==pa.Point){var At=n(b);At?.interstitial===j&&(Q+=At.assetItem.startOffset+At[_])}}else Q+=("bufferedPos"===I?a():t[I])-m.start;return Q}return 0},a=function(){var m=t.bufferedPos;return m===Number.MAX_VALUE?o("primary"):Math.max(m,0)},o=function(m){var v,b;return null!=(v=t.primaryDetails)&&v.live?t.primaryDetails.edge:(null==(b=t.schedule)?void 0:b.durations[m])||0},l=function(m,v){var b,I,_=t.effectivePlayingItem;if((null==_||null==(b=_.event)||!b.restrictions.skip)&&t.schedule){t.log("seek to "+m+' "'+v+'"');var Q=t.effectivePlayingItem,j=t.schedule.findItemIndexAtTime(m,v),At=null==(I=t.schedule.items)?void 0:I[j],yt=t.getBufferingPlayer(),Ot=yt?.interstitial,Ft=Ot?.appendInPlace,xt=Q&&t.itemsMatch(Q,At);if(Q&&(Ft||xt)){var Wt=n(t.playingAsset),Pt=Wt?.media||t.primaryMedia;if(Pt){var Gt="primary"===v?Pt.currentTime:i(Q,v,t.playingAsset,"timelinePos","currentTime"),ye=(Ft?Gt:Pt.currentTime)+(m-Gt);if(ye>=0&&(!Wt||Ft||ye<=Wt.duration))return void(Pt.currentTime=ye)}}if(At){var He=m;"primary"!==v&&(He=At.start+(m-At[v].start));var Re=!t.isInterstitial(At);if(t.isInterstitial(Q)&&!Q.event.appendInPlace||!Re&&!At.event.appendInPlace){if(Q){var Ze=t.findItemIndex(Q);if(j>Ze){var Ge=t.schedule.findJumpRestrictedIndex(Ze+1,j);if(Ge>Ze)return void t.setSchedulePosition(Ge)}var tr=0;if(Re)t.timelinePos=He,t.checkBuffer();else for(var Or=At.event.assetList,sr=m-(At[v]||At).start,Cr=Or.length;Cr--;){var an=Or[Cr];if(an.duration&&sr>=an.startOffset&&sr<an.startOffset+an.duration){tr=Cr;break}}t.setSchedulePosition(j,tr)}}else{var gn=t.media||(Ft?yt?.media:null);gn&&(gn.currentTime=He)}}}},c=function(){var m=t.effectivePlayingItem;if(t.isInterstitial(m))return m;var v=e();return t.isInterstitial(v)?v:null},f={get bufferedEnd(){var m,v=e(),b=t.bufferingItem;return b&&b===v&&(i(b,"playout",t.bufferingAsset,"bufferedPos","bufferedEnd")-b.playout.start||(null==(m=t.bufferingAsset)?void 0:m.startOffset))||0},get currentTime(){var m=c(),v=t.effectivePlayingItem;return v&&v===m?i(v,"playout",t.effectivePlayingAsset,"timelinePos","currentTime")-v.playout.start:0},set currentTime(m){var v=c(),b=t.effectivePlayingItem;b&&b===v&&l(m+b.playout.start,"playout")},get duration(){var m=c();return m?m.playout.end-m.playout.start:0},get assetPlayers(){var m,v=null==(m=c())?void 0:m.event.assetList;return v?v.map(function(b){return t.getAssetPlayer(b.identifier)}):[]},get playingIndex(){var m,v=null==(m=c())?void 0:m.event;return v&&t.effectivePlayingAsset?v.findAssetIndex(t.effectivePlayingAsset):-1},get scheduleItem(){return c()}};return this.manager={get events(){var m;return(null==(m=t.schedule)||null==(m=m.events)?void 0:m.slice(0))||[]},get schedule(){var m;return(null==(m=t.schedule)||null==(m=m.items)?void 0:m.slice(0))||[]},get interstitialPlayer(){return c()?f:null},get playerQueue(){return t.playerQueue.slice(0)},get bufferingAsset(){return t.bufferingAsset},get bufferingItem(){return e()},get bufferingIndex(){var m=e();return t.findItemIndex(m)},get playingAsset(){return t.effectivePlayingAsset},get playingItem(){return t.effectivePlayingItem},get playingIndex(){return t.findItemIndex(t.effectivePlayingItem)},primary:{get bufferedEnd(){return a()},get currentTime(){var m=t.timelinePos;return m>0?m:0},set currentTime(m){l(m,"primary")},get duration(){return o("primary")},get seekableStart(){var m;return(null==(m=t.primaryDetails)?void 0:m.fragmentStart)||0}},integrated:{get bufferedEnd(){return i(e(),"integrated",t.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return i(t.effectivePlayingItem,"integrated",t.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(m){l(m,"integrated")},get duration(){return o("integrated")},get seekableStart(){var m;return function(v,b){var I;if(0!==v&&null!=(I=t.schedule)&&I.length){var _,Q=t.schedule.findItemIndexAtTime(v),j=null==(_=t.schedule.items)?void 0:_[Q];if(j)return v+(j.integrated.start-j.start)}return v}((null==(m=t.primaryDetails)?void 0:m.fragmentStart)||0)}},skip:function(){var m=t.effectivePlayingItem,v=m?.event;if(v&&!v.restrictions.skip){var b=t.findItemIndex(m);v.appendInPlace?l(m.playout.start+m.event.duration+.001,"playout"):t.advanceAfterAssetEnded(v,b,1/0)}}}}},{key:"effectivePlayingItem",get:function(){return this.waitingItem||this.playingItem||this.endedItem}},{key:"effectivePlayingAsset",get:function(){return this.playingAsset||this.endedAsset}},{key:"playingLastItem",get:function(){var t,e=this.playingItem,n=null==(t=this.schedule)?void 0:t.items;return!!(this.playbackStarted&&e&&n)&&this.findItemIndex(e)===n.length-1}},{key:"playbackStarted",get:function(){return null!==this.effectivePlayingItem}},{key:"currentTime",get:function(){var t,e;if(null!==this.mediaSelection){var n=this.waitingItem||this.playingItem;if(!this.isInterstitial(n)||n.event.appendInPlace){var i=this.media;!i&&null!=(t=this.bufferingItem)&&null!=(t=t.event)&&t.appendInPlace&&(i=this.primaryMedia);var a=null==(e=i)?void 0:e.currentTime;if(void 0!==a&&ke(a))return a}}}},{key:"primaryMedia",get:function(){var t;return this.media||(null==(t=this.detachedData)?void 0:t.media)||null}},{key:"playbackDisabled",get:function(){return!1===this.hls.config.enableInterstitialPlayback}},{key:"primaryDetails",get:function(){var t;return null==(t=this.mediaSelection)?void 0:t.main.details}},{key:"primaryLive",get:function(){var t;return!(null==(t=this.primaryDetails)||!t.live)}}])}(mi),Al=function(s){function A(t,e,n){var i;return(i=s.call(this,t,e,n,"subtitle-stream-controller",Di)||this).currentTrackId=-1,i.tracksBuffered=[],i.mainDetails=null,i.registerListeners(),i}Kr(A,s);var r=A.prototype;return r.onHandlerDestroying=function(){this.unregisterListeners(),s.prototype.onHandlerDestroying.call(this),this.mainDetails=null},r.registerListeners=function(){s.prototype.registerListeners.call(this);var t=this.hls;t.on(D.LEVEL_LOADED,this.onLevelLoaded,this),t.on(D.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(D.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(D.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(D.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(D.BUFFER_FLUSHING,this.onBufferFlushing,this)},r.unregisterListeners=function(){s.prototype.unregisterListeners.call(this);var t=this.hls;t.off(D.LEVEL_LOADED,this.onLevelLoaded,this),t.off(D.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(D.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(D.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(D.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(D.BUFFER_FLUSHING,this.onBufferFlushing,this)},r.startLoad=function(t,e){this.stopLoad(),this.state=ae.IDLE,this.setInterval(500),this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=e?-1:t,this.tick()},r.onManifestLoading=function(){s.prototype.onManifestLoading.call(this),this.mainDetails=null},r.onMediaDetaching=function(t,e){this.tracksBuffered=[],s.prototype.onMediaDetaching.call(this,t,e)},r.onLevelLoaded=function(t,e){this.mainDetails=e.details},r.onSubtitleFragProcessed=function(t,e){var n=e.frag,i=e.success;if(this.fragContextChanged(n)||(Cn(n)&&(this.fragPrevious=n),this.state=ae.IDLE),i){var a=this.tracksBuffered[this.currentTrackId];if(a){for(var o,l=n.start,c=0;c<a.length;c++)if(l>=a[c].start&&l<=a[c].end){o=a[c];break}var f=n.start+n.duration;o?o.end=f:a.push(o={start:l,end:f}),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null),this.media&&this.tick()}}},r.onBufferFlushing=function(t,e){var n=e.startOffset,i=e.endOffset;if(0===n&&i!==Number.POSITIVE_INFINITY){var a=i-1;if(a<=0)return;e.endOffsetSubtitles=Math.max(0,a),this.tracksBuffered.forEach(function(o){for(var l=0;l<o.length;)if(o[l].end<=a)o.shift();else{if(!(o[l].start<a))break;o[l].start=a,l++}}),this.fragmentTracker.removeFragmentsInRange(n,a,Di)}},r.onError=function(t,e){var n=e.frag;n?.type===Di&&(e.details===Ht.FRAG_GAP&&this.fragmentTracker.fragBuffered(n,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==ae.STOPPED&&(this.state=ae.IDLE))},r.onSubtitleTracksUpdated=function(t,e){var n=this,i=e.subtitleTracks;this.levels&&Hs(this.levels,i)?this.levels=i.map(function(a){return new st(a)}):(this.tracksBuffered=[],this.levels=i.map(function(a){var o=new st(a);return n.tracksBuffered[o.id]=[],o}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Di),this.fragPrevious=null,this.mediaBuffer=null)},r.onSubtitleTrackSwitch=function(t,e){var n;if(this.currentTrackId=e.id,null!=(n=this.levels)&&n.length&&-1!==this.currentTrackId){var i=this.levels[this.currentTrackId];this.mediaBuffer=null!=i&&i.details?this.mediaBufferTimeRanges:null,i&&this.state!==ae.STOPPED&&this.setInterval(500)}else this.clearInterval()},r.onSubtitleTrackLoaded=function(t,e){var n,i=this.currentTrackId,a=this.levels,o=e.details,l=e.id;if(a){var c=a[l];if(!(l>=a.length)&&c){this.log("Subtitle track "+l+" loaded ["+o.startSN+","+o.endSN+"]"+(o.lastPartSn?"[part-"+o.lastPartSn+"-"+o.lastPartIndex+"]":"")+",duration:"+o.totalduration),this.mediaBuffer=this.mediaBufferTimeRanges;var f=0;if(o.live||null!=(n=c.details)&&n.live){if(o.deltaUpdateFailed)return;var m=this.mainDetails;if(!m)return void(this.startFragRequested=!1);var v,b=m.fragments[0];c.details?0===(f=this.alignPlaylists(o,c.details,null==(v=this.levelLastLoaded)?void 0:v.details))&&b&&di(o,f=b.start):o.hasProgramDateTime&&m.hasProgramDateTime?(rr(o,m),f=o.fragmentStart):b&&di(o,f=b.start),m&&!this.startFragRequested&&this.setStartPosition(m,f)}c.details=o,this.levelLastLoaded=c,l===i&&(this.hls.trigger(D.SUBTITLE_TRACK_UPDATED,{details:o,id:l,groupId:e.groupId}),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===ae.IDLE&&(kt(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),c.details=void 0)))}}else this.warn("Subtitle tracks were reset while loading level "+l)},r._handleFragmentLoadComplete=function(t){var e=this,n=t.frag,i=t.payload,a=n.decryptdata,o=this.hls;if(!this.fragContextChanged(n)&&i&&i.byteLength>0&&null!=a&&a.key&&a.iv&&ar(a.method)){var l=performance.now();this.decrypter.decrypt(new Uint8Array(i),a.key.buffer,a.iv.buffer,xr(a.method)).catch(function(c){throw o.trigger(D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:n}),c}).then(function(c){var f=performance.now();o.trigger(D.FRAG_DECRYPTED,{frag:n,payload:c,stats:{tstart:l,tdecrypt:f}})}).catch(function(c){e.warn(c.name+": "+c.message),e.state=ae.IDLE})}},r.doTick=function(){if(this.media){if(this.state===ae.IDLE){var e=this.levels,n=e?.[this.currentTrackId];if(!n||!e.length||!n.details||this.waitForLive(n))return;var i=this.config,a=this.getLoadPosition(),o=w.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],a,i.maxBufferHole),l=o.end,f=n.details;if(o.len>this.hls.maxBufferLength+f.levelTargetDuration)return;var m=f.fragments,v=m.length,b=f.edge,I=null,_=this.fragPrevious;if(l<b){var Q=i.maxFragLookUpTolerance,j=l>b-Q?0:Q;!(I=kt(_,m,Math.max(m[0].start,l),j))&&_&&_.start<m[0].start&&(I=m[0])}else I=m[v-1];if(!(I=this.filterReplacedPrimary(I,n.details)))return;var At=m[I.sn-f.startSN-1];if(At&&At.cc===I.cc&&this.fragmentTracker.getState(At)===Pr&&(I=At),this.fragmentTracker.getState(I)===Pr){var yt=this.mapToInitFragWhenRequired(I);yt&&this.loadFragment(yt,n,l)}}}else this.state=ae.IDLE},r.loadFragment=function(t,e,n){Cn(t)?s.prototype.loadFragment.call(this,t,e,n):this._loadInitSegment(t,e)},Xr(A,[{key:"mediaBufferTimeRanges",get:function(){return new sl(this.tracksBuffered[this.currentTrackId]||[])}}])}(Nr),sl=function(s){this.buffered=void 0;var A=function(r,t,e){if((t>>>=0)>e-1)throw new DOMException("Failed to execute '"+r+"' on 'TimeRanges': The index provided ("+t+") is greater than the maximum bound ("+e+")");return s[t][r]};this.buffered={get length(){return s.length},end:function(r){return A("end",r,s.length)},start:function(r){return A("start",r,s.length)}}};function u(s,A){var r;try{r=new Event("addtrack")}catch{(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=s,A.dispatchEvent(r)}function d(s,A){var r=s.mode;if("disabled"===r&&(s.mode="hidden"),s.cues&&!s.cues.getCueById(A.id))try{if(s.addCue(A),!s.cues.getCueById(A.id))throw new Error("addCue is failed for: "+A)}catch(e){Yr.debug("[texttrack-utils]: "+e);try{var t=new self.TextTrackCue(A.startTime,A.endTime,A.text);t.id=A.id,s.addCue(t)}catch(n){Yr.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: "+n)}}"disabled"===r&&(s.mode=r)}function y(s,A){var r=s.mode;if("disabled"===r&&(s.mode="hidden"),s.cues)for(var t=s.cues.length;t--;)A&&s.cues[t].removeEventListener("enter",A),s.removeCue(s.cues[t]);"disabled"===r&&(s.mode=r)}function E(s,A,r,t){var e=s.mode;if("disabled"===e&&(s.mode="hidden"),s.cues&&s.cues.length>0)for(var n=function(a,o,l){var c=[],f=function(I,_){if(_<=I[0].startTime)return 0;var Q=I.length-1;if(_>I[Q].endTime)return-1;for(var j,At=0,yt=Q;At<=yt;)if(_<I[j=Math.floor((yt+At)/2)].startTime)yt=j-1;else{if(!(_>I[j].startTime&&At<Q))return j;At=j+1}return I[At].startTime-_<_-I[yt].startTime?At:yt}(a,o);if(f>-1)for(var m=f,v=a.length;m<v;m++){var b=a[m];if(b.startTime>=o&&b.endTime<=l)c.push(b);else if(b.startTime>l)return c}return c}(s.cues,A,r),i=0;i<n.length;i++)t&&!t(n[i])||s.removeCue(n[i]);"disabled"===e&&(s.mode=e)}function R(s){for(var A=[],r=0;r<s.length;r++){var t=s[r];"subtitles"!==t.kind&&"captions"!==t.kind||!t.label||A.push(s[r])}return A}var X=function(s){function A(t){var e;return(e=s.call(this,t,"subtitle-track-controller")||this).media=null,e.tracks=[],e.groupIds=null,e.tracksInGroup=[],e.trackId=-1,e.currentTrack=null,e.selectDefaultTrack=!0,e.queuedDefaultTrack=-1,e.useTextTrackPolling=!1,e.subtitlePollingInterval=-1,e._subtitleDisplay=!0,e.asyncPollTrackChange=function(){return e.pollTrackChange(0)},e.onTextTracksChanged=function(){if(e.useTextTrackPolling||self.clearInterval(e.subtitlePollingInterval),e.media&&e.hls.config.renderTextTracksNatively){for(var n=null,i=R(e.media.textTracks),a=0;a<i.length;a++)if("hidden"===i[a].mode)n=i[a];else if("showing"===i[a].mode){n=i[a];break}var o=e.findTrackForTextTrack(n);e.subtitleTrack!==o&&e.setSubtitleTrack(o)}},e.registerListeners(),e}Kr(A,s);var r=A.prototype;return r.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,s.prototype.destroy.call(this)},r.registerListeners=function(){var t=this.hls;t.on(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.MANIFEST_PARSED,this.onManifestParsed,this),t.on(D.LEVEL_LOADING,this.onLevelLoading,this),t.on(D.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(D.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(D.ERROR,this.onError,this)},r.unregisterListeners=function(){var t=this.hls;t.off(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.MANIFEST_PARSED,this.onManifestParsed,this),t.off(D.LEVEL_LOADING,this.onLevelLoading,this),t.off(D.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(D.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(D.ERROR,this.onError,this)},r.onMediaAttached=function(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},r.pollTrackChange=function(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,t)},r.onMediaDetaching=function(t,e){var n=this.media;if(n){var i=!!e.transferMedia;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||n.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,i||R(n.textTracks).forEach(function(a){y(a)})}},r.onManifestLoading=function(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0},r.onManifestParsed=function(t,e){this.tracks=e.subtitleTracks},r.onSubtitleTrackLoaded=function(t,e){var n=e.id,i=e.groupId,a=e.details,o=this.tracksInGroup[n];if(o&&o.groupId===i){var l=o.details;o.details=e.details,this.log("Subtitle track "+n+' "'+o.name+'" lang:'+o.lang+" group:"+i+" loaded ["+a.startSN+"-"+a.endSN+"]"),n===this.trackId&&this.playlistLoaded(n,e,l)}else this.warn("Subtitle track with id:"+n+" and group:"+i+" not found in active group "+o?.groupId)},r.onLevelLoading=function(t,e){this.switchLevel(e.level)},r.onLevelSwitching=function(t,e){this.switchLevel(e.level)},r.switchLevel=function(t){var e=this.hls.levels[t];if(e){var n=e.subtitleGroups||null,i=this.groupIds,a=this.currentTrack;if(!n||i?.length!==n?.length||null!=n&&n.some(function(b){return-1===i?.indexOf(b)})){this.groupIds=n,this.trackId=-1,this.currentTrack=null;var o=this.tracks.filter(function(b){return!n||-1!==n.indexOf(b.groupId)});if(o.length)this.selectDefaultTrack&&!o.some(function(b){return b.default})&&(this.selectDefaultTrack=!1),o.forEach(function(b,I){b.id=I});else if(!a&&!this.tracksInGroup.length)return;this.tracksInGroup=o;var l=this.hls.config.subtitlePreference;if(!a&&l){this.selectDefaultTrack=!1;var c=ot(l,o);if(c>-1)a=o[c];else{var f=ot(l,this.tracks);a=this.tracks[f]}}var m=this.findTrackId(a);-1===m&&a&&(m=this.findTrackId(null));var v={subtitleTracks:o};this.log("Updating subtitle tracks, "+o.length+' track(s) found in "'+n?.join(",")+'" group-id'),this.hls.trigger(D.SUBTITLE_TRACKS_UPDATED,v),-1!==m&&-1===this.trackId&&this.setSubtitleTrack(m)}}},r.findTrackId=function(t){for(var e=this.tracksInGroup,n=this.selectDefaultTrack,i=0;i<e.length;i++){var a=e[i];if((!n||a.default)&&(n||t)&&(!t||S(a,t)))return i}if(t){for(var o=0;o<e.length;o++)if($s(t.attrs,e[o].attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return o;for(var c=0;c<e.length;c++)if($s(t.attrs,e[c].attrs,["LANGUAGE"]))return c}return-1},r.findTrackForTextTrack=function(t){if(t)for(var e=this.tracksInGroup,n=0;n<e.length;n++)if(Yi(e[n],t))return n;return-1},r.onError=function(t,e){!e.fatal&&e.context&&(e.context.type!==pi||e.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(e.context.groupId)||this.checkRetry(e))},r.setSubtitleOption=function(t){if(this.hls.config.subtitlePreference=t,t){if(-1===t.id)return this.setSubtitleTrack(-1),null;var e=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,e.length){var n=this.currentTrack;if(n&&S(t,n))return n;var i=ot(t,this.tracksInGroup);if(i>-1){var a=this.tracksInGroup[i];return this.setSubtitleTrack(i),a}if(n)return null;var o=ot(t,e);if(o>-1)return e[o]}}return null},r.loadPlaylist=function(t){s.prototype.loadPlaylist.call(this),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,t)},r.loadingPlaylist=function(t,e){s.prototype.loadingPlaylist.call(this,t,e);var n=t.id,i=t.groupId,a=this.getUrlWithDirectives(t.url,e),o=t.details,l=o?.age;this.log("Loading subtitle "+n+' "'+t.name+'" lang:'+t.lang+" group:"+i+(void 0!==e?.msn?" at sn "+e.msn+" part "+e.part:"")+(l&&o.live?" age "+l.toFixed(1)+(o.type&&" "+o.type||""):"")+" "+a),this.hls.trigger(D.SUBTITLE_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:e||null,track:t})},r.toggleTrackModes=function(){var t=this.media;if(t){var e,n=R(t.textTracks),i=this.currentTrack;if(i&&((e=n.filter(function(o){return Yi(i,o)})[0])||this.warn('Unable to find subtitle TextTrack with name "'+i.name+'" and language "'+i.lang+'"')),[].slice.call(n).forEach(function(o){"disabled"!==o.mode&&o!==e&&(o.mode="disabled")}),e){var a=this.subtitleDisplay?"showing":"hidden";e.mode!==a&&(e.mode=a)}}},r.setSubtitleTrack=function(t){var e=this.tracksInGroup;if(this.media)if(t<-1||t>=e.length||!ke(t))this.warn("Invalid subtitle track id: "+t);else{this.selectDefaultTrack=!1;var n=this.currentTrack,i=e[t]||null;if(this.trackId=t,this.currentTrack=i,this.toggleTrackModes(),i){if(t!==this.trackId||i!==n||!i.details||i.details.live){this.log("Switching to subtitle-track "+t+(i?' "'+i.name+'" lang:'+i.lang+" group:"+i.groupId:""));var l=i.groupId;this.hls.trigger(D.SUBTITLE_TRACK_SWITCH,{id:i.id,groupId:void 0===l?"":l,name:i.name,type:i.type,url:i.url});var b=this.switchParams(i.url,n?.details,i.details);this.loadPlaylist(b)}}else this.hls.trigger(D.SUBTITLE_TRACK_SWITCH,{id:t})}else this.queuedDefaultTrack=t},Xr(A,[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes()}},{key:"allSubtitleTracks",get:function(){return this.tracks}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.selectDefaultTrack=!1,this.setSubtitleTrack(t)}}])}(Ms),et={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},St=function(s){return String.fromCharCode(et[s]||s)},vt=15,$t=100,Zt={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},fe={17:2,18:4,21:6,22:8,23:10,19:13,20:15},pe={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Ee={25:2,26:4,29:6,30:8,31:10,27:13,28:15},gr=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],Ye=function(){function s(){this.time=null,this.verboseLevel=0}return s.prototype.log=function(A,r){if(this.verboseLevel>=A){var t="function"==typeof r?r():r;Yr.log(this.time+" ["+A+"] "+t)}},s}(),_e=function(s){for(var A=[],r=0;r<s.length;r++)A.push(s[r].toString(16));return A},Ur=function(){function s(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}var A=s.prototype;return A.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},A.setStyles=function(r){for(var t=["foreground","underline","italics","background","flash"],e=0;e<t.length;e++){var n=t[e];r.hasOwnProperty(n)&&(this[n]=r[n])}},A.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},A.equals=function(r){return this.foreground===r.foreground&&this.underline===r.underline&&this.italics===r.italics&&this.background===r.background&&this.flash===r.flash},A.copy=function(r){this.foreground=r.foreground,this.underline=r.underline,this.italics=r.italics,this.background=r.background,this.flash=r.flash},A.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},s}(),br=function(){function s(){this.uchar=" ",this.penState=new Ur}var A=s.prototype;return A.reset=function(){this.uchar=" ",this.penState.reset()},A.setChar=function(r,t){this.uchar=r,this.penState.copy(t)},A.setPenState=function(r){this.penState.copy(r)},A.equals=function(r){return this.uchar===r.uchar&&this.penState.equals(r.penState)},A.copy=function(r){this.uchar=r.uchar,this.penState.copy(r.penState)},A.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},s}(),Er=function(){function s(r){this.chars=[],this.pos=0,this.currPenState=new Ur,this.cueStartTime=null,this.logger=void 0;for(var t=0;t<$t;t++)this.chars.push(new br);this.logger=r}var A=s.prototype;return A.equals=function(r){for(var t=0;t<$t;t++)if(!this.chars[t].equals(r.chars[t]))return!1;return!0},A.copy=function(r){for(var t=0;t<$t;t++)this.chars[t].copy(r.chars[t])},A.isEmpty=function(){for(var r=!0,t=0;t<$t;t++)if(!this.chars[t].isEmpty()){r=!1;break}return r},A.setCursor=function(r){this.pos!==r&&(this.pos=r),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>$t&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=$t)},A.moveCursor=function(r){var t=this.pos+r;if(r>1)for(var e=this.pos+1;e<t+1;e++)this.chars[e].setPenState(this.currPenState);this.setCursor(t)},A.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},A.insertChar=function(r){var t=this;r>=144&&this.backSpace();var e=St(r);this.pos>=$t?this.logger.log(0,function(){return"Cannot insert "+r.toString(16)+" ("+e+") at position "+t.pos+". Skipping it!"}):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},A.clearFromPos=function(r){var t;for(t=r;t<$t;t++)this.chars[t].reset()},A.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},A.clearToEndOfRow=function(){this.clearFromPos(this.pos)},A.getTextString=function(){for(var r=[],t=!0,e=0;e<$t;e++){var n=this.chars[e].uchar;" "!==n&&(t=!1),r.push(n)}return t?"":r.join("")},A.setPenStyles=function(r){this.currPenState.setStyles(r),this.chars[this.pos].setPenState(this.currPenState)},s}(),Qn=function(){function s(r){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(var t=0;t<vt;t++)this.rows.push(new Er(r));this.logger=r}var A=s.prototype;return A.reset=function(){for(var r=0;r<vt;r++)this.rows[r].clear();this.currRow=14},A.equals=function(r){for(var t=!0,e=0;e<vt;e++)if(!this.rows[e].equals(r.rows[e])){t=!1;break}return t},A.copy=function(r){for(var t=0;t<vt;t++)this.rows[t].copy(r.rows[t])},A.isEmpty=function(){for(var r=!0,t=0;t<vt;t++)if(!this.rows[t].isEmpty()){r=!1;break}return r},A.backSpace=function(){this.rows[this.currRow].backSpace()},A.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},A.insertChar=function(r){this.rows[this.currRow].insertChar(r)},A.setPen=function(r){this.rows[this.currRow].setPenStyles(r)},A.moveCursor=function(r){this.rows[this.currRow].moveCursor(r)},A.setCursor=function(r){this.logger.log(2,"setCursor: "+r),this.rows[this.currRow].setCursor(r)},A.setPAC=function(r){this.logger.log(2,function(){return"pacData = "+mt(r)});var t=r.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var e=0;e<vt;e++)this.rows[e].clear();var n=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var a=i.rows[n].cueStartTime,o=this.logger.time;if(null!==a&&null!==o&&a<o)for(var l=0;l<this.nrRollUpRows;l++)this.rows[t-this.nrRollUpRows+l+1].copy(i.rows[n+l])}}this.currRow=t;var c=this.rows[this.currRow];if(null!==r.indent){var m=Math.max(r.indent-1,0);c.setCursor(r.indent),r.color=c.chars[m].penState.foreground}this.setPen({foreground:r.color,underline:r.underline,italics:r.italics,background:"black",flash:!1})},A.setBkgData=function(r){this.logger.log(2,function(){return"bkgData = "+mt(r)}),this.backSpace(),this.setPen(r),this.insertChar(32)},A.setRollUpRows=function(r){this.nrRollUpRows=r},A.rollUp=function(){var r=this;if(null!==this.nrRollUpRows){this.logger.log(1,function(){return r.getDisplayText()});var e=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up")}else this.logger.log(3,"roll_up but nrRollUpRows not set yet")},A.getDisplayText=function(r){r=r||!1;for(var t=[],e="",i=0;i<vt;i++){var a=this.rows[i].getTextString();a&&t.push(r?"Row "+(i+1)+": '"+a+"'":a.trim())}return t.length>0&&(e=r?"["+t.join(" | ")+"]":t.join("\n")),e},A.getTextAndFormat=function(){return this.rows},s}(),wr=function(){function s(r,t,e){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=r,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new Qn(e),this.nonDisplayedMemory=new Qn(e),this.lastOutputScreen=new Qn(e),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=e}var A=s.prototype;return A.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},A.getHandler=function(){return this.outputFilter},A.setHandler=function(r){this.outputFilter=r},A.setPAC=function(r){this.writeScreen.setPAC(r)},A.setBkgData=function(r){this.writeScreen.setBkgData(r)},A.setMode=function(r){r!==this.mode&&(this.mode=r,this.logger.log(2,function(){return"MODE="+r}),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=r)},A.insertChars=function(r){for(var t=this,e=0;e<r.length;e++)this.writeScreen.insertChar(r[e]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,function(){return n+": "+t.writeScreen.getDisplayText(!0)}),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,function(){return"DISPLAYED: "+t.displayedMemory.getDisplayText(!0)}),this.outputDataUpdate())},A.ccRCL=function(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},A.ccBS=function(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},A.ccAOF=function(){},A.ccAON=function(){},A.ccDER=function(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},A.ccRU=function(r){this.logger.log(2,"RU("+r+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(r)},A.ccFON=function(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},A.ccRDC=function(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},A.ccTR=function(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")},A.ccRTD=function(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")},A.ccEDM=function(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},A.ccCR=function(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},A.ccENM=function(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},A.ccEOC=function(){var r=this;if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,function(){return"DISP: "+r.displayedMemory.getDisplayText()})}this.outputDataUpdate(!0)},A.ccTO=function(r){this.logger.log(2,"TO("+r+") - Tab Offset"),this.writeScreen.moveCursor(r)},A.ccMIDROW=function(r){var t={flash:!1};if(t.underline=r%2==1,t.italics=r>=46,t.italics)t.foreground="white";else{var e=Math.floor(r/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][e]}this.logger.log(2,"MIDROW: "+mt(t)),this.writeScreen.setPen(t)},A.outputDataUpdate=function(r){void 0===r&&(r=!1);var t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),r&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},A.cueSplitAtTime=function(r){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,r,this.displayedMemory),this.cueStartTime=r))},s}(),Sn=function(){function s(r,t,e){this.channels=void 0,this.currentChannel=0,this.cmdHistory={a:null,b:null},this.logger=void 0;var n=this.logger=new Ye;this.channels=[null,new wr(r,t,n),new wr(r+1,e,n)]}var A=s.prototype;return A.getHandler=function(r){return this.channels[r].getHandler()},A.setHandler=function(r,t){this.channels[r].setHandler(t)},A.addData=function(r,t){var e=this;this.logger.time=r;for(var n=function(a){var o=127&t[a],l=127&t[a+1],c=!1,f=null;if(0===o&&0===l)return 0;e.logger.log(3,function(){return"["+_e([t[a],t[a+1]])+"] -> ("+_e([o,l])+")"});var _,m=e.cmdHistory;if(o>=16&&o<=31){if((_=m).a===o&&_.b===l)return Ti(null,null,m),e.logger.log(3,function(){return"Repeated command ("+_e([o,l])+") is dropped"}),0;Ti(o,l,e.cmdHistory),(c=e.parseCmd(o,l))||(c=e.parseMidrow(o,l)),c||(c=e.parsePAC(o,l)),c||(c=e.parseBackgroundAttributes(o,l))}else Ti(null,null,m);if(!c&&(f=e.parseChars(o,l))){var v=e.currentChannel;v&&v>0?e.channels[v].insertChars(f):e.logger.log(2,"No channel found yet. TEXT-MODE?")}c||f||e.logger.log(2,function(){return"Couldn't parse cleaned data "+_e([o,l])+" orig: "+_e([t[a],t[a+1]])})},i=0;i<t.length;i+=2)n(i)},A.parseCmd=function(r,t){if(!((20===r||28===r||21===r||29===r)&&t>=32&&t<=47||(23===r||31===r)&&t>=33&&t<=35))return!1;var e=20===r||21===r||23===r?1:2,n=this.channels[e];return 20===r||21===r||28===r||29===r?32===t?n.ccRCL():33===t?n.ccBS():34===t?n.ccAOF():35===t?n.ccAON():36===t?n.ccDER():37===t?n.ccRU(2):38===t?n.ccRU(3):39===t?n.ccRU(4):40===t?n.ccFON():41===t?n.ccRDC():42===t?n.ccTR():43===t?n.ccRTD():44===t?n.ccEDM():45===t?n.ccCR():46===t?n.ccENM():47===t&&n.ccEOC():n.ccTO(t-32),this.currentChannel=e,!0},A.parseMidrow=function(r,t){var e=0;if((17===r||25===r)&&t>=32&&t<=47){if((e=17===r?1:2)!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;var n=this.channels[e];return!!n&&(n.ccMIDROW(t),this.logger.log(3,function(){return"MIDROW ("+_e([r,t])+")"}),!0)}return!1},A.parsePAC=function(r,t){if(!((r>=17&&r<=23||r>=25&&r<=31)&&t>=64&&t<=127||(16===r||24===r)&&t>=64&&t<=95))return!1;var n=r<=23?1:2,i=this.channels[n];return!!i&&(i.setPAC(this.interpretPAC(t>=64&&t<=95?1===n?Zt[r]:pe[r]:1===n?fe[r]:Ee[r],t)),this.currentChannel=n,!0)},A.interpretPAC=function(r,t){var e,n={color:null,italics:!1,indent:null,underline:!1,row:r};return n.underline=1==(1&(e=t>95?t-96:t-64)),e<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(e/2)]:e<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((e-16)/2),n},A.parseChars=function(r,t){var e,n,i=null,a=null;return r>=25?(e=2,a=r-8):(e=1,a=r),a>=17&&a<=19?(n=17===a?t+80:18===a?t+112:t+144,this.logger.log(2,function(){return"Special char '"+St(n)+"' in channel "+e}),i=[n]):r>=32&&r<=127&&(i=0===t?[r]:[r,t]),i&&this.logger.log(3,function(){return"Char codes =  "+_e(i).join(",")}),i},A.parseBackgroundAttributes=function(r,t){var e;if(!((16===r||24===r)&&t>=32&&t<=47||(23===r||31===r)&&t>=45&&t<=47))return!1;var n={};return 16===r||24===r?(e=Math.floor((t-32)/2),n.background=gr[e],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),this.channels[r<=23?1:2].setBkgData(n),!0},A.reset=function(){for(var r=0;r<Object.keys(this.channels).length;r++){var t=this.channels[r];t&&t.reset()}Ti(null,null,this.cmdHistory)},A.cueSplitAtTime=function(r){for(var t=0;t<this.channels.length;t++){var e=this.channels[t];e&&e.cueSplitAtTime(r)}},s}();function Ti(s,A,r){r.a=s,r.b=A}var EA=function(){if(null!=Ci&&Ci.VTTCue)return self.VTTCue;var s=["","lr","rl"],A=["start","middle","end","left","right"];function r(i,a){if("string"!=typeof a||!Array.isArray(i))return!1;var o=a.toLowerCase();return!!~i.indexOf(o)&&o}function t(i){return r(A,i)}function e(i){for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var m in f)i[m]=f[m]}return i}function n(i,a,o){var l=this,c={enumerable:!0};l.hasBeenReset=!1;var f="",m=!1,v=i,b=a,I=o,_=null,Q="",j=!0,At="auto",yt="start",Ot=50,Ft="middle",xt=50,Wt="middle";Object.defineProperty(l,"id",e({},c,{get:function(){return f},set:function(Pt){f=""+Pt}})),Object.defineProperty(l,"pauseOnExit",e({},c,{get:function(){return m},set:function(Pt){m=!!Pt}})),Object.defineProperty(l,"startTime",e({},c,{get:function(){return v},set:function(Pt){if("number"!=typeof Pt)throw new TypeError("Start time must be set to a number.");v=Pt,this.hasBeenReset=!0}})),Object.defineProperty(l,"endTime",e({},c,{get:function(){return b},set:function(Pt){if("number"!=typeof Pt)throw new TypeError("End time must be set to a number.");b=Pt,this.hasBeenReset=!0}})),Object.defineProperty(l,"text",e({},c,{get:function(){return I},set:function(Pt){I=""+Pt,this.hasBeenReset=!0}})),Object.defineProperty(l,"region",e({},c,{get:function(){return _},set:function(Pt){_=Pt,this.hasBeenReset=!0}})),Object.defineProperty(l,"vertical",e({},c,{get:function(){return Q},set:function(Pt){var Gt=r(s,Pt);if(!1===Gt)throw new SyntaxError("An invalid or illegal string was specified.");Q=Gt,this.hasBeenReset=!0}})),Object.defineProperty(l,"snapToLines",e({},c,{get:function(){return j},set:function(Pt){j=!!Pt,this.hasBeenReset=!0}})),Object.defineProperty(l,"line",e({},c,{get:function(){return At},set:function(Pt){if("number"!=typeof Pt&&"auto"!==Pt)throw new SyntaxError("An invalid number or illegal string was specified.");At=Pt,this.hasBeenReset=!0}})),Object.defineProperty(l,"lineAlign",e({},c,{get:function(){return yt},set:function(Pt){var Gt=t(Pt);if(!Gt)throw new SyntaxError("An invalid or illegal string was specified.");yt=Gt,this.hasBeenReset=!0}})),Object.defineProperty(l,"position",e({},c,{get:function(){return Ot},set:function(Pt){if(Pt<0||Pt>100)throw new Error("Position must be between 0 and 100.");Ot=Pt,this.hasBeenReset=!0}})),Object.defineProperty(l,"positionAlign",e({},c,{get:function(){return Ft},set:function(Pt){var Gt=t(Pt);if(!Gt)throw new SyntaxError("An invalid or illegal string was specified.");Ft=Gt,this.hasBeenReset=!0}})),Object.defineProperty(l,"size",e({},c,{get:function(){return xt},set:function(Pt){if(Pt<0||Pt>100)throw new Error("Size must be between 0 and 100.");xt=Pt,this.hasBeenReset=!0}})),Object.defineProperty(l,"align",e({},c,{get:function(){return Wt},set:function(Pt){var Gt=t(Pt);if(!Gt)throw new SyntaxError("An invalid or illegal string was specified.");Wt=Gt,this.hasBeenReset=!0}})),l.displayState=void 0}return n.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},n}(),iA=function(){function s(){}return s.prototype.decode=function(A,r){if(!A)return"";if("string"!=typeof A)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(A))},s}();function qs(s){function A(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+parseFloat(i||0)}var r=s.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?A(r[2],r[3],0,r[4]):A(r[1],r[2],r[3],r[4]):null}var CA=function(){function s(){this.values=Object.create(null)}var A=s.prototype;return A.set=function(r,t){this.get(r)||""===t||(this.values[r]=t)},A.get=function(r,t,e){return e?this.has(r)?this.values[r]:t[e]:this.has(r)?this.values[r]:t},A.has=function(r){return r in this.values},A.alt=function(r,t,e){for(var n=0;n<e.length;++n)if(t===e[n]){this.set(r,t);break}},A.integer=function(r,t){/^-?\d+$/.test(t)&&this.set(r,parseInt(t,10))},A.percent=function(r,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var e=parseFloat(t);if(e>=0&&e<=100)return this.set(r,e),!0}return!1},s}();function Qi(s,A,r,t){var e=t?s.split(t):[s];for(var n in e)if("string"==typeof e[n]){var i=e[n].split(r);2===i.length&&A(i[0],i[1])}}var Ii=new EA(0,0,""),VA="middle"===Ii.align?"middle":"center";function is(s,A,r){var t=s;function e(){var i=qs(s);if(null===i)throw new Error("Malformed timestamp: "+t);return s=s.replace(/^[^\sa-zA-Z-]+/,""),i}function n(){s=s.replace(/^\s+/,"")}if(n(),A.startTime=e(),n(),"--\x3e"!==s.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+t);s=s.slice(3),n(),A.endTime=e(),n(),function(i,a){var o=new CA;Qi(i,function(f,m){var v;switch(f){case"region":for(var b=r.length-1;b>=0;b--)if(r[b].id===m){o.set(f,r[b].region);break}break;case"vertical":o.alt(f,m,["rl","lr"]);break;case"line":v=m.split(","),o.integer(f,v[0]),o.percent(f,v[0])&&o.set("snapToLines",!1),o.alt(f,v[0],["auto"]),2===v.length&&o.alt("lineAlign",v[1],["start",VA,"end"]);break;case"position":v=m.split(","),o.percent(f,v[0]),2===v.length&&o.alt("positionAlign",v[1],["start",VA,"end","line-left","line-right","auto"]);break;case"size":o.percent(f,m);break;case"align":o.alt(f,m,["start",VA,"end","left","right"])}},/:/,/\s/),a.region=o.get("region",null),a.vertical=o.get("vertical","");var l=o.get("line","auto");"auto"===l&&-1===Ii.line&&(l=-1),a.line=l,a.lineAlign=o.get("lineAlign","start"),a.snapToLines=o.get("snapToLines",!0),a.size=o.get("size",100),a.align=o.get("align",VA);var c=o.get("position","auto");"auto"===c&&50===Ii.position&&(c="start"===a.align||"left"===a.align?0:"end"===a.align||"right"===a.align?100:50),a.position=c}(s,A)}function Ws(s){return s.replace(/<br(?: \/)?>/gi,"\n")}var Na=function(){function s(){this.state="INITIAL",this.buffer="",this.decoder=new iA,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var A=s.prototype;return A.parse=function(r){var t=this;function e(){var l=t.buffer,c=0;for(l=Ws(l);c<l.length&&"\r"!==l[c]&&"\n"!==l[c];)++c;var f=l.slice(0,c);return"\r"===l[c]&&++c,"\n"===l[c]&&++c,t.buffer=l.slice(c),f}r&&(t.buffer+=t.decoder.decode(r,{stream:!0}));try{var n="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i=(n=e()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==i||!i[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:n=e(),t.state){case"HEADER":/:/.test(n)?Qi(n,function(l,c){},/:/):n||(t.state="ID");continue;case"NOTE":n||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){t.state="NOTE";break}if(!n)continue;if(t.cue=new EA(0,0,""),t.state="CUE",-1===n.indexOf("--\x3e")){t.cue.id=n;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{is(n,t.cue,t.regionList)}catch{t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var o=-1!==n.indexOf("--\x3e");if(!n||o&&(a=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=n;continue;case"BADCUE":n||(t.state="ID")}}}catch{"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},A.flush=function(){var r=this;try{if((r.cue||"HEADER"===r.state)&&(r.buffer+="\n\n",r.parse()),"INITIAL"===r.state||"BADWEBVTT"===r.state)throw new Error("Malformed WebVTT signature.")}catch(t){r.onparsingerror&&r.onparsingerror(t)}return r.onflush&&r.onflush(),this},s}(),Oa=/\r\n|\n\r|\n|\r/g,ia=function(s,A,r){return void 0===r&&(r=0),s.slice(r,r+A.length)===A};function As(s,A,r){return ga(s.toString())+ga(A.toString())+ga(r)}var al="stpp.ttml.im1t",pl=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,ml=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,kl={left:"start",center:"center",right:"end",start:"start",end:"end"};function vl(s,A,r,t){var e=Fr(new Uint8Array(s),["mdat"]);if(0!==e.length){var a,o,l=e.map(function(f){return zn(f)}),c=(void 0===(a=A.timescale)&&(a=1),void 0===o&&(o=!1),ba(A.baseTime,1,1/a,o));try{l.forEach(function(f){return r(function(m,v){var I=(new DOMParser).parseFromString(m,"text/xml").getElementsByTagName("tt")[0];if(!I)throw new Error("Invalid ttml");var _={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},Q=Object.keys(_).reduce(function(Ft,xt){return Ft[xt]=I.getAttribute("ttp:"+xt)||_[xt],Ft},{}),j="preserve"!==I.getAttribute("xml:space"),At=yl(ol(I,"styling","style")),yt=yl(ol(I,"layout","region")),Ot=ol(I,"body","[begin]");return[].map.call(Ot,function(Ft){var xt=wl(Ft,j);if(!xt||!Ft.hasAttribute("begin"))return null;var Wt=ul(Ft.getAttribute("begin"),Q),Pt=ul(Ft.getAttribute("dur"),Q),Gt=ul(Ft.getAttribute("end"),Q);if(null===Wt)throw Bl(Ft);if(null===Gt){if(null===Pt)throw Bl(Ft);Gt=Wt+Pt}var he=new EA(Wt-v,Gt-v,xt);he.id=As(he.startTime,he.endTime,he.text);var Re,Ze,Ge,tr,Or,Cr,ye=(Re=yt[Ft.getAttribute("region")],Ze=At[Ft.getAttribute("style")],Ge=At,tr="http://www.w3.org/ns/ttml#styling",Or=null,(Cr=null!=Re&&Re.hasAttribute("style")?Re.getAttribute("style"):null)&&Ge.hasOwnProperty(Cr)&&(Or=Ge[Cr]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce(function(an,gn){var qr=ll(Ze,tr,gn)||ll(Re,tr,gn)||ll(Or,tr,gn);return qr&&(an[gn]=qr),an},{})),He=ye.textAlign;if(He){var je=kl[He];je&&(he.lineAlign=je),he.align=He}return Lr(he,ye),he}).filter(function(Ft){return null!==Ft})}(f,c))})}catch(f){t(f)}}else t(new Error("Could not parse IMSC1 mdat"))}function ol(s,A,r){var t=s.getElementsByTagName(A)[0];return t?[].slice.call(t.querySelectorAll(r)):[]}function yl(s){return s.reduce(function(A,r){var t=r.getAttribute("xml:id");return t&&(A[t]=r),A},{})}function wl(s,A){return[].slice.call(s.childNodes).reduce(function(r,t,e){var n;return"br"===t.nodeName&&e?r+"\n":null!=(n=t.childNodes)&&n.length?wl(t,A):A?r+t.textContent.trim().replace(/\s+/g," "):r+t.textContent},"")}function ll(s,A,r){return s&&s.hasAttributeNS(A,r)?s.getAttributeNS(A,r):null}function Bl(s){return new Error("Could not parse ttml timestamp "+s)}function ul(s,A){if(!s)return null;var r=qs(s);return null===r&&(pl.test(s)?r=function(t,e){var n=pl.exec(t);return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+((0|n[4])+(0|n[5])/e.subFrameRate)/e.frameRate}(s,A):ml.test(s)&&(r=function(t,e){var n=ml.exec(t),i=Number(n[1]);switch(n[2]){case"h":return 3600*i;case"m":return 60*i;case"ms":return 1e3*i;case"f":return i/e.frameRate;case"t":return i/e.tickRate}return i}(s,A))),r}var Po=function(){function s(r,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=r,this.trackName=t}var A=s.prototype;return A.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},A.newCue=function(r,t,e){(null===this.startTime||this.startTime>r)&&(this.startTime=r),this.endTime=t,this.screen=e,this.timelineController.createCaptionsTrack(this.trackName)},A.reset=function(){this.cueRanges=[],this.startTime=null},s}(),Dl=function(){function s(r){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=r,this.config=r.config,this.Cues=r.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},r.on(D.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(D.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(D.MANIFEST_LOADING,this.onManifestLoading,this),r.on(D.MANIFEST_LOADED,this.onManifestLoaded,this),r.on(D.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.on(D.FRAG_LOADING,this.onFragLoading,this),r.on(D.FRAG_LOADED,this.onFragLoaded,this),r.on(D.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),r.on(D.FRAG_DECRYPTED,this.onFragDecrypted,this),r.on(D.INIT_PTS_FOUND,this.onInitPtsFound,this),r.on(D.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),r.on(D.BUFFER_FLUSHING,this.onBufferFlushing,this)}var A=s.prototype;return A.destroy=function(){var r=this.hls;r.off(D.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(D.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(D.MANIFEST_LOADING,this.onManifestLoading,this),r.off(D.MANIFEST_LOADED,this.onManifestLoaded,this),r.off(D.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),r.off(D.FRAG_LOADING,this.onFragLoading,this),r.off(D.FRAG_LOADED,this.onFragLoaded,this),r.off(D.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),r.off(D.FRAG_DECRYPTED,this.onFragDecrypted,this),r.off(D.INIT_PTS_FOUND,this.onInitPtsFound,this),r.off(D.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),r.off(D.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0},A.initCea608Parsers=function(){var r=new Po(this,"textTrack1"),t=new Po(this,"textTrack2"),e=new Po(this,"textTrack3"),n=new Po(this,"textTrack4");this.cea608Parser1=new Sn(1,r,t),this.cea608Parser2=new Sn(3,e,n)},A.addCues=function(r,t,e,n,i){for(var a,l,f=!1,m=i.length;m--;){var v=i[m],b=(a=v[0],l=t,Math.min(v[1],e)-Math.max(a,l));if(b>=0&&(v[0]=Math.min(v[0],t),v[1]=Math.max(v[1],e),f=!0,b/(e-t)>.5))return}if(f||i.push([t,e]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[r],t,e,n);else{var _=this.Cues.newCue(null,t,e,n);this.hls.trigger(D.CUES_PARSED,{type:"captions",cues:_,track:r})}},A.onInitPtsFound=function(r,t){var e=this,c=this.unparsedVttFrags;t.id===Sr&&(this.initPTS[t.frag.cc]={baseTime:t.initPTS,timescale:t.timescale,trackId:t.trackId}),c.length&&(this.unparsedVttFrags=[],c.forEach(function(f){e.initPTS[f.frag.cc]?e.onFragLoaded(D.FRAG_LOADED,f):e.hls.trigger(D.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:f.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))},A.getExistingTrack=function(r,t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var i=e.textTracks[n];if(El(i,{name:r,lang:t,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return i}return null},A.createCaptionsTrack=function(r){this.config.renderTextTracksNatively?this.createNativeTrack(r):this.createNonNativeTrack(r)},A.createNativeTrack=function(r){if(!this.captionsTracks[r]){var e=this.captionsTracks,n=this.media,i=this.captionsProperties[r],a=i.label,o=i.languageCode,l=this.getExistingTrack(a,o);if(l)e[r]=l,y(e[r]),u(e[r],n);else{var c=this.createTextTrack("captions",a,o);c&&(c[r]=!0,e[r]=c)}}},A.createNonNativeTrack=function(r){if(!this.nonNativeCaptionsTracks[r]){var t=this.captionsProperties[r];if(t){var e={_id:r,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[r]=e,this.hls.trigger(D.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[e]})}}},A.createTextTrack=function(r,t,e){var n=this.media;if(n)return n.addTextTrack(r,t,e)},A.onMediaAttaching=function(r,t){this.media=t.media,t.mediaSource||this._cleanTracks()},A.onMediaDetaching=function(r,t){var e=!!t.transferMedia;if(this.media=null,!e){var n=this.captionsTracks;Object.keys(n).forEach(function(i){y(n[i]),delete n[i]}),this.nonNativeCaptionsTracks={}}},A.onManifestLoading=function(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},A._cleanTracks=function(){var r=this.media;if(r){var t=r.textTracks;if(t)for(var e=0;e<t.length;e++)y(t[e])}},A.onSubtitleTracksUpdated=function(r,t){var e=this,n=t.subtitleTracks||[],i=n.some(function(f){return f.textCodec===al});if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(Hs(this.tracks,n))return void(this.tracks=n);if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){var a=this.media,o=a?R(a.textTracks):null;if(this.tracks.forEach(function(f,m){var v;if(o){for(var b=null,I=0;I<o.length;I++)if(o[I]&&El(o[I],f)){b=o[I],o[I]=null;break}b&&(v=b)}if(v)y(v);else{var _=bl(f);(v=e.createTextTrack(_,f.name,f.lang))&&(v.mode="disabled")}v&&e.textTracks.push(v)}),null!=o&&o.length){var l=o.filter(function(f){return null!==f}).map(function(f){return f.label});l.length&&this.hls.logger.warn("Media element contains unused subtitle tracks: "+l.join(", ")+". Replace media element for each source to clear TextTracks and captions menu.")}}else if(this.tracks.length){var c=this.tracks.map(function(f){return{label:f.name,kind:f.type.toLowerCase(),default:f.default,subtitleTrack:f}});this.hls.trigger(D.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:c})}}},A.onManifestLoaded=function(r,t){var e=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(function(n){var i=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(i){var o=e.captionsProperties["textTrack"+i[1]];o&&(o.label=n.name,n.lang&&(o.languageCode=n.lang),o.media=n)}})},A.closedCaptionsForLevel=function(r){return this.hls.levels[r.level]?.attrs["CLOSED-CAPTIONS"]},A.onFragLoading=function(r,t){if(this.enabled&&t.frag.type===Sr){var e,n,i=this.cea608Parser1,a=this.cea608Parser2,o=this.lastSn,l=t.frag,c=l.cc,f=l.sn,m=null!=(e=null==(n=t.part)?void 0:n.index)?e:-1;i&&a&&(f!==o+1||f===o&&m!==this.lastPartIndex+1||c!==this.lastCc)&&(i.reset(),a.reset()),this.lastCc=c,this.lastSn=f,this.lastPartIndex=m}},A.onFragLoaded=function(r,t){var e=t.frag,n=t.payload;if(e.type===Di)if(n.byteLength){var i=e.decryptdata;if(null==i||!i.encrypted||"stats"in t){var o=this.tracks[e.level],l=this.vttCCs;l[e.cc]||(l[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc),o&&o.textCodec===al?this._parseIMSC1(e,n):this._parseVTTs(t)}}else this.hls.trigger(D.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:new Error("Empty subtitle payload")})},A._parseIMSC1=function(r,t){var e=this,n=this.hls;vl(t,this.initPTS[r.cc],function(i){e._appendCues(i,r.level),n.trigger(D.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},function(i){n.logger.log("Failed to parse IMSC1: "+i),n.trigger(D.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:i})})},A._parseVTTs=function(r){var t,e=this,n=r.frag,i=r.payload,a=this.initPTS,o=this.unparsedVttFrags,l=a.length-1;if(a[n.cc]||-1!==l){var c=this.hls;!function Ls(s,A,r,t,e,n,i){var o,l,c=new Na,f=zn(new Uint8Array(s)).trim().replace(Oa,"\n").split("\n"),m=[],v=A?(void 0===(o=A.timescale)&&(o=1),ba(A.baseTime,Ga,1/o)):0,b="00:00.000",I=0,_=0,Q=!0;c.oncue=function(j){var At=r[t],yt=r.ccOffset,Ot=(I-v)/9e4;if(null!=At&&At.new&&(void 0!==_?yt=r.ccOffset=At.start:function(Pt,Gt,he){var ye=Pt[Gt],He=Pt[ye.prevCC];if(!He||!He.new&&ye.new)return Pt.ccOffset=Pt.presentationOffset=ye.start,void(ye.new=!1);for(;null!=(je=He)&&je.new;){var je;Pt.ccOffset+=ye.start-He.start,ye.new=!1,He=Pt[(ye=He).prevCC]}Pt.presentationOffset=he}(r,t,Ot)),Ot){if(!A)return void(l=new Error("Missing initPTS for VTT MPEGTS"));yt=Ot-r.presentationOffset}var Ft=j.endTime-j.startTime,xt=es(9e4*(j.startTime+yt-_),9e4*e)/9e4;j.startTime=Math.max(xt,0),j.endTime=Math.max(xt+Ft,0);var Wt=j.text.trim();j.text=decodeURIComponent(encodeURIComponent(Wt)),j.id||(j.id=As(j.startTime,j.endTime,Wt)),j.endTime>0&&m.push(j)},c.onparsingerror=function(j){l=j},c.onflush=function(){l?i(l):n(m)},f.forEach(function(j){if(Q){if(ia(j,"X-TIMESTAMP-MAP=")){Q=!1,j.slice(16).split(",").forEach(function(At){ia(At,"LOCAL:")?b=At.slice(6):ia(At,"MPEGTS:")&&(I=parseInt(At.slice(7)))});try{_=function(At){var yt=parseInt(At.slice(-3)),Ot=parseInt(At.slice(-6,-4)),Ft=parseInt(At.slice(-9,-7)),xt=At.length>9?parseInt(At.substring(0,At.indexOf(":"))):0;if(!(ke(yt)&&ke(Ot)&&ke(Ft)&&ke(xt)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+At);return yt+=1e3*Ot,(yt+=6e4*Ft)+36e5*xt}(b)/1e3}catch(At){l=At}return}""===j&&(Q=!1)}c.parse(j+"\n")}),c.flush()}(null!=(t=n.initSegment)&&t.data?re(n.initSegment.data,new Uint8Array(i)).buffer:i,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,function(f){e._appendCues(f,n.level),c.trigger(D.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},function(f){var m="Missing initPTS for VTT MPEGTS"===f.message;m?o.push(r):e._fallbackToIMSC1(n,i),c.logger.log("Failed to parse VTT cue: "+f),m&&l>n.cc||c.trigger(D.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:f})})}else o.push(r)},A._fallbackToIMSC1=function(r,t){var e=this,n=this.tracks[r.level];n.textCodec||vl(t,this.initPTS[r.cc],function(){n.textCodec=al,e._parseIMSC1(r,t)},function(){n.textCodec="wvtt"})},A._appendCues=function(r,t){var e=this.hls;if(this.config.renderTextTracksNatively){var n=this.textTracks[t];if(!n||"disabled"===n.mode)return;r.forEach(function(o){return d(n,o)})}else{var i=this.tracks[t];if(!i)return;e.trigger(D.CUES_PARSED,{type:"subtitles",cues:r,track:i.default?"default":"subtitles"+t})}},A.onFragDecrypted=function(r,t){t.frag.type===Di&&this.onFragLoaded(D.FRAG_LOADED,t)},A.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},A.onFragParsingUserdata=function(r,t){if(this.enabled&&this.config.enableCEA708Captions){var e=t.frag,n=t.samples;if(e.type!==Sr||"NONE"!==this.closedCaptionsForLevel(e))for(var i=0;i<n.length;i++){var a=n[i].bytes;if(a){this.cea608Parser1||this.initCea608Parsers();var o=this.extractCea608Data(a);this.cea608Parser1.addData(n[i].pts,o[0]),this.cea608Parser2.addData(n[i].pts,o[1])}}}},A.onBufferFlushing=function(r,t){var e=t.startOffset,n=t.endOffset,i=t.endOffsetSubtitles,a=t.type,o=this.media;if(o&&!(o.currentTime<n)){if(!a||"video"===a){var l=this.captionsTracks;Object.keys(l).forEach(function(f){return E(l[f],e,n)})}if(this.config.renderTextTracksNatively&&0===e&&void 0!==i){var c=this.textTracks;Object.keys(c).forEach(function(f){return E(c[f],e,i)})}}},A.extractCea608Data=function(r){for(var t=[[],[]],e=31&r[0],n=2,i=0;i<e;i++){var a=r[n++],o=127&r[n++],l=127&r[n++];if((0!==o||0!==l)&&4&a){var c=3&a;0!==c&&1!==c||(t[c].push(o),t[c].push(l))}}return t},s}();function bl(s){return s.characteristics&&/transcribes-spoken-dialog/gi.test(s.characteristics)&&/describes-music-and-sound/gi.test(s.characteristics)?"captions":"subtitles"}function El(s,A){return!!s&&s.kind===bl(A)&&Yi(A,s)}var Ql=/\s/,Rl={newCue:function(s,A,r,t){for(var e,n,i,a,o,l=[],c=self.VTTCue||self.TextTrackCue,f=0;f<t.rows.length;f++)if(i=!0,a=0,o="",!(e=t.rows[f]).isEmpty()){for(var m,v=0;v<e.chars.length;v++)Ql.test(e.chars[v].uchar)&&i?a++:(o+=e.chars[v].uchar,i=!1);e.cueStartTime=A,A===r&&(r+=1e-4),a>=16?a--:a++;var b=Ws(o.trim()),I=As(A,r,b);null!=s&&null!=(m=s.cues)&&m.getCueById(I)||((n=new c(A,r,b)).id=I,n.line=f+1,n.align="left",n.position=10+Math.min(80,10*Math.floor(8*a/32)),l.push(n))}return s&&l.length&&(l.sort(function(_,Q){return"auto"===_.line||"auto"===Q.line?0:_.line>8&&Q.line>8?Q.line-_.line:_.line-Q.line}),l.forEach(function(_){return d(s,_)})),l}},Pl=/(\d+)-(\d+)\/(\d+)/,Cl=function(){function s(r){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=r.fetchSetup||Nl,this.controller=new self.AbortController,this.stats=new Kn}var A=s.prototype;return A.destroy=function(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null},A.abortInternal=function(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())},A.abort=function(){var r;this.abortInternal(),null!=(r=this.callbacks)&&r.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},A.load=function(r,t,e){var n=this,i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();var v,I,a=(v=r,I={method:"GET",mode:"cors",credentials:"same-origin",signal:this.controller.signal,headers:new self.Headers(Lr({},v.headers))},v.rangeEnd&&I.headers.set("Range","bytes="+v.rangeStart+"-"+String(v.rangeEnd-1)),I),o="arraybuffer"===r.responseType,l=o?"byteLength":"length",c=t.loadPolicy,f=c.maxTimeToFirstByteMs,m=c.maxLoadTimeMs;this.context=r,this.config=t,this.callbacks=e,this.request=this.fetchSetup(r,a),self.clearTimeout(this.requestTimeout),t.timeout=f&&ke(f)?f:m,this.requestTimeout=self.setTimeout(function(){n.callbacks&&(n.abortInternal(),n.callbacks.onTimeout(i,r,n.response))},t.timeout),(bs(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(function(v){var b;n.response=n.loader=v;var I=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(n.requestTimeout),t.timeout=m,n.requestTimeout=self.setTimeout(function(){n.callbacks&&(n.abortInternal(),n.callbacks.onTimeout(i,r,n.response))},m-(I-i.loading.start)),!v.ok)throw new Ol(v.statusText||"fetch, bad network response",v.status,v);i.loading.first=I,i.total=function(At){var yt=At.get("Content-Range");if(yt){var Ot=function(xt){var Wt=Pl.exec(xt);if(Wt)return parseInt(Wt[2])-parseInt(Wt[1])+1}(yt);if(ke(Ot))return Ot}var Ft=At.get("Content-Length");if(Ft)return parseInt(Ft)}(v.headers)||i.total;var j=null==(b=n.callbacks)?void 0:b.onProgress;return j&&ke(t.highWaterMark)?n.loadProgressively(v,i,r,t.highWaterMark,j):o?v.arrayBuffer():"json"===r.responseType?v.json():v.text()}).then(function(v){var b,I,_=n.response;if(!_)throw new Error("loader destroyed");self.clearTimeout(n.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);var Q=v[l];Q&&(i.loaded=i.total=Q);var j={url:_.url,data:v,code:_.status},At=null==(b=n.callbacks)?void 0:b.onProgress;At&&!ke(t.highWaterMark)&&At(i,r,v,_),null==(I=n.callbacks)||I.onSuccess(j,i,r,_)}).catch(function(v){var b;self.clearTimeout(n.requestTimeout),i.aborted||null==(b=n.callbacks)||b.onError({code:v&&v.code||0,text:v?v.message:null},r,v?v.details:null,i)})},A.getCacheAge=function(){var r=null;if(this.response){var t=this.response.headers.get("age");r=t?parseFloat(t):null}return r},A.getResponseHeader=function(r){return this.response?this.response.headers.get(r):null},A.loadProgressively=function(r,t,e,n,i){void 0===n&&(n=0);var a=new _r,o=r.body.getReader(),l=function(){return o.read().then(function(c){if(c.done)return a.dataLength&&i(t,e,a.flush().buffer,r),Promise.resolve(new ArrayBuffer(0));var f=c.value,m=f.length;return t.loaded+=m,m<n||a.dataLength?(a.push(f),a.dataLength>=n&&i(t,e,a.flush().buffer,r)):i(t,e,f.buffer,r),l()}).catch(function(){return Promise.reject()})};return l()},s}();function Nl(s,A){return new self.Request(s.url,A)}var Ol=function(s){function A(r,t,e){var n;return(n=s.call(this,r)||this).code=void 0,n.details=void 0,n.code=t,n.details=e,n}return Kr(A,s),A}(Rn(Error)),Ml=/^age:\s*[\d.]+\s*$/im,Ll=function(){function s(r){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=r&&r.xhrSetup||null,this.stats=new Kn,this.retryDelay=0}var A=s.prototype;return A.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null},A.abortInternal=function(){var r=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),r&&(r.onreadystatechange=null,r.onprogress=null,4!==r.readyState&&(this.stats.aborted=!0,r.abort()))},A.abort=function(){var r;this.abortInternal(),null!=(r=this.callbacks)&&r.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},A.load=function(r,t,e){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=r,this.config=t,this.callbacks=e,this.loadInternal()},A.loadInternal=function(){var r=this,t=this.config,e=this.context;if(t&&e){var n=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;var a=this.xhrSetup;a?Promise.resolve().then(function(){if(r.loader===n&&!r.stats.aborted)return a(n,e.url)}).catch(function(o){if(r.loader===n&&!r.stats.aborted)return n.open("GET",e.url,!0),a(n,e.url)}).then(function(){r.loader!==n||r.stats.aborted||r.openAndSendXhr(n,e,t)}).catch(function(o){var l;null==(l=r.callbacks)||l.onError({code:n.status,text:o.message},e,n,i)}):this.openAndSendXhr(n,e,t)}},A.openAndSendXhr=function(r,t,e){r.readyState||r.open("GET",t.url,!0);var n=t.headers,i=e.loadPolicy,a=i.maxTimeToFirstByteMs,o=i.maxLoadTimeMs;if(n)for(var l in n)r.setRequestHeader(l,n[l]);t.rangeEnd&&r.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),r.onreadystatechange=this.readystatechange.bind(this),r.onprogress=this.loadprogress.bind(this),r.responseType=t.responseType,self.clearTimeout(this.requestTimeout),e.timeout=a&&ke(a)?a:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),e.timeout),r.send()},A.readystatechange=function(){var r=this.context,t=this.loader,e=this.stats;if(r&&t){var n=t.readyState,i=this.config;if(!e.aborted&&n>=2&&(0===e.loading.first&&(e.loading.first=Math.max(self.performance.now(),e.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(e.loading.first-e.loading.start)))),4===n)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;var a=t.status;if(a>=200&&a<300){var l=("text"===t.responseType?t.responseText:null)??t.response;if(null!=l){var c,f;e.loading.end=Math.max(self.performance.now(),e.loading.first),e.loaded=e.total="arraybuffer"===t.responseType?l.byteLength:l.length,e.bwEstimate=8e3*e.total/(e.loading.end-e.loading.first);var v=null==(c=this.callbacks)?void 0:c.onProgress;return v&&v(e,r,l,t),void(null==(f=this.callbacks)||f.onSuccess({url:t.responseURL,data:l,code:a},e,r,t))}}var I,_=i.loadPolicy.errorRetry;nt(_,e.retry,!1,{url:r.url,data:void 0,code:a})?this.retry(_):(Yr.error(a+" while loading "+r.url),null==(I=this.callbacks)||I.onError({code:a,text:t.statusText},r,t,e))}}},A.loadtimeout=function(){if(this.config){var r=this.config.loadPolicy.timeoutRetry;if(nt(r,this.stats.retry,!0))this.retry(r);else{var t;Yr.warn("timeout while loading "+(null==(t=this.context)?void 0:t.url));var e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))}}},A.retry=function(r){var t=this.context,e=this.stats;this.retryDelay=Ae(r,e.retry),e.retry++,Yr.warn((status?"HTTP Status "+status:"Timeout")+" while loading "+t?.url+", retrying "+e.retry+"/"+r.maxNumRetry+" in "+this.retryDelay+"ms"),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)},A.loadprogress=function(r){var t=this.stats;t.loaded=r.loaded,r.lengthComputable&&(t.total=r.total)},A.getCacheAge=function(){var r=null;if(this.loader&&Ml.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");r=t?parseFloat(t):null}return r},A.getResponseHeader=function(r){return this.loader&&new RegExp("^"+r+":\\s*[\\d.]+\\s*$","im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(r):null},s}(),Hl=tn(tn({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:6e7,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:Ll,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:gt,bufferController:Vo,capLevelController:da,errorController:Ir,fpsController:Tr,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:TA,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:Rl,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:Al,subtitleTrackController:X,timelineController:Dl,audioStreamController:jo,audioTrackController:Ks,emeController:Pa,cmcdController:ls,contentSteeringController:el,interstitialsController:oo});function cl(s){return s&&"object"==typeof s?Array.isArray(s)?s.map(cl):Object.keys(s).reduce(function(A,r){return A[r]=cl(s[r]),A},{}):s}var Gl=function(s){function A(t,e){var n;return(n=s.call(this,"gap-controller",t.logger)||this).hls=void 0,n.fragmentTracker=void 0,n.media=null,n.mediaSource=void 0,n.nudgeRetry=0,n.stallReported=!1,n.stalled=null,n.moved=!1,n.seeking=!1,n.buffered={},n.lastCurrentTime=0,n.ended=0,n.waiting=0,n.onMediaPlaying=function(){n.ended=0,n.waiting=0},n.onMediaWaiting=function(){var i;null!=(i=n.media)&&i.seeking||(n.waiting=self.performance.now(),n.tick())},n.onMediaEnded=function(){var i;n.hls&&(n.ended=(null==(i=n.media)?void 0:i.currentTime)||1,n.hls.trigger(D.MEDIA_ENDED,{stalled:!1}))},n.hls=t,n.fragmentTracker=e,n.registerListeners(),n}Kr(A,s);var r=A.prototype;return r.registerListeners=function(){var t=this.hls;t&&(t.on(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(D.BUFFER_APPENDED,this.onBufferAppended,this))},r.unregisterListeners=function(){var t=this.hls;t&&(t.off(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(D.BUFFER_APPENDED,this.onBufferAppended,this))},r.destroy=function(){s.prototype.destroy.call(this),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0},r.onMediaAttached=function(t,e){this.setInterval(100),this.mediaSource=e.mediaSource;var n=this.media=e.media;zA(n,"playing",this.onMediaPlaying),zA(n,"waiting",this.onMediaWaiting),zA(n,"ended",this.onMediaEnded)},r.onMediaDetaching=function(t,e){this.clearInterval();var n=this.media;n&&(us(n,"playing",this.onMediaPlaying),us(n,"waiting",this.onMediaWaiting),us(n,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0},r.onBufferAppended=function(t,e){this.buffered=e.timeRanges},r.tick=function(){var t;if(null!=(t=this.media)&&t.readyState&&this.hasBuffered){var e=this.media.currentTime;this.poll(e,this.lastCurrentTime),this.lastCurrentTime=e}},r.poll=function(t,e){var n,i,a=null==(n=this.hls)?void 0:n.config;if(a){var o=this.media;if(o){var l=o.seeking,c=this.seeking&&!l,f=!this.seeking&&l,m=o.paused&&!l||o.ended||0===o.playbackRate;if(this.seeking=l,t!==e)return e&&(this.ended=0),this.moved=!0,l||(this.nudgeRetry=0,a.nudgeOnVideoHole&&!m&&t>e&&this.nudgeOnVideoHole(t,e)),void(0===this.waiting&&this.stallResolved(t));if(f||c)c&&this.stallResolved(t);else{if(m)return this.nudgeRetry=0,this.stallResolved(t),void(!this.ended&&o.ended&&this.hls&&(this.ended=t||1,this.hls.trigger(D.MEDIA_ENDED,{stalled:!1})));if(w.getBuffered(o).length){var v=w.bufferInfo(o,t,0),b=v.nextStart||0,I=this.fragmentTracker;if(l&&I&&this.hls){var _=Sl(this.hls.inFlightFragments,t),Q=v.len>2,j=!b||_||b-t>2&&!I.getPartialFragment(t);if(Q||j)return;this.moved=!1}var At=null==(i=this.hls)?void 0:i.latestLevelDetails;if(!this.moved&&null!==this.stalled&&I){if(!(v.len>0||b))return;var yt=Math.max(b,v.start||0)-t,Ot=null!=At&&At.live?2*At.targetduration:2,Ft=No(t,I);if(yt>0&&(yt<=Ot||Ft))return void(o.paused||this._trySkipBufferHole(Ft))}var xt=a.detectStallWithCurrentTimeMs,Wt=self.performance.now(),Pt=this.waiting,Gt=this.stalled;if(null===Gt){if(!(Pt>0&&Wt-Pt<xt))return void(this.stalled=Wt);Gt=this.stalled=Pt}var he=Wt-Gt;if(!l&&(he>=xt||Pt)&&this.hls){var ye;if("ended"===(null==(ye=this.mediaSource)?void 0:ye.readyState)&&(null==At||!At.live)&&Math.abs(t-(At?.edge||0))<1)return this.ended?void 0:(this.ended=t||1,void this.hls.trigger(D.MEDIA_ENDED,{stalled:!0}));if(this._reportStall(v),!this.media||!this.hls)return}var He=w.bufferInfo(o,t,a.maxBufferHole);this._tryFixBufferStall(He,he,t)}else this.nudgeRetry=0}}}},r.stallResolved=function(t){var e=this.stalled;if(e&&this.hls&&(this.stalled=null,this.stallReported)){var n=self.performance.now()-e;this.log("playback not stuck anymore @"+t+", after "+Math.round(n)+"ms"),this.stallReported=!1,this.waiting=0,this.hls.trigger(D.STALL_RESOLVED,{})}},r.nudgeOnVideoHole=function(t,e){var n,i=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&null!=(n=this.buffered.audio)&&n.length&&i&&i.length>1&&t>i.end(0)){var a=w.bufferedInfo(w.timeRangesToArray(this.buffered.audio),t,0);if(a.len>1&&e>=a.start){var o=w.timeRangesToArray(i),l=w.bufferedInfo(o,e,0).bufferedIndex;if(l>-1&&l<o.length-1){var c=w.bufferedInfo(o,t,0).bufferedIndex,f=o[l].end,m=o[l+1].start;if((-1===c||c>l)&&m-f<1&&t-f<2){var v=new Error("nudging playhead to flush pipeline after video hole. currentTime: "+t+" hole: "+f+" -> "+m+" buffered index: "+c);this.warn(v.message),this.media.currentTime+=1e-6;var b=No(t,this.fragmentTracker);b&&"fragment"in b?b=b.fragment:b||(b=void 0);var I=w.bufferInfo(this.media,t,0);this.hls.trigger(D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:v,reason:v.message,frag:b,buffer:I.len,bufferInfo:I})}}}}},r._tryFixBufferStall=function(t,e,n){var i,a,o=this.fragmentTracker,c=null==(i=this.hls)?void 0:i.config;if(this.media&&o&&c){var f=null==(a=this.hls)?void 0:a.latestLevelDetails,m=No(n,o);if((m||null!=f&&f.live&&n<f.fragmentStart)&&(this._trySkipBufferHole(m)||!this.media))return;var v=t.buffered,b=this.adjacentTraversal(t,n);(v&&v.length>1&&t.len>c.maxBufferHole||t.nextStart&&(t.nextStart-n<c.maxBufferHole||b))&&(e>1e3*c.highBufferWatchdogPeriod||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(t))}},r.adjacentTraversal=function(t,e){var n=this.fragmentTracker,i=t.nextStart;if(n&&i){var a=n.getFragAtPos(e,Sr),o=n.getFragAtPos(i,Sr);if(a&&o)return o.sn-a.sn<2}return!1},r._reportStall=function(t){var e=this.hls,n=this.media,a=this.stalled;if(!this.stallReported&&null!==a&&n&&e){this.stallReported=!0;var o=new Error("Playback stalling at @"+n.currentTime+" due to low buffer ("+mt(t)+")");this.warn(o.message),e.trigger(D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.BUFFER_STALLED_ERROR,fatal:!1,error:o,buffer:t.len,bufferInfo:t,stalled:{start:a}})}},r._trySkipBufferHole=function(t){var e,n=this.fragmentTracker,i=this.media,a=null==(e=this.hls)?void 0:e.config;if(!i||!n||!a)return 0;var o=i.currentTime,l=w.bufferInfo(i,o,0),c=o<l.start?l.start:l.nextStart;if(c&&this.hls){var v=c-o;if(v>0&&(l.len<=a.maxBufferHole||l.len>0&&l.len<1&&i.readyState<3)){if(v>a.maxBufferHole){var b=!1;if(0===o){var I=n.getAppendedFrag(0,Sr);I&&c<I.end&&(b=!0)}if(!b&&t){var _;if(null==(_=this.hls.loadLevelObj)||!_.details||Sl(this.hls.inFlightFragments,c))return 0;for(var Q=!1,j=t.end;j<c;){var At=No(j,n);if(!At){Q=!0;break}j+=At.duration}if(Q)return 0}}var yt=Math.max(c+.05,o+.1);if(this.warn("skipping hole, adjusting currentTime from "+o+" to "+yt),this.moved=!0,i.currentTime=yt,null==t||!t.gap){var Ot=new Error("fragment loaded with buffer holes, seeking from "+o+" to "+yt),Ft={type:Ve.MEDIA_ERROR,details:Ht.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:Ot,reason:Ot.message,buffer:l.len,bufferInfo:l};t&&("fragment"in t?Ft.part=t:Ft.frag=t),this.hls.trigger(D.ERROR,Ft)}return yt}}return 0},r._tryNudgeBuffer=function(t){var e=this.hls,n=this.media,i=this.nudgeRetry,a=e?.config;if(!n||!a)return 0;var o=n.currentTime;if(this.nudgeRetry++,i<a.nudgeMaxRetry){var l=o+(i+1)*a.nudgeOffset,c=new Error("Nudging 'currentTime' from "+o+" to "+l);this.warn(c.message),n.currentTime=l,e.trigger(D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.BUFFER_NUDGE_ON_STALL,error:c,fatal:!1,buffer:t.len,bufferInfo:t})}else{var f=new Error("Playhead still not moving while enough data buffered @"+o+" after "+a.nudgeMaxRetry+" nudges");this.error(f.message),e.trigger(D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.BUFFER_STALLED_ERROR,error:f,fatal:!0,buffer:t.len,bufferInfo:t})}},Xr(A,[{key:"hasBuffered",get:function(){return Object.keys(this.buffered).length>0}}])}(We);function Sl(s,A){var r=Fl(s.main);if(r&&r.start<=A)return r;var t=Fl(s.audio);return t&&t.start<=A?t:null}function Fl(s){if(!s)return null;switch(s.state){case ae.IDLE:case ae.STOPPED:case ae.ENDED:case ae.ERROR:return null}return s.frag}function No(s,A){return A.getAppendedFrag(s,Sr)||A.getPartialFragment(s)}function hl(){if(typeof self<"u")return self.VTTCue||self.TextTrackCue}function dl(s,A,r,t,e){var n=new s(A,r,"");try{n.value=t,e&&(n.type=e)}catch{n=new s(A,r,mt(e?tn({type:e},t):t))}return n}var Oo=function(){var s=hl();try{s&&new s(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}(),jl=function(){function s(r){var t=this;this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=function(){t.hls&&t.hls.trigger(D.EVENT_CUE_ENTER,{})},this.hls=r,this._registerListeners()}var A=s.prototype;return A.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null},A._registerListeners=function(){var r=this.hls;r&&(r.on(D.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(D.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(D.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(D.MANIFEST_LOADING,this.onManifestLoading,this),r.on(D.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),r.on(D.BUFFER_FLUSHING,this.onBufferFlushing,this),r.on(D.LEVEL_UPDATED,this.onLevelUpdated,this),r.on(D.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))},A._unregisterListeners=function(){var r=this.hls;r&&(r.off(D.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(D.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(D.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(D.MANIFEST_LOADING,this.onManifestLoading,this),r.off(D.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),r.off(D.BUFFER_FLUSHING,this.onBufferFlushing,this),r.off(D.LEVEL_UPDATED,this.onLevelUpdated,this),r.off(D.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))},A.onMediaAttaching=function(r,t){var e;this.media=t.media,!1===(null==(e=t.overrides)?void 0:e.cueRemoval)&&(this.removeCues=!1)},A.onMediaAttached=function(){var r,t=null==(r=this.hls)?void 0:r.latestLevelDetails;t&&this.updateDateRangeCues(t)},A.onMediaDetaching=function(r,t){this.media=null,t.transferMedia||(this.id3Track&&(this.removeCues&&y(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})},A.onManifestLoading=function(){this.dateRangeCuesAppended={}},A.createTrack=function(r){var t=this.getID3Track(r.textTracks);return t.mode="hidden",t},A.getID3Track=function(r){if(this.media){for(var t=0;t<r.length;t++){var e=r[t];if("metadata"===e.kind&&"id3"===e.label)return u(e,this.media),e}return this.media.addTextTrack("metadata","id3")}},A.onFragParsingMetadata=function(r,t){if(this.media&&this.hls){var e=this.hls.config,n=e.enableEmsgMetadataCues,i=e.enableID3MetadataCues;if(n||i){var a=t.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));var o=hl();if(o)for(var l=0;l<a.length;l++){var c=a[l].type;if((c!==nr.emsg||n)&&i){var f=z(a[l].data),m=a[l].pts,v=m+a[l].duration;v>Oo&&(v=Oo),v-m<=0&&(v=m+.25);for(var b=0;b<f.length;b++){var I=f[b];if(!Kt(I)){this.updateId3CueEnds(m,c);var _=dl(o,m,v,I,c);_&&this.id3Track.addCue(_)}}}}}}},A.updateId3CueEnds=function(r,t){var e,n=null==(e=this.id3Track)?void 0:e.cues;if(n)for(var i=n.length;i--;){var a=n[i];a.type===t&&a.startTime<r&&a.endTime===Oo&&(a.endTime=r)}},A.onBufferFlushing=function(r,t){var i=t.type,a=this.id3Track,o=this.hls;if(o){var l=o.config,c=l.enableEmsgMetadataCues,f=l.enableID3MetadataCues;a&&(c||f)&&E(a,t.startOffset,t.endOffset,"audio"===i?function(m){return m.type===nr.audioId3&&f}:"video"===i?function(m){return m.type===nr.emsg&&c}:function(m){return m.type===nr.audioId3&&f||m.type===nr.emsg&&c})}},A.onLevelUpdated=function(r,t){this.updateDateRangeCues(t.details,!0)},A.onLevelPtsUpdated=function(r,t){Math.abs(t.drift)>.01&&this.updateDateRangeCues(t.details)},A.updateDateRangeCues=function(r,t){var e=this;if(this.hls&&this.media){var n=this.hls.config,i=n.assetPlayerId,a=n.timelineOffset,l=n.interstitialsController;if(n.enableDateRangeMetadataCues){var c=hl();if(i&&a&&!l){var f=r.fragmentStart,m=r.fragmentEnd,v=this.assetCue;v?(v.startTime=f,v.endTime=m):c&&(v=this.assetCue=dl(c,f,m,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"))&&(v.id=i,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(v),v.addEventListener("enter",this.onEventCueEnter))}if(r.hasProgramDateTime){var b,I=this.id3Track,_=r.dateRanges,Q=Object.keys(_),j=this.dateRangeCuesAppended;if(I&&t)if(null!=(b=I.cues)&&b.length)for(var At=Object.keys(j).filter(function(Pt){return!Q.includes(Pt)}),yt=function(){var Pt,Gt=At[Ot],he=null==(Pt=j[Gt])?void 0:Pt.cues;delete j[Gt],he&&Object.keys(he).forEach(function(ye){var He=he[ye];if(He){He.removeEventListener("enter",e.onEventCueEnter);try{I.removeCue(He)}catch{}}})},Ot=At.length;Ot--;)yt();else j=this.dateRangeCuesAppended={};if(0!==Q.length&&ke(r.fragments[r.fragments.length-1]?.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var xt=function(){var Pt=Q[Wt],Gt=_[Pt],he=Gt.startTime,ye=j[Pt],He=ye?.cues||{},je=ye?.durationKnown||!1,Re=Oo,Ze=Gt.duration;if(Gt.endDate&&null!==Ze)Re=he+Ze,je=!0;else if(Gt.endOnNext&&!je){var Ge=Q.reduce(function(si,In){if(In!==Gt.id){var Mr=_[In];if(Mr.class===Gt.class&&Mr.startDate>Gt.startDate&&(!si||Gt.startDate<si.startDate))return Mr}return si},null);Ge&&(Re=Ge.startTime,je=!0)}for(var tr,Or=Object.keys(Gt.attr),sr=0;sr<Or.length;sr++){var Cr=Or[sr];if("ID"!==(tr=Cr)&&"CLASS"!==tr&&"CUE"!==tr&&"START-DATE"!==tr&&"DURATION"!==tr&&"END-DATE"!==tr&&"END-ON-NEXT"!==tr){var an=He[Cr];if(an)!je||null!=ye&&ye.durationKnown?Math.abs(an.startTime-he)>.01&&(an.startTime=he,an.endTime=Re):an.endTime=Re;else if(c){var gn=Gt.attr[Cr];Ce(Cr)&&(gn=En(gn));var qr=dl(c,he,Re,{key:Cr,data:gn},nr.dateRange);qr&&(qr.id=Pt,e.id3Track.addCue(qr),He[Cr]=qr,l&&("X-ASSET-LIST"!==Cr&&"X-ASSET-URL"!==Cr||qr.addEventListener("enter",e.onEventCueEnter)))}}}j[Pt]={cues:He,dateRange:Gt,durationKnown:je}},Wt=0;Wt<Q.length;Wt++)xt()}}}}},s}(),Vl=function(){function s(r){var t=this;this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=function(){var e=t.media,n=t.levelDetails;if(e&&n){t.currentTime=e.currentTime;var i=t.computeLatency();if(null!==i){t._latency=i;var a=t.config,l=a.maxLiveSyncPlaybackRate;if(a.lowLatencyMode&&1!==l&&n.live){var c=t.targetLatency;if(null!==c){var f=i-c;if(f<Math.min(t.maxLatency,c+n.targetduration)&&f>.05&&t.forwardBufferLength>1){var m=Math.min(2,Math.max(1,l)),v=Math.round(2/(1+Math.exp(-.75*f-t.edgeStalled))*20)/20,b=Math.min(m,Math.max(1,v));t.changeMediaPlaybackRate(e,b)}else 1!==e.playbackRate&&0!==e.playbackRate&&t.changeMediaPlaybackRate(e,1)}}}}},this.hls=r,this.config=r.config,this.registerListeners()}var A=s.prototype;return A.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null},A.registerListeners=function(){var r=this.hls;r&&(r.on(D.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(D.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(D.MANIFEST_LOADING,this.onManifestLoading,this),r.on(D.LEVEL_UPDATED,this.onLevelUpdated,this),r.on(D.ERROR,this.onError,this))},A.unregisterListeners=function(){var r=this.hls;r&&(r.off(D.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(D.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(D.MANIFEST_LOADING,this.onManifestLoading,this),r.off(D.LEVEL_UPDATED,this.onLevelUpdated,this),r.off(D.ERROR,this.onError,this))},A.onMediaAttached=function(r,t){this.media=t.media,this.media.addEventListener("timeupdate",this.onTimeupdate)},A.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)},A.onManifestLoading=function(){this._latency=null,this.stallCount=0},A.onLevelUpdated=function(r,t){var e=t.details;e.advanced&&this.onTimeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)},A.onError=function(r,t){var e;t.details===Ht.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&null!=(e=this.levelDetails)&&e.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))},A.changeMediaPlaybackRate=function(r,t){var e,n;r.playbackRate!==t&&(null==(e=this.hls)||e.logger.debug("[latency-controller]: latency="+this.latency.toFixed(3)+", targetLatency="+(null==(n=this.targetLatency)?void 0:n.toFixed(3))+", forwardBufferLength="+this.forwardBufferLength.toFixed(3)+": adjusting playback rate from "+r.playbackRate+" to "+t),r.playbackRate=t)},A.estimateLiveEdge=function(){var r=this.levelDetails;return null===r?null:r.edge+r.age},A.computeLatency=function(){var r=this.estimateLiveEdge();return null===r?null:r-this.currentTime},Xr(s,[{key:"levelDetails",get:function(){var r;return(null==(r=this.hls)?void 0:r.latestLevelDetails)||null}},{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var r=this.config;if(void 0!==r.liveMaxLatencyDuration)return r.liveMaxLatencyDuration;var t=this.levelDetails;return t?r.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var r=this.levelDetails;if(null===r||null===this.hls)return null;var n=r.targetduration,i=this.config,a=i.liveSyncDuration,c=this.hls.userConfig,f=i.lowLatencyMode&&r.partHoldBack||r.holdBack;return(this._targetLatencyUpdated||c.liveSyncDuration||c.liveSyncDurationCount||0===f)&&(f=void 0!==a?a:i.liveSyncDurationCount*n),f+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,n)},set:function(r){this.stallCount=0,this.config.liveSyncDuration=r,this._targetLatencyUpdated=!0}},{key:"liveSyncPosition",get:function(){var r=this.estimateLiveEdge(),t=this.targetLatency;if(null===r||null===t)return null;var e=this.levelDetails;if(null===e)return null;var n=e.edge,o=n-(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.min(Math.max(n-e.totalduration,r-t-this.edgeStalled),o)}},{key:"drift",get:function(){var r=this.levelDetails;return null===r?1:r.drift}},{key:"edgeStalled",get:function(){var r=this.levelDetails;return null===r?0:Math.max(r.age-3*(this.config.lowLatencyMode&&r.partTarget||r.targetduration),0)}},{key:"forwardBufferLength",get:function(){var r=this.media,t=this.levelDetails;if(!r||!t)return 0;var e=r.buffered.length;return(e?r.buffered.end(e-1):t.edge)-this.currentTime}}])}(),ql=function(s){function A(t,e){var n;return(n=s.call(this,t,"level-controller")||this)._levels=[],n._firstLevel=-1,n._maxAutoLevel=-1,n._startLevel=void 0,n.currentLevel=null,n.currentLevelIndex=-1,n.manualLevelIndex=-1,n.steering=void 0,n.onParsedComplete=void 0,n.steering=e,n._registerListeners(),n}Kr(A,s);var r=A.prototype;return r._registerListeners=function(){var t=this.hls;t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(D.LEVEL_LOADED,this.onLevelLoaded,this),t.on(D.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(D.FRAG_BUFFERED,this.onFragBuffered,this),t.on(D.ERROR,this.onError,this)},r._unregisterListeners=function(){var t=this.hls;t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(D.LEVEL_LOADED,this.onLevelLoaded,this),t.off(D.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(D.FRAG_BUFFERED,this.onFragBuffered,this),t.off(D.ERROR,this.onError,this)},r.destroy=function(){this._unregisterListeners(),this.steering=null,this.resetLevels(),s.prototype.destroy.call(this)},r.stopLoad=function(){this._levels.forEach(function(t){t.loadError=0,t.fragmentError=0}),s.prototype.stopLoad.call(this)},r.resetLevels=function(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1},r.onManifestLoading=function(t,e){this.resetLevels()},r.onManifestLoaded=function(t,e){var n=this,i=this.hls.config.preferManagedMediaSource,a=[],o={},l={},c=!1,f=!1,m=!1;e.levels.forEach(function(v){var b=v.attrs,I=v.audioCodec,_=v.videoCodec;I&&(v.audioCodec=I=dt(I,i)||void 0),_&&(_=v.videoCodec=function(Ge){for(var tr=Ge.split(","),Or=0;Or<tr.length;Or++){var sr=tr[Or].split(".");sr.length>2&&"avc1"===sr[0]&&(tr[Or]="avc1."+parseInt(sr[1]).toString(16)+("000"+parseInt(sr[2]).toString(16)).slice(-4))}return tr.join(",")}(_));var Q=v.width,j=v.height,At=v.unknownCodecs,yt=At?At.length:0;if(At)for(var Ot=yt;Ot--;){var Ft=At[Ot];n.isAudioSupported(Ft)?(v.audioCodec=I=I?I+","+Ft:Ft,yt--,p.audio[I.substring(0,4)]=2):n.isVideoSupported(Ft)&&(v.videoCodec=_=_?_+","+Ft:Ft,yt--,p.video[_.substring(0,4)]=2)}if(c||(c=!(!Q||!j)),f||(f=!!_),m||(m=!!I),yt||I&&!n.isAudioSupported(I)||_&&!n.isVideoSupported(_))n.log('Some or all CODECS not supported "'+b.CODECS+'"');else{var He=(b["PATHWAY-ID"]||".")+"-"+v.bitrate+"-"+b.RESOLUTION+"-"+b["FRAME-RATE"]+"-"+b.CODECS+"-"+b["VIDEO-RANGE"]+"-"+b["HDCP-LEVEL"];if(o[He])if(o[He].uri===v.url||v.attrs["PATHWAY-ID"])o[He].addGroupId("audio",b.AUDIO),o[He].addGroupId("text",b.SUBTITLES);else{var je=l[He]+=1;v.attrs["PATHWAY-ID"]=new Array(je+1).join(".");var Re=n.createLevel(v);o[He]=Re,a.push(Re)}else{var Ze=n.createLevel(v);o[He]=Ze,l[He]=1,a.push(Ze)}}}),this.filterAndSortMediaOptions(a,e,c,f,m)},r.createLevel=function(t){var e=new st(t),n=t.supplemental;if(null!=n&&n.videoCodec&&!this.isVideoSupported(n.videoCodec)){var i=new Error('SUPPLEMENTAL-CODECS not supported "'+n.videoCodec+'"');this.log(i.message),e.supportedResult=at(i,[])}return e},r.isAudioSupported=function(t){return k(t,"audio",this.hls.config.preferManagedMediaSource)},r.isVideoSupported=function(t){return k(t,"video",this.hls.config.preferManagedMediaSource)},r.filterAndSortMediaOptions=function(t,e,n,i,a){var o=this,l=[],c=[],f=t;if((n||i)&&a&&(f=f.filter(function(Wt){var Pt;return(!!Wt.videoCodec||!(!Wt.width||!Wt.height))&&!!(Pt=Wt.videoRange)&&oe.indexOf(Pt)>-1})),0!==f.length){e.audioTracks&&Tl(l=e.audioTracks.filter(function(Wt){return!Wt.audioCodec||o.isAudioSupported(Wt.audioCodec)})),e.subtitles&&Tl(c=e.subtitles);var m=f.slice(0);f.sort(function(Wt,Pt){if(Wt.attrs["HDCP-LEVEL"]!==Pt.attrs["HDCP-LEVEL"])return(Wt.attrs["HDCP-LEVEL"]||"")>(Pt.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&Wt.height!==Pt.height)return Wt.height-Pt.height;if(Wt.frameRate!==Pt.frameRate)return Wt.frameRate-Pt.frameRate;if(Wt.videoRange!==Pt.videoRange)return oe.indexOf(Wt.videoRange)-oe.indexOf(Pt.videoRange);if(Wt.videoCodec!==Pt.videoCodec){var Gt=x(Wt.videoCodec),he=x(Pt.videoCodec);if(Gt!==he)return he-Gt}if(Wt.uri===Pt.uri&&Wt.codecSet!==Pt.codecSet){var ye=M(Wt.codecSet),He=M(Pt.codecSet);if(ye!==He)return He-ye}return Wt.averageBitrate!==Pt.averageBitrate?Wt.averageBitrate-Pt.averageBitrate:0});var v=m[0];if(this.steering&&(f=this.steering.filterParsedLevels(f)).length!==m.length)for(var b=0;b<m.length;b++)if(m[b].pathwayId===f[0].pathwayId){v=m[b];break}this._levels=f;for(var I=0;I<f.length;I++)if(f[I]===v){var _;this._firstLevel=I;var Q=v.bitrate,j=this.hls.bandwidthEstimate;if(this.log("manifest loaded, "+f.length+" level(s) found, first bitrate: "+Q),void 0===(null==(_=this.hls.userConfig)?void 0:_.abrEwmaDefaultEstimate)){var At=Math.min(Q,this.hls.config.abrEwmaDefaultEstimateMax);At>j&&j===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=At)}break}var Ot=this.hls.config,xt={levels:f,audioTracks:l,subtitleTracks:c,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:a,video:i,altAudio:!(!Ot.audioStreamController||!Ot.audioTrackController)&&!(a&&!i)&&l.some(function(Wt){return!!Wt.url})};this.hls.trigger(D.MANIFEST_PARSED,xt)}else Promise.resolve().then(function(){if(o.hls){var Wt="no level with compatible codecs found in manifest",Pt=Wt;e.levels.length&&(Pt="one or more CODECS in variant not supported: "+mt(e.levels.map(function(he){return he.attrs.CODECS}).filter(function(he,ye,He){return He.indexOf(he)===ye})),o.warn(Pt),Wt+=" ("+Pt+")");var Gt=new Error(Wt);o.hls.trigger(D.ERROR,{type:Ve.MEDIA_ERROR,details:Ht.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:Gt,reason:Pt})}})},r.onError=function(t,e){!e.fatal&&e.context&&e.context.type===Yn&&e.context.level===this.level&&this.checkRetry(e)},r.onFragBuffered=function(t,e){var n=e.frag;if(void 0!==n&&n.type===Sr){var i=n.elementaryStreams;if(!Object.keys(i).some(function(o){return!!i[o]}))return;var a=this._levels[n.level];null!=a&&a.loadError&&(this.log("Resetting level error count of "+a.loadError+" on frag buffered"),a.loadError=0)}},r.onLevelLoaded=function(t,e){var n,i,a=e.level,o=e.details,l=e.levelInfo;if(!l)return this.warn("Invalid level index "+a),void(null!=(i=e.deliveryDirectives)&&i.skip&&(o.deltaUpdateFailed=!0));if(l===this.currentLevel||e.withoutMultiVariant){0===l.fragmentError&&(l.loadError=0);var c=l.details;c===e.details&&c.advanced&&(c=void 0),this.playlistLoaded(a,e,c)}else null!=(n=e.deliveryDirectives)&&n.skip&&(o.deltaUpdateFailed=!0)},r.loadPlaylist=function(t){s.prototype.loadPlaylist.call(this),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,t)},r.loadingPlaylist=function(t,e){s.prototype.loadingPlaylist.call(this,t,e);var n=this.getUrlWithDirectives(t.uri,e),i=this.currentLevelIndex,a=t.attrs["PATHWAY-ID"],o=t.details,l=o?.age;this.log("Loading level index "+i+(void 0!==e?.msn?" at sn "+e.msn+" part "+e.part:"")+(a?" Pathway "+a:"")+(l&&o.live?" age "+l.toFixed(1)+(o.type&&" "+o.type||""):"")+" "+n),this.hls.trigger(D.LEVEL_LOADING,{url:n,level:i,levelInfo:t,pathwayId:t.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})},r.removeLevel=function(t){var e,n=this;if(1!==this._levels.length){var i=this._levels.filter(function(o,l){return l!==t||(n.steering&&n.steering.removeLevel(o),o===n.currentLevel&&(n.currentLevel=null,n.currentLevelIndex=-1,o.details&&o.details.fragments.forEach(function(c){return c.level=-1})),!1)});zt(i),this._levels=i,this.currentLevelIndex>-1&&null!=(e=this.currentLevel)&&e.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);var a=i.length-1;this._firstLevel=Math.min(this._firstLevel,a),this._startLevel&&(this._startLevel=Math.min(this._startLevel,a)),this.hls.trigger(D.LEVELS_UPDATED,{levels:i})}},r.onLevelsUpdated=function(t,e){this._levels=e.levels},r.checkMaxAutoUpdated=function(){var t=this.hls,e=t.autoLevelCapping,n=t.maxAutoLevel,i=t.maxHdcpLevel;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(D.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:i}))},Xr(A,[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"loadLevelObj",get:function(){return this.currentLevel}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;if(0!==e.length){if(t<0||t>=e.length){var n=new Error("invalid level idx"),i=t<0;if(this.hls.trigger(D.ERROR,{type:Ve.OTHER_ERROR,details:Ht.LEVEL_SWITCH_ERROR,level:t,fatal:i,error:n,reason:n.message}),i)return;t=Math.min(t,e.length-1)}var a=this.currentLevelIndex,o=this.currentLevel,l=o?o.attrs["PATHWAY-ID"]:void 0,c=e[t],f=c.attrs["PATHWAY-ID"];if(this.currentLevelIndex=t,this.currentLevel=c,a!==t||!o||l!==f){this.log("Switching to level "+t+" ("+(c.height?c.height+"p ":"")+(c.videoRange?c.videoRange+" ":"")+(c.codecSet?c.codecSet+" ":"")+"@"+c.bitrate+")"+(f?" with Pathway "+f:"")+" from level "+a+(l?" with Pathway "+l:"")),this.hls.trigger(D.LEVEL_SWITCHING,{level:t,attrs:c.attrs,details:c.details,bitrate:c.bitrate,averageBitrate:c.averageBitrate,maxBitrate:c.maxBitrate,realBitrate:c.realBitrate,width:c.width,height:c.height,codecSet:c.codecSet,audioCodec:c.audioCodec,videoCodec:c.videoCodec,audioGroups:c.audioGroups,subtitleGroups:c.subtitleGroups,loaded:c.loaded,loadError:c.loadError,fragmentError:c.fragmentError,name:c.name,id:c.id,uri:c.uri,url:c.url,urlId:0,audioGroupIds:c.audioGroupIds,textGroupIds:c.textGroupIds});var v=c.details;if(!v||v.live){var b=this.switchParams(c.uri,o?.details,v);this.loadPlaylist(b)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this.hls.firstAutoLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"pathways",get:function(){return this.steering?this.steering.pathways():[]}},{key:"pathwayPriority",get:function(){return this.steering?this.steering.pathwayPriority:null},set:function(t){if(this.steering){var e=this.steering.pathways(),n=t.filter(function(i){return-1!==e.indexOf(i)});if(t.length<1)return void this.warn("pathwayPriority "+t+" should contain at least one pathway from list: "+e);this.steering.pathwayPriority=n}}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}])}(Ms);function Tl(s){var A={};s.forEach(function(r){var t=r.groupId||"";r.id=A[t]=A[t]||0,A[t]++})}function Il(){return self.SourceBuffer||self.WebKitSourceBuffer}function Ul(){if(!Gi())return!1;var s=Il();return!s||s.prototype&&"function"==typeof s.prototype.appendBuffer&&"function"==typeof s.prototype.remove}var Wl=function(s){function A(t,e,n){var i;return(i=s.call(this,t,e,n,"stream-controller",Sr)||this).audioCodecSwap=!1,i.level=-1,i._forceStartLoad=!1,i._hasEnoughToStart=!1,i.altAudio=0,i.audioOnly=!1,i.fragPlaying=null,i.fragLastKbps=0,i.couldBacktrack=!1,i.backtrackFragment=null,i.audioCodecSwitch=!1,i.videoBuffer=null,i.onMediaPlaying=function(){i.tick()},i.onMediaSeeked=function(){var a=i.media,o=a?a.currentTime:null;if(null!==o&&ke(o)&&(i.log("Media seeked to "+o.toFixed(3)),i.getBufferedFrag(o))){var l=i.getFwdBufferInfoAtPos(a,o,Sr,0);null!==l&&0!==l.len?i.tick():i.warn("Main forward buffer length at "+o+' on "seeked" event '+(l?l.len:"empty")+")")}},i.registerListeners(),i}Kr(A,s);var r=A.prototype;return r.registerListeners=function(){s.prototype.registerListeners.call(this);var t=this.hls;t.on(D.MANIFEST_PARSED,this.onManifestParsed,this),t.on(D.LEVEL_LOADING,this.onLevelLoading,this),t.on(D.LEVEL_LOADED,this.onLevelLoaded,this),t.on(D.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(D.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(D.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(D.BUFFER_CREATED,this.onBufferCreated,this),t.on(D.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(D.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(D.FRAG_BUFFERED,this.onFragBuffered,this)},r.unregisterListeners=function(){s.prototype.unregisterListeners.call(this);var t=this.hls;t.off(D.MANIFEST_PARSED,this.onManifestParsed,this),t.off(D.LEVEL_LOADED,this.onLevelLoaded,this),t.off(D.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(D.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(D.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(D.BUFFER_CREATED,this.onBufferCreated,this),t.off(D.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(D.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(D.FRAG_BUFFERED,this.onFragBuffered,this)},r.onHandlerDestroying=function(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),s.prototype.onHandlerDestroying.call(this)},r.startLoad=function(t,e){if(this.levels){var n=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var a=i.startLevel;-1===a&&(i.config.testBandwidth&&this.levels.length>1?(a=0,this.bitrateTest=!0):a=i.firstAutoLevel),i.nextLoadLevel=a,this.level=i.loadLevel,this._hasEnoughToStart=!!e}n>0&&-1===t&&!e&&(this.log("Override startPosition with lastCurrentTime @"+n.toFixed(3)),t=n),this.state=ae.IDLE,this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=e?-1:t,this.tick()}else this._forceStartLoad=!0,this.state=ae.STOPPED},r.stopLoad=function(){this._forceStartLoad=!1,s.prototype.stopLoad.call(this)},r.doTick=function(){switch(this.state){case ae.WAITING_LEVEL:var n=this.levels?.[this.level],i=n?.details;if(i&&(!i.live||this.levelLastLoaded===n&&!this.waitForLive(n))){if(this.waitForCdnTuneIn(i))break;this.state=ae.IDLE;break}if(this.hls.nextLoadLevel!==this.level){this.state=ae.IDLE;break}break;case ae.FRAG_LOADING_WAITING_RETRY:var a,o=self.performance.now(),l=this.retryDate;if(!l||o>=l||null!=(a=this.media)&&a.seeking){var m=this.levels?.[this.level];this.resetStartWhenNotLoaded(m||null),this.state=ae.IDLE}}this.state===ae.IDLE&&this.doTickIdle(),this.onTickEnd()},r.onTickEnd=function(){var t;s.prototype.onTickEnd.call(this),null!=(t=this.media)&&t.readyState&&!1===this.media.seeking&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()},r.doTickIdle=function(){var t=this.hls,n=this.levels;if(null!==this.levelLastLoaded&&(this.media||this.primaryPrefetch||!this.startFragRequested&&t.config.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)){var a=this.buffering?t.nextLoadLevel:t.loadLevel;if(null!=n&&n[a]){var o=n[a],l=this.getMainFwdBufferInfo();if(null!==l){var c=this.getLevelDetails();if(c&&this._streamEnded(l,c)){var f={};return 2===this.altAudio&&(f.type="video"),this.hls.trigger(D.BUFFER_EOS,f),void(this.state=ae.ENDED)}if(this.buffering){t.loadLevel!==a&&-1===t.manualLevel&&this.log("Adapting to level "+a+" from level "+this.level),this.level=t.nextLoadLevel=a;var m=o.details;if(!m||this.state===ae.WAITING_LEVEL||this.waitForLive(o))return this.level=a,this.state=ae.WAITING_LEVEL,void(this.startFragRequested=!1);var v=l.len,b=this.getMaxBufferLength(o.maxBitrate);if(!(v>=b)){this.backtrackFragment&&this.backtrackFragment.start>l.end&&(this.backtrackFragment=null);var I=this.backtrackFragment?this.backtrackFragment.start:l.end,_=this.getNextFragment(I,m);if(this.couldBacktrack&&!this.fragPrevious&&_&&Cn(_)&&this.fragmentTracker.getState(_)!==pr){var Q,j=(null!=(Q=this.backtrackFragment)?Q:_).sn-m.startSN,At=m.fragments[j-1];At&&_.cc===At.cc&&(_=At,this.fragmentTracker.removeFragment(At))}else this.backtrackFragment&&l.len&&(this.backtrackFragment=null);if(_&&this.isLoopLoading(_,I)){if(!_.gap){var yt=this.audioOnly&&!this.altAudio?Nn:ji,Ot=(yt===ji?this.videoBuffer:this.mediaBuffer)||this.media;Ot&&this.afterBufferFlushed(Ot,yt,Sr)}_=this.getNextFragmentLoopLoading(_,m,l,Sr,b)}_&&(!_.initSegment||_.initSegment.data||this.bitrateTest||(_=_.initSegment),this.loadFragment(_,o,I))}}}}}},r.loadFragment=function(t,e,n){var i=this.fragmentTracker.getState(t);i===Pr||i===fr?Cn(t)?this.bitrateTest?(this.log("Fragment "+t.sn+" of level "+t.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(t,e)):s.prototype.loadFragment.call(this,t,e,n):this._loadInitSegment(t,e):this.clearTrackerIfNeeded(t)},r.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,Sr)},r.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.end+.5):null},r.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},r.nextLevelSwitch=function(){var t=this.levels,e=this.media;if(null!=e&&e.readyState){var n,i=this.getAppendedFrag(e.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);var a=this.getLevelDetails();if(null!=a&&a.live){var o=this.getMainFwdBufferInfo();if(!o||o.len<2*a.targetduration)return}if(!e.paused&&t){var c=this.fragLastKbps;n=c&&this.fragCurrent?this.fragCurrent.duration*t[this.hls.nextLoadLevel].maxBitrate/(1e3*c)+1:0}else n=0;var f=this.getBufferedFrag(e.currentTime+n);if(f){var m=this.followingBufferedFrag(f);if(m){this.abortCurrentFrag();var b=m.duration,I=Math.max(f.end,(m.maxStartPTS?m.maxStartPTS:m.start)+Math.min(Math.max(b-this.config.maxFragLookUpTolerance,b*(this.couldBacktrack?.5:.125)),b*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(I,Number.POSITIVE_INFINITY)}}}},r.abortCurrentFrag=function(){var t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case ae.KEY_LOADING:case ae.FRAG_LOADING:case ae.FRAG_LOADING_WAITING_RETRY:case ae.PARSING:case ae.PARSED:this.state=ae.IDLE}this.nextLoadPosition=this.getLoadPosition()},r.flushMainBuffer=function(t,e){s.prototype.flushMainBuffer.call(this,t,e,2===this.altAudio?"video":null)},r.onMediaAttached=function(t,e){s.prototype.onMediaAttached.call(this,t,e);var n=e.media;zA(n,"playing",this.onMediaPlaying),zA(n,"seeked",this.onMediaSeeked)},r.onMediaDetaching=function(t,e){var n=this.media;n&&(us(n,"playing",this.onMediaPlaying),us(n,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,s.prototype.onMediaDetaching.call(this,t,e),e.transferMedia||(this._hasEnoughToStart=!1)},r.onManifestLoading=function(){s.prototype.onManifestLoading.call(this),this.log("Trigger BUFFER_RESET"),this.hls.trigger(D.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1},r.onManifestParsed=function(t,e){for(var n,i,a=!1,o=!1,l=0;l<e.levels.length;l++){var c=e.levels[l].audioCodec;c&&(a=a||-1!==c.indexOf("mp4a.40.2"),o=o||-1!==c.indexOf("mp4a.40.5"))}this.audioCodecSwitch=a&&o&&"function"!=typeof(null==(i=Il())||null==(n=i.prototype)?void 0:n.changeType),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1},r.onLevelLoading=function(t,e){if(this.levels&&this.state===ae.IDLE){var n=e.levelInfo;(!n.details||n.details.live&&(this.levelLastLoaded!==n||n.details.expired)||this.waitForCdnTuneIn(n.details))&&(this.state=ae.WAITING_LEVEL)}},r.onLevelLoaded=function(t,e){var n,a=this.startFragRequested,o=e.level,l=e.details;if(this.levels){this.log("Level "+o+" loaded ["+l.startSN+","+l.endSN+"]"+(l.lastPartSn?"[part-"+l.lastPartSn+"-"+l.lastPartIndex+"]":"")+", cc ["+l.startCC+", "+l.endCC+"] duration:"+l.totalduration);var f=e.levelInfo,m=this.fragCurrent;!m||this.state!==ae.FRAG_LOADING&&this.state!==ae.FRAG_LOADING_WAITING_RETRY||m.level!==e.level&&m.loader&&this.abortCurrentFrag();var v=0;if(l.live||null!=(n=f.details)&&n.live){var b;if(this.checkLiveUpdate(l),l.deltaUpdateFailed)return;v=this.alignPlaylists(l,f.details,null==(b=this.levelLastLoaded)?void 0:b.details)}if(f.details=l,this.levelLastLoaded=f,a||this.setStartPosition(l,v),this.hls.trigger(D.LEVEL_UPDATED,{details:l,level:o}),this.state===ae.WAITING_LEVEL){if(this.waitForCdnTuneIn(l))return;this.state=ae.IDLE}a&&l.live&&this.synchronizeToLiveEdge(l),this.tick()}else this.warn("Levels were reset while loading level "+o)},r.synchronizeToLiveEdge=function(t){var e=this.config,n=this.media;if(n){var i=this.hls.liveSyncPosition,a=this.getLoadPosition(),l=t.edge,c=a>=t.fragmentStart-e.maxFragLookUpTolerance&&a<=l;if(null!==i&&n.duration>i&&(a<i||!c)&&(!c&&n.readyState<4||a<l-(void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration))&&(this._hasEnoughToStart||(this.nextLoadPosition=i),n.readyState))if(this.warn("Playback: "+a.toFixed(3)+" is located too far from the end of live sliding playlist: "+l+", reset currentTime to : "+i.toFixed(3)),"buffered"===this.config.liveSyncMode){var m,v=w.bufferInfo(n,i,0);if(null==(m=v.buffered)||!m.length||v.start<=a)return void(n.currentTime=i);var b=w.bufferedInfo(v.buffered,a,0).nextStart;b&&(n.currentTime=b)}else n.currentTime=i}},r._handleFragmentLoadProgress=function(t){var e,n=t.frag,i=t.part,a=t.payload,o=this.levels;if(o){var l=o[n.level];if(l){var c=l.details;if(!c)return this.warn("Dropping fragment "+n.sn+" of level "+n.level+" after level details were reset"),void this.fragmentTracker.removeFragment(n);var f=l.videoCodec,m=c.PTSKnown||!c.live,v=null==(e=n.initSegment)?void 0:e.data,b=this._getAudioCodec(l),I=this.transmuxer=this.transmuxer||new Wa(this.hls,Sr,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),_=i?i.index:-1,j=new h(n.level,n.sn,n.stats.chunkCount,a.byteLength,_,-1!==_);I.push(a,v,b,f,n,i,c.totalduration,m,j,this.initPTS[n.cc])}else this.warn("Level "+n.level+" not found on progress")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},r.onAudioTrackSwitching=function(t,e){var n=this,i=this.hls,a=2===this.altAudio;if(it(e.url,i))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var o=this.fragCurrent;o&&(this.log("Switching to main audio track, cancel main fragment load"),o.abortRequests(),this.fragmentTracker.removeFragment(o)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(a)return this.fragmentTracker.removeAllFragments(),i.once(D.BUFFER_FLUSHED,function(){n.hls&&n.hls.trigger(D.AUDIO_TRACK_SWITCHED,e)}),void i.trigger(D.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});i.trigger(D.AUDIO_TRACK_SWITCHED,e)}},r.onAudioTrackSwitched=function(t,e){var n=it(e.url,this.hls);if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n?2:0,this.tick()},r.onBufferCreated=function(t,e){var n,i,a=e.tracks,o=!1;for(var l in a){var c=a[l];if("main"===c.id){if(i=l,n=c,"video"===l){var f=a[l];f&&(this.videoBuffer=f.buffer)}}else o=!0}o&&n?(this.log("Alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},r.onFragBuffered=function(t,e){var n=e.frag,i=e.part,a=n.type===Sr;if(a){if(this.fragContextChanged(n))return this.warn("Fragment "+n.sn+(i?" p: "+i.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===ae.PARSED&&(this.state=ae.IDLE));var o=i?i.stats:n.stats;this.fragLastKbps=Math.round(8*o.total/(o.buffering.end-o.loading.first)),Cn(n)&&(this.fragPrevious=n),this.fragBufferedComplete(n,i)}var l=this.media;l&&(!this._hasEnoughToStart&&w.getBuffered(l).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),a&&this.tick())},r.onError=function(t,e){var n;if(e.fatal)this.state=ae.ERROR;else switch(e.details){case Ht.FRAG_GAP:case Ht.FRAG_PARSING_ERROR:case Ht.FRAG_DECRYPT_ERROR:case Ht.FRAG_LOAD_ERROR:case Ht.FRAG_LOAD_TIMEOUT:case Ht.KEY_LOAD_ERROR:case Ht.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Sr,e);break;case Ht.LEVEL_LOAD_ERROR:case Ht.LEVEL_LOAD_TIMEOUT:case Ht.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==ae.WAITING_LEVEL||(null==(n=e.context)?void 0:n.type)!==Yn||(this.state=ae.IDLE);break;case Ht.BUFFER_ADD_CODEC_ERROR:case Ht.BUFFER_APPEND_ERROR:if("main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.resetLoadingState();break;case Ht.BUFFER_FULL_ERROR:if("main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY));break;case Ht.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}},r.onFragLoadEmergencyAborted=function(){this.state=ae.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()},r.onBufferFlushed=function(t,e){var n=e.type;if(n!==Nn||!this.altAudio){var i=(n===ji?this.videoBuffer:this.mediaBuffer)||this.media;i&&(this.afterBufferFlushed(i,n,Sr),this.tick())}},r.onLevelsUpdated=function(t,e){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,-1===this.level&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=e.levels},r.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},r.seekToStartPos=function(){var t=this.media;if(t){var e=t.currentTime,n=this.startPosition;if(n>=0&&e<n){if(t.seeking)return void this.log("could not seek to "+n+", already seeking at "+e);var i=this.timelineOffset;i&&n&&(n+=i);var a=this.getLevelDetails(),o=w.getBuffered(t),l=o.length?o.start(0):0,c=l-n,f=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||c>0&&(c<f||this.loadingParts&&c<2*(a?.partTarget||0)))&&(this.log("adjusting start position by "+c+" to match buffer start"),this.startPosition=n+=c),e<n&&(this.log("seek to target start position "+n+" from current time "+e+" buffer start "+l),t.currentTime=n)}}},r._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e},r._loadBitrateTestFrag=function(t,e){var n=this;t.bitrateTest=!0,this._doFragLoad(t,e).then(function(i){var a=n.hls,o=i?.frag;if(o&&!n.fragContextChanged(o)){e.fragmentError=0,n.state=ae.IDLE,n.startFragRequested=!1,n.bitrateTest=!1;var l=o.stats;l.parsing.start=l.parsing.end=l.buffering.start=l.buffering.end=self.performance.now(),a.trigger(D.FRAG_LOADED,i),o.bitrateTest=!1}})},r._handleTransmuxComplete=function(t){var e=this.playlistType,n=this.hls,i=t.remuxResult,a=t.chunkMeta,o=this.getCurrentContext(a);if(o){var l=o.frag,c=o.part,f=o.level,m=i.video,v=i.text,b=i.id3,I=i.initSegment,_=f.details,Q=this.altAudio?void 0:i.audio;if(this.fragContextChanged(l))this.fragmentTracker.removeFragment(l);else{if(this.state=ae.PARSING,I){var j=I.tracks;if(j){var At=l.initSegment||l;if(this.unhandledEncryptionError(I,l))return;this._bufferInitSegment(f,j,At,a),n.trigger(D.FRAG_PARSING_INIT_SEGMENT,{frag:At,id:e,tracks:j})}var yt=I.initPTS,Ot=I.timescale,Ft=this.initPTS[l.cc];if(ke(yt)&&(!Ft||Ft.baseTime!==yt||Ft.timescale!==Ot)){var xt=I.trackId;this.initPTS[l.cc]={baseTime:yt,timescale:Ot,trackId:xt},n.trigger(D.INIT_PTS_FOUND,{frag:l,id:e,initPTS:yt,timescale:Ot,trackId:xt})}}if(m&&_){Q&&"audiovideo"===m.type&&this.logMuxedErr(l);var Wt=_.fragments[l.sn-1-_.startSN],Pt=l.sn===_.startSN,Gt=!Wt||l.cc>Wt.cc;if(!1!==i.independent){var he=m.startPTS,ye=m.endPTS,He=m.startDTS,je=m.endDTS;if(c)c.elementaryStreams[m.type]={startPTS:he,endPTS:ye,startDTS:He,endDTS:je};else if(m.firstKeyFrame&&m.independent&&1===a.id&&!Gt&&(this.couldBacktrack=!0),m.dropped&&m.independent){var Re=this.getMainFwdBufferInfo(),Ze=(Re?Re.end:this.getLoadPosition())+this.config.maxBufferHole;if(!Pt&&Ze<(m.firstKeyFramePTS?m.firstKeyFramePTS:he)-this.config.maxBufferHole&&!Gt)return void this.backtrack(l);Gt&&(l.gap=!0),l.setElementaryStreamInfo(m.type,l.start,ye,l.start,je,!0)}else Pt&&he-(_.appliedTimelineOffset||0)>2&&(l.gap=!0);l.setElementaryStreamInfo(m.type,he,ye,He,je),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(m,l,c,a,Pt||Gt)}else{if(!Pt&&!Gt)return void this.backtrack(l);l.gap=!0}}if(Q){var tr=Q.startPTS,Or=Q.endPTS,sr=Q.startDTS,Cr=Q.endDTS;c&&(c.elementaryStreams[Nn]={startPTS:tr,endPTS:Or,startDTS:sr,endDTS:Cr}),l.setElementaryStreamInfo(Nn,tr,Or,sr,Cr),this.bufferFragmentData(Q,l,c,a)}_&&null!=b&&b.samples.length&&n.trigger(D.FRAG_PARSING_METADATA,{id:e,frag:l,details:_,samples:b.samples}),_&&v&&n.trigger(D.FRAG_PARSING_USERDATA,{id:e,frag:l,details:_,samples:v.samples})}}else this.resetWhenMissingContext(a)},r.logMuxedErr=function(t){this.warn((Cn(t)?"Media":"Init")+" segment with muxed audiovideo where only video expected: "+t.url)},r._bufferInitSegment=function(t,e,n,i){var a=this;if(this.state===ae.PARSING){this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&(delete e.audio,e.audiovideo&&this.logMuxedErr(n));var o=e.audio,l=e.video,c=e.audiovideo;if(o){var f=t.audioCodec,m=pt(o.codec,f);"mp4a"===m&&(m="mp4a.40.5");var v=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){m&&(m=-1!==m.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5");var b=o.metadata;b&&"channelCount"in b&&1!==(b.channelCount||1)&&-1===v.indexOf("firefox")&&(m="mp4a.40.5")}m&&-1!==m.indexOf("mp4a.40.5")&&-1!==v.indexOf("android")&&"audio/mpeg"!==o.container&&this.log("Android: force audio codec to "+(m="mp4a.40.2")),f&&f!==m&&this.log('Swapping manifest audio codec "'+f+'" for "'+m+'"'),o.levelCodec=m,o.id=Sr,this.log("Init audio buffer, container:"+o.container+", codecs[selected/level/parsed]=["+(m||"")+"/"+(f||"")+"/"+o.codec+"]"),delete e.audiovideo}if(l){l.levelCodec=t.videoCodec,l.id=Sr;var I=l.codec;if(4===I?.length)switch(I){case"hvc1":case"hev1":l.codec="hvc1.1.6.L120.90";break;case"av01":l.codec="av01.0.04M.08";break;case"avc1":l.codec="avc1.42e01e"}this.log("Init video buffer, container:"+l.container+", codecs[level/parsed]=["+(t.videoCodec||"")+"/"+I+"]"+(l.codec!==I?" parsed-corrected="+l.codec:"")+(l.supplemental?" supplemental="+l.supplemental:"")),delete e.audiovideo}c&&(this.log("Init audiovideo buffer, container:"+c.container+", codecs[level/parsed]=["+t.codecs+"/"+c.codec+"]"),delete e.video,delete e.audio);var _=Object.keys(e);if(_.length){if(this.hls.trigger(D.BUFFER_CODECS,e),!this.hls)return;_.forEach(function(Q){var j=e[Q].initSegment;null!=j&&j.byteLength&&a.hls.trigger(D.BUFFER_APPENDING,{type:Q,data:j,frag:n,part:null,chunkMeta:i,parent:n.type})})}this.tickImmediate()}},r.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer&&2===this.altAudio?this.mediaBuffer:this.media,Sr)},r.backtrack=function(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=ae.IDLE},r.checkFragmentChanged=function(){var t=this.media,e=null;if(t&&t.readyState>1&&!1===t.seeking){var n=t.currentTime;if(w.isBuffered(t,n)?e=this.getAppendedFrag(n):w.isBuffered(t,n+.1)&&(e=this.getAppendedFrag(n+.1)),e){this.backtrackFragment=null;var i=this.fragPlaying,a=e.level;i&&e.sn===i.sn&&i.level===a||(this.fragPlaying=e,this.hls.trigger(D.FRAG_CHANGED,{frag:e}),i&&i.level===a||this.hls.trigger(D.LEVEL_SWITCHED,{level:a}))}}},Xr(A,[{key:"hasEnoughToStart",get:function(){return this._hasEnoughToStart}},{key:"maxBufferLength",get:function(){var n=this.levels?.[this.level];return n?this.getMaxBufferLength(n.maxBitrate):this.config.maxBufferLength}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"currentFrag",get:function(){var t;if(this.fragPlaying)return this.fragPlaying;var e=(null==(t=this.media)?void 0:t.currentTime)||this.lastCurrentTime;return ke(e)?this.getAppendedFrag(e):null}},{key:"currentProgramDateTime",get:function(){var t,e=(null==(t=this.media)?void 0:t.currentTime)||this.lastCurrentTime;if(ke(e)){var n=this.getLevelDetails(),i=this.currentFrag||(n?kt(null,n.fragments,e):null);if(i){var a=i.programDateTime;if(null!==a)return new Date(a+1e3*(e-i.start))}}return null}},{key:"currentLevel",get:function(){var t=this.currentFrag;return t?t.level:-1}},{key:"nextBufferedFrag",get:function(){var t=this.currentFrag;return t?this.followingBufferedFrag(t):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])}(Nr),Yl=function(){function s(r){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=r}var A=s.prototype;return A.abort=function(r){for(var t in this.keyUriToKeyInfo){var e=this.keyUriToKeyInfo[t].loader;if(e){var n;if(r&&r!==(null==(n=e.context)?void 0:n.frag.type))return;e.abort()}}},A.detach=function(){for(var r in this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[r];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[r]}},A.destroy=function(){for(var r in this.detach(),this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[r].loader;t&&t.destroy()}this.keyUriToKeyInfo={}},A.createKeyLoadError=function(r,t,e,n,i){return void 0===t&&(t=Ht.KEY_LOAD_ERROR),new qe({type:Ve.NETWORK_ERROR,details:t,fatal:!1,frag:r,response:i,error:e,networkDetails:n})},A.loadClear=function(r,t,e){var n=this;if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(t.length)for(var i,a=function(){var f=t[o];if(r.cc<=f.cc&&(!Cn(r)||!Cn(f)||r.sn<f.sn)||!e&&o==l-1)return{v:n.emeController.selectKeySystemFormat(f).then(function(m){if(n.emeController){f.setKeyFormat(m);var v=PA(m);return v?n.emeController.getKeySystemAccess([v]):void 0}})}},o=0,l=t.length;o<l;o++)if(i=a())return i.v;if(this.config.requireKeySystemAccessOnStart){var c=qi(this.config);if(c.length)return this.emeController.getKeySystemAccess(c)}}return null},A.load=function(r){var t=this;return!r.decryptdata&&r.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(r).then(function(e){return t.loadInternal(r,e)}):this.loadInternal(r)},A.loadInternal=function(r,t){var e,n;t&&r.setKeyFormat(t);var i=r.decryptdata;if(!i){var a=new Error(t?"Expected frag.decryptdata to be defined after setting format "+t:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(r,Ht.KEY_LOAD_ERROR,a))}var o=i.uri;if(!o)return Promise.reject(this.createKeyLoadError(r,Ht.KEY_LOAD_ERROR,new Error('Invalid key URI: "'+o+'"')));var l,c=this.keyUriToKeyInfo[o];if(null!=(e=c)&&e.decryptdata.key)return i.key=c.decryptdata.key,Promise.resolve({frag:r,keyInfo:c});if(null!=(n=c)&&n.keyLoadPromise)switch(null==(l=c.mediaKeySessionContext)?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return c.keyLoadPromise.then(function(f){return i.key=f.keyInfo.decryptdata.key,{frag:r,keyInfo:c}})}switch(c=this.keyUriToKeyInfo[o]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===i.keyFormat?this.loadKeyHTTP(c,r):this.loadKeyEME(c,r);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(c,r);default:return Promise.reject(this.createKeyLoadError(r,Ht.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'+i.method+'"')))}},A.loadKeyEME=function(r,t){var e={frag:t,keyInfo:r};if(this.emeController&&this.config.emeEnabled){var n=this.emeController.loadKey(e);if(n)return(r.keyLoadPromise=n.then(function(i){return r.mediaKeySessionContext=i,e})).catch(function(i){throw r.keyLoadPromise=null,i})}return Promise.resolve(e)},A.loadKeyHTTP=function(r,t){var e=this,n=this.config,i=new n.loader(n);return t.keyLoader=r.loader=i,r.keyLoadPromise=new Promise(function(a,o){var l={keyInfo:r,frag:t,responseType:"arraybuffer",url:r.decryptdata.uri},c=n.keyLoadPolicy.default;i.load(l,{loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:function(v,b,I,_){var Q=I.frag,j=I.keyInfo;if(!Q.decryptdata||j!==e.keyUriToKeyInfo[I.url])return o(e.createKeyLoadError(Q,Ht.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),_));j.decryptdata.key=Q.decryptdata.key=new Uint8Array(v.data),Q.keyLoader=null,j.loader=null,a({frag:Q,keyInfo:j})},onError:function(v,b,I,_){e.resetLoader(b),o(e.createKeyLoadError(t,Ht.KEY_LOAD_ERROR,new Error("HTTP Error "+v.code+" loading key "+v.text),I,tn({url:l.url,data:void 0},v)))},onTimeout:function(v,b,I){e.resetLoader(b),o(e.createKeyLoadError(t,Ht.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),I))},onAbort:function(v,b,I){e.resetLoader(b),o(e.createKeyLoadError(t,Ht.INTERNAL_ABORTED,new Error("key loading aborted"),I))}})})},A.resetLoader=function(r){var t=r.frag,e=r.keyInfo,n=r.url,i=e.loader;t.keyLoader===i&&(t.keyLoader=null,e.loader=null),delete this.keyUriToKeyInfo[n],i&&i.destroy()},s}();function xl(s){switch(s.type){case Fn:return $n;case pi:return Di;default:return Sr}}function fl(s,A){var r=s.url;return void 0!==r&&0!==r.indexOf("data:")||(r=A.url),r}var Xl=function(){function s(r){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=r,this.registerListeners()}var A=s.prototype;return A.startLoad=function(r){},A.stopLoad=function(){this.destroyInternalLoaders()},A.registerListeners=function(){var r=this.hls;r.on(D.MANIFEST_LOADING,this.onManifestLoading,this),r.on(D.LEVEL_LOADING,this.onLevelLoading,this),r.on(D.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),r.on(D.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),r.on(D.LEVELS_UPDATED,this.onLevelsUpdated,this)},A.unregisterListeners=function(){var r=this.hls;r.off(D.MANIFEST_LOADING,this.onManifestLoading,this),r.off(D.LEVEL_LOADING,this.onLevelLoading,this),r.off(D.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),r.off(D.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),r.off(D.LEVELS_UPDATED,this.onLevelsUpdated,this)},A.createInternalLoader=function(r){var t=this.hls.config,i=new(t.pLoader||t.loader)(t);return this.loaders[r.type]=i,i},A.getInternalLoader=function(r){return this.loaders[r.type]},A.resetInternalLoader=function(r){this.loaders[r]&&delete this.loaders[r]},A.destroyInternalLoaders=function(){for(var r in this.loaders){var t=this.loaders[r];t&&t.destroy(),this.resetInternalLoader(r)}},A.destroy=function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()},A.onManifestLoading=function(r,t){var e=t.url;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:gi,url:e,deliveryDirectives:null,levelOrTrack:null})},A.onLevelLoading=function(r,t){this.load({id:t.id,level:t.level,pathwayId:t.pathwayId,responseType:"text",type:Yn,url:t.url,deliveryDirectives:t.deliveryDirectives,levelOrTrack:t.levelInfo})},A.onAudioTrackLoading=function(r,t){this.load({id:t.id,groupId:t.groupId,level:null,responseType:"text",type:Fn,url:t.url,deliveryDirectives:t.deliveryDirectives,levelOrTrack:t.track})},A.onSubtitleTrackLoading=function(r,t){this.load({id:t.id,groupId:t.groupId,level:null,responseType:"text",type:pi,url:t.url,deliveryDirectives:t.deliveryDirectives,levelOrTrack:t.track})},A.onLevelsUpdated=function(r,t){var e=this.loaders[Yn];if(e){var n=e.context;n&&!t.levels.some(function(i){return i===n.levelOrTrack})&&(e.abort(),delete this.loaders[Yn])}},A.load=function(r){var t,e,n,i=this,a=this.hls.config,o=this.getInternalLoader(r);if(o){var l=this.hls.logger,c=o.context;if(c&&c.levelOrTrack===r.levelOrTrack&&(c.url===r.url||c.deliveryDirectives&&!r.deliveryDirectives))return void l.log(c.url===r.url?"[playlist-loader]: ignore "+r.url+" ongoing request":"[playlist-loader]: ignore "+r.url+" in favor of "+c.url);l.log("[playlist-loader]: aborting previous loader for type: "+r.type),o.abort()}if(e=r.type===gi?a.manifestLoadPolicy.default:Lr({},a.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(r),ke(null==(t=r.deliveryDirectives)?void 0:t.part)&&(r.type===Yn&&null!==r.level?n=this.hls.levels[r.level].details:r.type===Fn&&null!==r.id?n=this.hls.audioTracks[r.id].details:r.type===pi&&null!==r.id&&(n=this.hls.subtitleTracks[r.id].details),n)){var f=n.partTarget,m=n.targetduration;if(f&&m){var v=1e3*Math.max(3*f,.8*m);e=Lr({},e,{maxTimeToFirstByteMs:Math.min(v,e.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(v,e.maxTimeToFirstByteMs)})}}var b=e.errorRetry||e.timeoutRetry||{};o.load(r,{loadPolicy:e,timeout:e.maxLoadTimeMs,maxRetry:b.maxNumRetry||0,retryDelay:b.retryDelayMs||0,maxRetryDelay:b.maxRetryDelayMs||0},{onSuccess:function(Q,j,At,yt){var Ot=i.getInternalLoader(At);i.resetInternalLoader(At.type);var Ft=Q.data;0===Ft.indexOf("#EXTM3U")?(j.parsing.start=performance.now(),Ct.isMediaPlaylist(Ft)||At.type!==gi?i.handleTrackOrLevelPlaylist(Q,j,At,yt||null,Ot):i.handleMasterPlaylist(Q,j,At,yt)):i.handleManifestParsingError(Q,At,new Error("no EXTM3U delimiter"),yt||null,j)},onError:function(Q,j,At,yt){i.handleNetworkError(j,At,!1,Q,yt)},onTimeout:function(Q,j,At){i.handleNetworkError(j,At,!0,void 0,Q)}})},A.checkAutostartLoad=function(){if(this.hls){var r=this.hls,t=r.config,e=t.autoStartLoad,n=t.startPosition;(e||r.forceStartLoad)&&(this.hls.logger.log((e?"auto":"force")+" startLoad with configured startPosition "+n),this.hls.startLoad(n))}},A.handleMasterPlaylist=function(r,t,e,n){var i=this.hls,a=r.data,o=fl(r,e),l=Ct.parseMasterPlaylist(a,o);if(l.playlistParsingError)this.handleManifestParsingError(r,e,l.playlistParsingError,n,t);else{var c=l.contentSteering,f=l.levels,m=l.sessionData,v=l.sessionKeys,b=l.startTimeOffset,I=l.variableList;this.variableList=I;var _=Ct.parseMasterPlaylistMedia(a,o,l),Q=_.AUDIO,j=void 0===Q?[]:Q,At=_.SUBTITLES,yt=_["CLOSED-CAPTIONS"];j.length&&(j.some(function(Ot){return!Ot.url})||!f[0].audioCodec||f[0].attrs.AUDIO||(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),j.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new se({}),bitrate:0,url:""}))),i.trigger(D.MANIFEST_LOADED,{levels:f,audioTracks:j,subtitles:At,captions:yt,contentSteering:c,url:o,stats:t,networkDetails:n,sessionData:m,sessionKeys:v,startTimeOffset:b,variableList:I})}},A.handleTrackOrLevelPlaylist=function(r,t,e,n,i){var a=this.hls,o=e.id,l=e.level,c=e.type,f=fl(r,e),m=ke(l)?l:ke(o)?o:0,v=xl(e),b=Ct.parseLevelPlaylist(r.data,f,m,v,0,this.variableList);if(c===gi){var I={attrs:new se({}),bitrate:0,details:b,name:"",url:f};b.requestScheduled=t.loading.start+uA(b,0),a.trigger(D.MANIFEST_LOADED,{levels:[I],audioTracks:[],url:f,stats:t,networkDetails:n,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),e.levelDetails=b,this.handlePlaylistLoaded(b,r,t,e,n,i)},A.handleManifestParsingError=function(r,t,e,n,i){this.hls.trigger(D.ERROR,{type:Ve.NETWORK_ERROR,details:Ht.MANIFEST_PARSING_ERROR,fatal:t.type===gi,url:r.url,err:e,error:e,reason:e.message,response:r,context:t,networkDetails:n,stats:i})},A.handleNetworkError=function(r,t,e,n,i){void 0===e&&(e=!1);var a="A network "+(e?"timeout":"error"+(n?" (status "+n.code+")":""))+" occurred while loading "+r.type;r.type===Yn?a+=": "+r.level+" id: "+r.id:r.type!==Fn&&r.type!==pi||(a+=" id: "+r.id+' group-id: "'+r.groupId+'"');var o=new Error(a);this.hls.logger.warn("[playlist-loader]: "+a);var l=Ht.UNKNOWN,c=!1,f=this.getInternalLoader(r);switch(r.type){case gi:l=e?Ht.MANIFEST_LOAD_TIMEOUT:Ht.MANIFEST_LOAD_ERROR,c=!0;break;case Yn:l=e?Ht.LEVEL_LOAD_TIMEOUT:Ht.LEVEL_LOAD_ERROR,c=!1;break;case Fn:l=e?Ht.AUDIO_TRACK_LOAD_TIMEOUT:Ht.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case pi:l=e?Ht.SUBTITLE_TRACK_LOAD_TIMEOUT:Ht.SUBTITLE_LOAD_ERROR,c=!1}f&&this.resetInternalLoader(r.type);var m={type:Ve.NETWORK_ERROR,details:l,fatal:c,url:r.url,loader:f,context:r,error:o,networkDetails:t,stats:i};n&&(m.response=tn({url:t?.url||r.url,data:void 0},n)),this.hls.trigger(D.ERROR,m)},A.handlePlaylistLoaded=function(r,t,e,n,i,a){var o=this.hls,l=n.type,c=n.level,f=n.id,m=n.groupId,v=n.deliveryDirectives,b=fl(t,n),I=xl(n),_="number"==typeof n.level&&I===Sr?c:void 0;if(r.fragments.length){r.targetduration||(r.playlistParsingError=new Error("Missing Target Duration"));var Q=r.playlistParsingError;if(Q){if(this.hls.logger.warn(Q+" "+r.url),!o.config.ignorePlaylistParsingErrors)return void o.trigger(D.ERROR,{type:Ve.NETWORK_ERROR,details:Ht.LEVEL_PARSING_ERROR,fatal:!1,url:b,error:Q,reason:Q.message,response:t,context:n,level:_,parent:I,networkDetails:i,stats:e});r.playlistParsingError=null}switch(r.live&&a&&(a.getCacheAge&&(r.ageHeader=a.getCacheAge()||0),a.getCacheAge&&!isNaN(r.ageHeader)||(r.ageHeader=0)),l){case gi:case Yn:o.trigger(D.LEVEL_LOADED,{details:r,levelInfo:n.levelOrTrack||o.levels[0],level:_||0,id:f||0,stats:e,networkDetails:i,deliveryDirectives:v,withoutMultiVariant:l===gi});break;case Fn:o.trigger(D.AUDIO_TRACK_LOADED,{details:r,track:n.levelOrTrack,id:f||0,groupId:m||"",stats:e,networkDetails:i,deliveryDirectives:v});break;case pi:o.trigger(D.SUBTITLE_TRACK_LOADED,{details:r,track:n.levelOrTrack,id:f||0,groupId:m||"",stats:e,networkDetails:i,deliveryDirectives:v})}}else{var j=r.playlistParsingError=new Error("No Segments found in Playlist");o.trigger(D.ERROR,{type:Ve.NETWORK_ERROR,details:Ht.LEVEL_EMPTY_ERROR,fatal:!1,url:b,error:j,reason:j.message,response:t,context:n,level:_,parent:I,networkDetails:i,stats:e})}},s}(),_l=function(){function s(r){void 0===r&&(r={}),this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new zi,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;var t=this.logger=ur(r.debug||!1,"Hls instance",r.assetPlayerId),e=this.config=function(Re,Ze,Ge){if((Ze.liveSyncDurationCount||Ze.liveMaxLatencyDurationCount)&&(Ze.liveSyncDuration||Ze.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==Ze.liveMaxLatencyDurationCount&&(void 0===Ze.liveSyncDurationCount||Ze.liveMaxLatencyDurationCount<=Ze.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==Ze.liveMaxLatencyDuration&&(void 0===Ze.liveSyncDuration||Ze.liveMaxLatencyDuration<=Ze.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var tr=cl(Re),Or=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(function(sr){var Cr=("level"===sr?"playlist":sr)+"LoadPolicy",an=void 0===Ze[Cr],gn=[];Or.forEach(function(qr){var si=sr+"Loading"+qr,In=Ze[si];if(void 0!==In&&an){gn.push(si);var Mr=tr[Cr].default;switch(Ze[Cr]={default:Mr},qr){case"TimeOut":Mr.maxLoadTimeMs=In,Mr.maxTimeToFirstByteMs=In;break;case"MaxRetry":Mr.errorRetry.maxNumRetry=In,Mr.timeoutRetry.maxNumRetry=In;break;case"RetryDelay":Mr.errorRetry.retryDelayMs=In,Mr.timeoutRetry.retryDelayMs=In;break;case"MaxRetryTimeout":Mr.errorRetry.maxRetryDelayMs=In,Mr.timeoutRetry.maxRetryDelayMs=In}}}),gn.length&&Ge.warn('hls.js config: "'+gn.join('", "')+'" setting(s) are deprecated, use "'+Cr+'": '+mt(Ze[Cr]))}),tn(tn({},tr),Ze)}(s.DefaultConfig,r,t);this.userConfig=r,e.progressive&&function Kl(s,A){var r=s.loader;r!==Cl&&r!==Ll?(A.log("[config]: Custom loader detected, cannot enable progressive streaming"),s.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(s.loader=Cl,s.progressive=!0,s.enableSoftwareAES=!0,A.log("[config]: Progressive streaming enabled, using FetchLoader"))}(e,t);var n=e.abrController,i=e.bufferController,a=e.capLevelController,l=e.fpsController,c=new(0,e.errorController)(this),f=this.abrController=new n(this),m=new ln(this),v=e.interstitialsController,b=v?this.interstitialsController=new v(this,s):null,I=this.bufferController=new i(this,m),_=this.capLevelController=new a(this),Q=new l(this),j=new Xl(this),At=e.contentSteeringController,yt=At?new At(this):null,Ot=this.levelController=new ql(this,yt),Ft=new jl(this),xt=new Yl(this.config),Wt=this.streamController=new Wl(this,m,xt),Pt=this.gapController=new Gl(this,m);_.setStreamController(Wt),Q.setStreamController(Wt);var Gt=[j,Ot,Wt];b&&Gt.splice(1,0,b),yt&&Gt.splice(1,0,yt),this.networkControllers=Gt;var he=[f,I,Pt,_,Q,Ft,m];this.audioTrackController=this.createController(e.audioTrackController,Gt);var ye=e.audioStreamController;ye&&Gt.push(this.audioStreamController=new ye(this,m,xt)),this.subtitleTrackController=this.createController(e.subtitleTrackController,Gt);var He=e.subtitleStreamController;He&&Gt.push(this.subtititleStreamController=new He(this,m,xt)),this.createController(e.timelineController,he),xt.emeController=this.emeController=this.createController(e.emeController,he),this.cmcdController=this.createController(e.cmcdController,he),this.latencyController=this.createController(Vl,he),this.coreComponents=he,Gt.push(c);var je=c.onErrorOut;"function"==typeof je&&this.on(D.ERROR,je,c),this.on(D.MANIFEST_LOADED,j.onManifestLoaded,j)}s.isMSESupported=function(){return Ul()},s.isSupported=function(){return function(){if(!Ul())return!1;var r=Gi();return"function"==typeof r?.isTypeSupported&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(function(t){return r.isTypeSupported(U(t,"video"))})||["mp4a.40.2","fLaC"].some(function(t){return r.isTypeSupported(U(t,"audio"))}))}()},s.getMediaSource=function(){return Gi()};var A=s.prototype;return A.createController=function(r,t){if(r){var e=new r(this);return t&&t.push(e),e}return null},A.on=function(r,t,e){void 0===e&&(e=this),this._emitter.on(r,t,e)},A.once=function(r,t,e){void 0===e&&(e=this),this._emitter.once(r,t,e)},A.removeAllListeners=function(r){this._emitter.removeAllListeners(r)},A.off=function(r,t,e,n){void 0===e&&(e=this),this._emitter.off(r,t,e,n)},A.listeners=function(r){return this._emitter.listeners(r)},A.emit=function(r,t,e){return this._emitter.emit(r,t,e)},A.trigger=function(r,t){if(this.config.debug)return this.emit(r,r,t);try{return this.emit(r,r,t)}catch(n){this.logger.error("An internal error happened while handling event "+r+'. Error message: "'+n.message+'". Here is a stacktrace:',n),this.triggeringException||(this.triggeringException=!0,this.trigger(D.ERROR,{type:Ve.OTHER_ERROR,details:Ht.INTERNAL_EXCEPTION,fatal:r===D.ERROR,event:r,error:n}),this.triggeringException=!1)}return!1},A.listenerCount=function(r){return this._emitter.listenerCount(r)},A.destroy=function(){this.logger.log("destroy"),this.trigger(D.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(function(t){return t.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(t){return t.destroy()}),this.coreComponents.length=0;var r=this.config;r.xhrSetup=r.fetchSetup=void 0,this.userConfig=null},A.attachMedia=function(r){if(!r||"media"in r&&!r.media){var t=new Error("attachMedia failed: invalid argument ("+r+")");this.trigger(D.ERROR,{type:Ve.OTHER_ERROR,details:Ht.ATTACH_MEDIA_ERROR,fatal:!0,error:t})}else{this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());var e="media"in r,n=e?r.media:r,i=e?r:{media:n};this._media=n,this.trigger(D.MEDIA_ATTACHING,i)}},A.detachMedia=function(){this.logger.log("detachMedia"),this.trigger(D.MEDIA_DETACHING,{}),this._media=null},A.transferMedia=function(){this._media=null;var r=this.bufferController.transferMedia();return this.trigger(D.MEDIA_DETACHING,{transferMedia:r}),r},A.loadSource=function(r){this.stopLoad();var t=this.media,e=this._url,n=this._url=pA.buildAbsoluteURL(self.location.href,r,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log("loadSource:"+n),t&&e&&(e!==n||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(D.MANIFEST_LOADING,{url:r})},A.startLoad=function(r,t){void 0===r&&(r=-1),this.logger.log("startLoad("+r+(t?", <skip seek to start>":"")+")"),this.started=!0,this.resumeBuffering();for(var e=0;e<this.networkControllers.length&&(this.networkControllers[e].startLoad(r,t),this.started&&this.networkControllers);e++);},A.stopLoad=function(){this.logger.log("stopLoad"),this.started=!1;for(var r=0;r<this.networkControllers.length&&(this.networkControllers[r].stopLoad(),!this.started&&this.networkControllers);r++);},A.resumeBuffering=function(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(function(r){r.resumeBuffering&&r.resumeBuffering()}))},A.pauseBuffering=function(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(function(r){r.pauseBuffering&&r.pauseBuffering()}))},A.swapAudioCodec=function(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},A.recoverMediaError=function(){this.logger.log("recoverMediaError");var r=this._media,t=r?.currentTime;this.detachMedia(),r&&(this.attachMedia(r),t&&this.startLoad(t))},A.removeLevel=function(r){this.levelController.removeLevel(r)},A.setAudioOption=function(r){var t;return(null==(t=this.audioTrackController)?void 0:t.setAudioOption(r))||null},A.setSubtitleOption=function(r){var t;return(null==(t=this.subtitleTrackController)?void 0:t.setSubtitleOption(r))||null},A.getMediaDecodingInfo=function(r,t){return void 0===t&&(t=this.allAudioTracks),ft(r,H(t),navigator.mediaCapabilities)},Xr(s,[{key:"url",get:function(){return this._url}},{key:"hasEnoughToStart",get:function(){return this.streamController.hasEnoughToStart}},{key:"startPosition",get:function(){return this.streamController.startPositionValue}},{key:"loadingEnabled",get:function(){return this.started}},{key:"bufferingEnabled",get:function(){return this.streamController.bufferingEnabled}},{key:"inFlightFragments",get:function(){var r,t=((r={})[Sr]=this.streamController.inFlightFrag,r);return this.audioStreamController&&(t[$n]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(t[Di]=this.subtititleStreamController.inFlightFrag),t}},{key:"sessionId",get:function(){var r=this._sessionId;return r||(r=this._sessionId=function(){try{return crypto.randomUUID()}catch{try{var t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf("/")+1)}catch{var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var l=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==o?l:3&l|8).toString(16)})}}}()),r}},{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"latestLevelDetails",get:function(){return this.streamController.getLevelDetails()||null}},{key:"loadLevelObj",get:function(){return this.levelController.loadLevelObj}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(r){this.logger.log("set currentLevel:"+r),this.levelController.manualLevel=r,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(r){this.logger.log("set nextLevel:"+r),this.levelController.manualLevel=r,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(r){this.logger.log("set loadLevel:"+r),this.levelController.manualLevel=r}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(r){this.levelController.nextLoadLevel=r}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(r){this.logger.log("set firstLevel:"+r),this.levelController.firstLevel=r}},{key:"startLevel",get:function(){var r=this.levelController.startLevel;return-1===r&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:r},set:function(r){this.logger.log("set startLevel:"+r),-1!==r&&(r=Math.max(r,this.minAutoLevel)),this.levelController.startLevel=r}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(r){var t=!!r;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(r){this._autoLevelCapping!==r&&(this.logger.log("set autoLevelCapping:"+r),this._autoLevelCapping=r,this.levelController.checkMaxAutoUpdated())}},{key:"bandwidthEstimate",get:function(){var r=this.abrController.bwEstimator;return r?r.getEstimate():NaN},set:function(r){this.abrController.resetEstimator(r)}},{key:"abrEwmaDefaultEstimate",get:function(){var r=this.abrController.bwEstimator;return r?r.defaultEstimate:NaN}},{key:"ttfbEstimate",get:function(){var r=this.abrController.bwEstimator;return r?r.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(r){(function(t){return Nt.indexOf(t)>-1})(r)&&this._maxHdcpLevel!==r&&(this._maxHdcpLevel=r,this.levelController.checkMaxAutoUpdated())}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var r=this.levels,t=this.config.minAutoBitrate;if(!r)return 0;for(var e=r.length,n=0;n<e;n++)if(r[n].maxBitrate>=t)return n;return 0}},{key:"maxAutoLevel",get:function(){var r,t=this.levels,e=this.autoLevelCapping,n=this.maxHdcpLevel;if(r=-1===e&&null!=t&&t.length?t.length-1:e,n)for(var i=r;i--;){var a=t[i].attrs["HDCP-LEVEL"];if(a&&a<=n)return i}return r}},{key:"firstAutoLevel",get:function(){return this.abrController.firstAutoLevel}},{key:"nextAutoLevel",get:function(){return this.abrController.nextAutoLevel},set:function(r){this.abrController.nextAutoLevel=r}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"maxBufferLength",get:function(){return this.streamController.maxBufferLength}},{key:"allAudioTracks",get:function(){var r=this.audioTrackController;return r?r.allAudioTracks:[]}},{key:"audioTracks",get:function(){var r=this.audioTrackController;return r?r.audioTracks:[]}},{key:"audioTrack",get:function(){var r=this.audioTrackController;return r?r.audioTrack:-1},set:function(r){var t=this.audioTrackController;t&&(t.audioTrack=r)}},{key:"allSubtitleTracks",get:function(){var r=this.subtitleTrackController;return r?r.allSubtitleTracks:[]}},{key:"subtitleTracks",get:function(){var r=this.subtitleTrackController;return r?r.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var r=this.subtitleTrackController;return r?r.subtitleTrack:-1},set:function(r){var t=this.subtitleTrackController;t&&(t.subtitleTrack=r)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var r=this.subtitleTrackController;return!!r&&r.subtitleDisplay},set:function(r){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=r)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(r){this.config.lowLatencyMode=r}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency},set:function(r){this.latencyController.targetLatency=r}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}},{key:"pathways",get:function(){return this.levelController.pathways}},{key:"pathwayPriority",get:function(){return this.levelController.pathwayPriority},set:function(r){this.levelController.pathwayPriority=r}},{key:"bufferedToEnd",get:function(){var r;return!(null==(r=this.bufferController)||!r.bufferedToEnd)}},{key:"interstitialsManager",get:function(){var r;return(null==(r=this.interstitialsController)?void 0:r.interstitialsManager)||null}}],[{key:"version",get:function(){return Zs}},{key:"Events",get:function(){return D}},{key:"MetadataSchema",get:function(){return nr}},{key:"ErrorTypes",get:function(){return Ve}},{key:"ErrorDetails",get:function(){return Ht}},{key:"DefaultConfig",get:function(){return s.defaultConfig?s.defaultConfig:Hl},set:function(r){s.defaultConfig=r}}])}();return _l.defaultConfig=void 0,_l},"object"==typeof exports&&typeof module<"u"?module.exports=Zr():"function"==typeof define&&define.amd?define(Zr):(mn=typeof globalThis<"u"?globalThis:mn||self).Hls=Zr()}(!1);